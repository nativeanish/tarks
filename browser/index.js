var vc=Object.defineProperty;var La=t=>{throw TypeError(t)};var wc=(t,e,r)=>e in t?vc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var F=(t,e,r)=>wc(t,typeof e!="symbol"?e+"":e,r),us=(t,e,r)=>e.has(t)||La("Cannot "+r);var y=(t,e,r)=>(us(t,e,"read from private field"),r?r.call(t):e.get(t)),he=(t,e,r)=>e.has(t)?La("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Y=(t,e,r,s)=>(us(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),H=(t,e,r)=>(us(t,e,"access private method"),r);var pi=(t,e,r,s)=>({set _(a){Y(t,e,a,r)},get _(){return y(t,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var bc={},_c=Object.create,Xs=Object.defineProperty,Ec=Object.getOwnPropertyDescriptor,mo=Object.getOwnPropertyNames,Sc=Object.getPrototypeOf,Ac=Object.prototype.hasOwnProperty,He=(t,e)=>function(){return e||(0,t[mo(t)[0]])((e={exports:{}}).exports,e),e.exports},yo=(t,e)=>{for(var r in e)Xs(t,r,{get:e[r],enumerable:!0})},Tc=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of mo(e))!Ac.call(t,a)&&a!==r&&Xs(t,a,{get:()=>e[a],enumerable:!(s=Ec(e,a))||s.enumerable});return t},Js=(t,e,r)=>(r=t!=null?_c(Sc(t)):{},Tc(Xs(r,"default",{value:t,enumerable:!0}),t)),xc=He({"node_modules/obliterator/iterator.js"(t,e){function r(s){if(typeof s!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=s}typeof Symbol<"u"&&(r.prototype[Symbol.iterator]=function(){return this}),r.of=function(){var s=arguments,a=s.length,c=0;return new r(function(){return c>=a?{done:!0}:{done:!1,value:s[c++]}})},r.empty=function(){var s=new r(function(){return{done:!0}});return s},r.fromSequence=function(s){var a=0,c=s.length;return new r(function(){return a>=c?{done:!0}:{done:!1,value:s[a++]}})},r.is=function(s){return s instanceof r?!0:typeof s=="object"&&s!==null&&typeof s.next=="function"},e.exports=r}}),kc=He({"node_modules/obliterator/support.js"(t){t.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",t.SYMBOL_SUPPORT=typeof Symbol<"u"}}),ea=He({"node_modules/obliterator/foreach.js"(t,e){var r=kc(),s=r.ARRAY_BUFFER_SUPPORT,a=r.SYMBOL_SUPPORT;e.exports=function(l,u){var f,p,b,w,_;if(!l)throw new Error("obliterator/forEach: invalid iterable.");if(typeof u!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(l)||s&&ArrayBuffer.isView(l)||typeof l=="string"||l.toString()==="[object Arguments]"){for(b=0,w=l.length;b<w;b++)u(l[b],b);return}if(typeof l.forEach=="function"){l.forEach(u);return}if(a&&Symbol.iterator in l&&typeof l.next!="function"&&(l=l[Symbol.iterator]()),typeof l.next=="function"){for(f=l,b=0;_=f.next(),_.done!==!0;)u(_.value,b),b++;return}for(p in l)l.hasOwnProperty(p)&&u(l[p],p)}}}),ta=He({"node_modules/mnemonist/utils/typed-arrays.js"(t){var e=Math.pow(2,8)-1,r=Math.pow(2,16)-1,s=Math.pow(2,32)-1,a=Math.pow(2,7)-1,c=Math.pow(2,15)-1,l=Math.pow(2,31)-1;t.getPointerArray=function(f){var p=f-1;if(p<=e)return Uint8Array;if(p<=r)return Uint16Array;if(p<=s)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},t.getSignedPointerArray=function(f){var p=f-1;return p<=a?Int8Array:p<=c?Int16Array:p<=l?Int32Array:Float64Array},t.getNumberType=function(f){return f===(f|0)?Math.sign(f)===-1?f<=127&&f>=-128?Int8Array:f<=32767&&f>=-32768?Int16Array:Int32Array:f<=255?Uint8Array:f<=65535?Uint16Array:Uint32Array:Float64Array};var u={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(f,p){var b=null,w=0,_,E,v,S,A;for(S=0,A=f.length;S<A;S++)v=p?p(f[S]):f[S],E=t.getNumberType(v),_=u[E.name],_>w&&(w=_,b=E);return b},t.isTypedArray=function(f){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(f)},t.concat=function(){var f=0,p,b,w;for(p=0,w=arguments.length;p<w;p++)f+=arguments[p].length;var _=new arguments[0].constructor(f);for(p=0,b=0;p<w;p++)_.set(arguments[p],b),b+=arguments[p].length;return _},t.indices=function(f){for(var p=t.getPointerArray(f),b=new p(f),w=0;w<f;w++)b[w]=w;return b}}}),vo=He({"node_modules/mnemonist/utils/iterables.js"(t){var e=ea(),r=ta();function s(u){return Array.isArray(u)||r.isTypedArray(u)}function a(u){if(typeof u.length=="number")return u.length;if(typeof u.size=="number")return u.size}function c(u){var f=a(u),p=typeof f=="number"?new Array(f):[],b=0;return e(u,function(w){p[b++]=w}),p}function l(u){var f=a(u),p=typeof f=="number"?r.getPointerArray(f):Array,b=typeof f=="number"?new Array(f):[],w=typeof f=="number"?new p(f):[],_=0;return e(u,function(E){b[_]=E,w[_]=_++}),[b,w]}t.isArrayLike=s,t.guessLength=a,t.toArray=c,t.toArrayWithIndices=l}}),Bc=He({"node_modules/mnemonist/lru-cache.js"(t,e){var r=xc(),s=ea(),a=ta(),c=vo();function l(u,f,p){if(arguments.length<2&&(p=u,u=null,f=null),this.capacity=p,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var b=a.getPointerArray(p);this.forward=new b(p),this.backward=new b(p),this.K=typeof u=="function"?new u(p):new Array(p),this.V=typeof f=="function"?new f(p):new Array(p),this.size=0,this.head=0,this.tail=0,this.items={}}l.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},l.prototype.splayOnTop=function(u){var f=this.head;if(this.head===u)return this;var p=this.backward[u],b=this.forward[u];return this.tail===u?this.tail=p:this.backward[b]=p,this.forward[p]=b,this.backward[f]=u,this.head=u,this.forward[u]=f,this},l.prototype.set=function(u,f){var p=this.items[u];if(typeof p<"u"){this.splayOnTop(p),this.V[p]=f;return}this.size<this.capacity?p=this.size++:(p=this.tail,this.tail=this.backward[p],delete this.items[this.K[p]]),this.items[u]=p,this.K[p]=u,this.V[p]=f,this.forward[p]=this.head,this.backward[this.head]=p,this.head=p},l.prototype.setpop=function(u,f){var p=null,b=null,w=this.items[u];return typeof w<"u"?(this.splayOnTop(w),p=this.V[w],this.V[w]=f,{evicted:!1,key:u,value:p}):(this.size<this.capacity?w=this.size++:(w=this.tail,this.tail=this.backward[w],p=this.V[w],b=this.K[w],delete this.items[b]),this.items[u]=w,this.K[w]=u,this.V[w]=f,this.forward[w]=this.head,this.backward[this.head]=w,this.head=w,b?{evicted:!0,key:b,value:p}:null)},l.prototype.has=function(u){return u in this.items},l.prototype.get=function(u){var f=this.items[u];if(!(typeof f>"u"))return this.splayOnTop(f),this.V[f]},l.prototype.peek=function(u){var f=this.items[u];if(!(typeof f>"u"))return this.V[f]},l.prototype.forEach=function(u,f){f=arguments.length>1?f:this;for(var p=0,b=this.size,w=this.head,_=this.K,E=this.V,v=this.forward;p<b;)u.call(f,E[w],_[w],this),w=v[w],p++},l.prototype.keys=function(){var u=0,f=this.size,p=this.head,b=this.K,w=this.forward;return new r(function(){if(u>=f)return{done:!0};var _=b[p];return u++,u<f&&(p=w[p]),{done:!1,value:_}})},l.prototype.values=function(){var u=0,f=this.size,p=this.head,b=this.V,w=this.forward;return new r(function(){if(u>=f)return{done:!0};var _=b[p];return u++,u<f&&(p=w[p]),{done:!1,value:_}})},l.prototype.entries=function(){var u=0,f=this.size,p=this.head,b=this.K,w=this.V,_=this.forward;return new r(function(){if(u>=f)return{done:!0};var E=b[p],v=w[p];return u++,u<f&&(p=_[p]),{done:!1,value:[E,v]}})},typeof Symbol<"u"&&(l.prototype[Symbol.iterator]=l.prototype.entries),l.prototype.inspect=function(){for(var u=new Map,f=this.entries(),p;p=f.next(),!p.done;)u.set(p.value[0],p.value[1]);return Object.defineProperty(u,"constructor",{value:l,enumerable:!1}),u},typeof Symbol<"u"&&(l.prototype[Symbol.for("nodejs.util.inspect.custom")]=l.prototype.inspect),l.from=function(u,f,p,b){if(arguments.length<2){if(b=c.guessLength(u),typeof b!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(b=f,f=null,p=null);var w=new l(f,p,b);return s(u,function(_,E){w.set(E,_)}),w},e.exports=l}}),Oc=He({"node_modules/mnemonist/lru-map.js"(t,e){var r=Bc(),s=ea(),a=ta(),c=vo();function l(u,f,p){if(arguments.length<2&&(p=u,u=null,f=null),this.capacity=p,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-map: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-map: capacity should be a finite positive integer.");var b=a.getPointerArray(p);this.forward=new b(p),this.backward=new b(p),this.K=typeof u=="function"?new u(p):new Array(p),this.V=typeof f=="function"?new f(p):new Array(p),this.size=0,this.head=0,this.tail=0,this.items=new Map}l.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items.clear()},l.prototype.set=function(u,f){var p=this.items.get(u);if(typeof p<"u"){this.splayOnTop(p),this.V[p]=f;return}this.size<this.capacity?p=this.size++:(p=this.tail,this.tail=this.backward[p],this.items.delete(this.K[p])),this.items.set(u,p),this.K[p]=u,this.V[p]=f,this.forward[p]=this.head,this.backward[this.head]=p,this.head=p},l.prototype.setpop=function(u,f){var p=null,b=null,w=this.items.get(u);return typeof w<"u"?(this.splayOnTop(w),p=this.V[w],this.V[w]=f,{evicted:!1,key:u,value:p}):(this.size<this.capacity?w=this.size++:(w=this.tail,this.tail=this.backward[w],p=this.V[w],b=this.K[w],this.items.delete(b)),this.items.set(u,w),this.K[w]=u,this.V[w]=f,this.forward[w]=this.head,this.backward[this.head]=w,this.head=w,b?{evicted:!0,key:b,value:p}:null)},l.prototype.has=function(u){return this.items.has(u)},l.prototype.get=function(u){var f=this.items.get(u);if(!(typeof f>"u"))return this.splayOnTop(f),this.V[f]},l.prototype.peek=function(u){var f=this.items.get(u);if(!(typeof f>"u"))return this.V[f]},l.prototype.splayOnTop=r.prototype.splayOnTop,l.prototype.forEach=r.prototype.forEach,l.prototype.keys=r.prototype.keys,l.prototype.values=r.prototype.values,l.prototype.entries=r.prototype.entries,typeof Symbol<"u"&&(l.prototype[Symbol.iterator]=l.prototype.entries),l.prototype.inspect=r.prototype.inspect,l.from=function(u,f,p,b){if(arguments.length<2){if(b=c.guessLength(u),typeof b!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(b=f,f=null,p=null);var w=new l(f,p,b);return s(u,function(_,E){w.set(E,_)}),w},e.exports=l}}),Ic=He({"node_modules/ms/index.js"(t,e){var r=1e3,s=r*60,a=s*60,c=a*24,l=c*7,u=c*365.25;e.exports=function(_,E){E=E||{};var v=typeof _;if(v==="string"&&_.length>0)return f(_);if(v==="number"&&isFinite(_))return E.long?b(_):p(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))};function f(_){if(_=String(_),!(_.length>100)){var E=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(E){var v=parseFloat(E[1]),S=(E[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return v*u;case"weeks":case"week":case"w":return v*l;case"days":case"day":case"d":return v*c;case"hours":case"hour":case"hrs":case"hr":case"h":return v*a;case"minutes":case"minute":case"mins":case"min":case"m":return v*s;case"seconds":case"second":case"secs":case"sec":case"s":return v*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function p(_){var E=Math.abs(_);return E>=c?Math.round(_/c)+"d":E>=a?Math.round(_/a)+"h":E>=s?Math.round(_/s)+"m":E>=r?Math.round(_/r)+"s":_+"ms"}function b(_){var E=Math.abs(_);return E>=c?w(_,E,c,"day"):E>=a?w(_,E,a,"hour"):E>=s?w(_,E,s,"minute"):E>=r?w(_,E,r,"second"):_+" ms"}function w(_,E,v,S){var A=E>=v*1.5;return Math.round(_/v)+" "+S+(A?"s":"")}}}),Rc=He({"node_modules/debug/src/common.js"(t,e){function r(s){c.debug=c,c.default=c,c.coerce=w,c.disable=f,c.enable=u,c.enabled=p,c.humanize=Ic(),c.destroy=_,Object.keys(s).forEach(E=>{c[E]=s[E]}),c.names=[],c.skips=[],c.formatters={};function a(E){let v=0;for(let S=0;S<E.length;S++)v=(v<<5)-v+E.charCodeAt(S),v|=0;return c.colors[Math.abs(v)%c.colors.length]}c.selectColor=a;function c(E){let v,S=null,A,x;function C(...B){if(!C.enabled)return;const L=C,z=Number(new Date),V=z-(v||z);L.diff=V,L.prev=v,L.curr=z,v=z,B[0]=c.coerce(B[0]),typeof B[0]!="string"&&B.unshift("%O");let _e=0;B[0]=B[0].replace(/%([a-zA-Z%])/g,(Ye,lr)=>{if(Ye==="%%")return"%";_e++;const Pt=c.formatters[lr];if(typeof Pt=="function"){const hr=B[_e];Ye=Pt.call(L,hr),B.splice(_e,1),_e--}return Ye}),c.formatArgs.call(L,B),(L.log||c.log).apply(L,B)}return C.namespace=E,C.useColors=c.useColors(),C.color=c.selectColor(E),C.extend=l,C.destroy=c.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(A!==c.namespaces&&(A=c.namespaces,x=c.enabled(E)),x),set:B=>{S=B}}),typeof c.init=="function"&&c.init(C),C}function l(E,v){const S=c(this.namespace+(typeof v>"u"?":":v)+E);return S.log=this.log,S}function u(E){c.save(E),c.namespaces=E,c.names=[],c.skips=[];let v;const S=(typeof E=="string"?E:"").split(/[\s,]+/),A=S.length;for(v=0;v<A;v++)S[v]&&(E=S[v].replace(/\*/g,".*?"),E[0]==="-"?c.skips.push(new RegExp("^"+E.slice(1)+"$")):c.names.push(new RegExp("^"+E+"$")))}function f(){const E=[...c.names.map(b),...c.skips.map(b).map(v=>"-"+v)].join(",");return c.enable(""),E}function p(E){if(E[E.length-1]==="*")return!0;let v,S;for(v=0,S=c.skips.length;v<S;v++)if(c.skips[v].test(E))return!1;for(v=0,S=c.names.length;v<S;v++)if(c.names[v].test(E))return!0;return!1}function b(E){return E.toString().substring(2,E.toString().length-2).replace(/\.\*\?$/,"*")}function w(E){return E instanceof Error?E.stack||E.message:E}function _(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return c.enable(c.load()),c}e.exports=r}}),Cc=He({"node_modules/debug/src/browser.js"(t,e){t.formatArgs=s,t.save=a,t.load=c,t.useColors=r,t.storage=l(),t.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let f;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(f=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(f[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;f.splice(1,0,p,"color: inherit");let b=0,w=0;f[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(b++,_==="%c"&&(w=b))}),f.splice(w,0,p)}t.log=console.debug||console.log||(()=>{});function a(f){try{f?t.storage.setItem("debug",f):t.storage.removeItem("debug")}catch{}}function c(){let f;try{f=t.storage.getItem("debug")}catch{}return!f&&typeof process<"u"&&"env"in process&&(f=bc.DEBUG),f}function l(){try{return localStorage}catch{}}e.exports=Rc()(t);var{formatters:u}=e.exports;u.j=function(f){try{return JSON.stringify(f)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}}}),Lc=He({"node_modules/base64-js/index.js"(t){t.byteLength=f,t.toByteArray=b,t.fromByteArray=E;var e=[],r=[],s=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(c=0,l=a.length;c<l;++c)e[c]=a[c],r[a.charCodeAt(c)]=c;var c,l;r[45]=62,r[95]=63;function u(v){var S=v.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=v.indexOf("=");A===-1&&(A=S);var x=A===S?0:4-A%4;return[A,x]}function f(v){var S=u(v),A=S[0],x=S[1];return(A+x)*3/4-x}function p(v,S,A){return(S+A)*3/4-A}function b(v){var S,A=u(v),x=A[0],C=A[1],B=new s(p(v,x,C)),L=0,z=C>0?x-4:x,V;for(V=0;V<z;V+=4)S=r[v.charCodeAt(V)]<<18|r[v.charCodeAt(V+1)]<<12|r[v.charCodeAt(V+2)]<<6|r[v.charCodeAt(V+3)],B[L++]=S>>16&255,B[L++]=S>>8&255,B[L++]=S&255;return C===2&&(S=r[v.charCodeAt(V)]<<2|r[v.charCodeAt(V+1)]>>4,B[L++]=S&255),C===1&&(S=r[v.charCodeAt(V)]<<10|r[v.charCodeAt(V+1)]<<4|r[v.charCodeAt(V+2)]>>2,B[L++]=S>>8&255,B[L++]=S&255),B}function w(v){return e[v>>18&63]+e[v>>12&63]+e[v>>6&63]+e[v&63]}function _(v,S,A){for(var x,C=[],B=S;B<A;B+=3)x=(v[B]<<16&16711680)+(v[B+1]<<8&65280)+(v[B+2]&255),C.push(w(x));return C.join("")}function E(v){for(var S,A=v.length,x=A%3,C=[],B=16383,L=0,z=A-x;L<z;L+=B)C.push(_(v,L,L+B>z?z:L+B));return x===1?(S=v[A-1],C.push(e[S>>2]+e[S<<4&63]+"==")):x===2&&(S=(v[A-2]<<8)+v[A-1],C.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),C.join("")}}}),Uc=He({"node_modules/ieee754/index.js"(t){t.read=function(e,r,s,a,c){var l,u,f=c*8-a-1,p=(1<<f)-1,b=p>>1,w=-7,_=s?c-1:0,E=s?-1:1,v=e[r+_];for(_+=E,l=v&(1<<-w)-1,v>>=-w,w+=f;w>0;l=l*256+e[r+_],_+=E,w-=8);for(u=l&(1<<-w)-1,l>>=-w,w+=a;w>0;u=u*256+e[r+_],_+=E,w-=8);if(l===0)l=1-b;else{if(l===p)return u?NaN:(v?-1:1)*(1/0);u=u+Math.pow(2,a),l=l-b}return(v?-1:1)*u*Math.pow(2,l-a)},t.write=function(e,r,s,a,c,l){var u,f,p,b=l*8-c-1,w=(1<<b)-1,_=w>>1,E=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=a?0:l-1,S=a?1:-1,A=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,u=w):(u=Math.floor(Math.log(r)/Math.LN2),r*(p=Math.pow(2,-u))<1&&(u--,p*=2),u+_>=1?r+=E/p:r+=E*Math.pow(2,1-_),r*p>=2&&(u++,p/=2),u+_>=w?(f=0,u=w):u+_>=1?(f=(r*p-1)*Math.pow(2,c),u=u+_):(f=r*Math.pow(2,_-1)*Math.pow(2,c),u=0));c>=8;e[s+v]=f&255,v+=S,f/=256,c-=8);for(u=u<<c|f,b+=c;b>0;e[s+v]=u&255,v+=S,u/=256,b-=8);e[s+v-S]|=A*128}}}),Mc=He({"node_modules/buffer/index.js"(t){var e=Lc(),r=Uc(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=c(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const n=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(n,i),n.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(n){if(n>a)throw new RangeError('The value "'+n+'" is invalid for option "size"');const i=new Uint8Array(n);return Object.setPrototypeOf(i,u.prototype),i}function u(n,i,o){if(typeof n=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(n)}return f(n,i,o)}u.poolSize=8192;function f(n,i,o){if(typeof n=="string")return _(n,i);if(ArrayBuffer.isView(n))return v(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(le(n,ArrayBuffer)||n&&le(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(le(n,SharedArrayBuffer)||n&&le(n.buffer,SharedArrayBuffer)))return S(n,i,o);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const h=n.valueOf&&n.valueOf();if(h!=null&&h!==n)return u.from(h,i,o);const d=A(n);if(d)return d;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return u.from(n[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}u.from=function(n,i,o){return f(n,i,o)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function b(n,i,o){return p(n),n<=0?l(n):i!==void 0?typeof o=="string"?l(n).fill(i,o):l(n).fill(i):l(n)}u.alloc=function(n,i,o){return b(n,i,o)};function w(n){return p(n),l(n<0?0:x(n)|0)}u.allocUnsafe=function(n){return w(n)},u.allocUnsafeSlow=function(n){return w(n)};function _(n,i){if((typeof i!="string"||i==="")&&(i="utf8"),!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const o=B(n,i)|0;let h=l(o);const d=h.write(n,i);return d!==o&&(h=h.slice(0,d)),h}function E(n){const i=n.length<0?0:x(n.length)|0,o=l(i);for(let h=0;h<i;h+=1)o[h]=n[h]&255;return o}function v(n){if(le(n,Uint8Array)){const i=new Uint8Array(n);return S(i.buffer,i.byteOffset,i.byteLength)}return E(n)}function S(n,i,o){if(i<0||n.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');let h;return i===void 0&&o===void 0?h=new Uint8Array(n):o===void 0?h=new Uint8Array(n,i):h=new Uint8Array(n,i,o),Object.setPrototypeOf(h,u.prototype),h}function A(n){if(u.isBuffer(n)){const i=x(n.length)|0,o=l(i);return o.length===0||n.copy(o,0,0,i),o}if(n.length!==void 0)return typeof n.length!="number"||nt(n.length)?l(0):E(n);if(n.type==="Buffer"&&Array.isArray(n.data))return E(n.data)}function x(n){if(n>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return n|0}function C(n){return+n!=n&&(n=0),u.alloc(+n)}u.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==u.prototype},u.compare=function(i,o){if(le(i,Uint8Array)&&(i=u.from(i,i.offset,i.byteLength)),le(o,Uint8Array)&&(o=u.from(o,o.offset,o.byteLength)),!u.isBuffer(i)||!u.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;let h=i.length,d=o.length;for(let g=0,m=Math.min(h,d);g<m;++g)if(i[g]!==o[g]){h=i[g],d=o[g];break}return h<d?-1:d<h?1:0},u.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return u.alloc(0);let h;if(o===void 0)for(o=0,h=0;h<i.length;++h)o+=i[h].length;const d=u.allocUnsafe(o);let g=0;for(h=0;h<i.length;++h){let m=i[h];if(le(m,Uint8Array))g+m.length>d.length?(u.isBuffer(m)||(m=u.from(m)),m.copy(d,g)):Uint8Array.prototype.set.call(d,m,g);else if(u.isBuffer(m))m.copy(d,g);else throw new TypeError('"list" argument must be an Array of Buffers');g+=m.length}return d};function B(n,i){if(u.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||le(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);const o=n.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&o===0)return 0;let d=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return rt(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return qt(n).length;default:if(d)return h?-1:rt(n).length;i=(""+i).toLowerCase(),d=!0}}u.byteLength=B;function L(n,i,o){let h=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(n||(n="utf8");;)switch(n){case"hex":return rn(this,i,o);case"utf8":case"utf-8":return jt(this,i,o);case"ascii":return en(this,i,o);case"latin1":case"binary":return tn(this,i,o);case"base64":return Xr(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nn(this,i,o);default:if(h)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),h=!0}}u.prototype._isBuffer=!0;function z(n,i,o){const h=n[i];n[i]=n[o],n[o]=h}u.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<i;o+=2)z(this,o,o+1);return this},u.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<i;o+=4)z(this,o,o+3),z(this,o+1,o+2);return this},u.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<i;o+=8)z(this,o,o+7),z(this,o+1,o+6),z(this,o+2,o+5),z(this,o+3,o+4);return this},u.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?jt(this,0,i):L.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(i){if(!u.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:u.compare(this,i)===0},u.prototype.inspect=function(){let i="";const o=t.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(i,o,h,d,g){if(le(i,Uint8Array)&&(i=u.from(i,i.offset,i.byteLength)),!u.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(o===void 0&&(o=0),h===void 0&&(h=i?i.length:0),d===void 0&&(d=0),g===void 0&&(g=this.length),o<0||h>i.length||d<0||g>this.length)throw new RangeError("out of range index");if(d>=g&&o>=h)return 0;if(d>=g)return-1;if(o>=h)return 1;if(o>>>=0,h>>>=0,d>>>=0,g>>>=0,this===i)return 0;let m=g-d,R=h-o;const W=Math.min(m,R),M=this.slice(d,g),U=i.slice(o,h);for(let j=0;j<W;++j)if(M[j]!==U[j]){m=M[j],R=U[j];break}return m<R?-1:R<m?1:0};function V(n,i,o,h,d){if(n.length===0)return-1;if(typeof o=="string"?(h=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,nt(o)&&(o=d?0:n.length-1),o<0&&(o=n.length+o),o>=n.length){if(d)return-1;o=n.length-1}else if(o<0)if(d)o=0;else return-1;if(typeof i=="string"&&(i=u.from(i,h)),u.isBuffer(i))return i.length===0?-1:_e(n,i,o,h,d);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?d?Uint8Array.prototype.indexOf.call(n,i,o):Uint8Array.prototype.lastIndexOf.call(n,i,o):_e(n,[i],o,h,d);throw new TypeError("val must be string, number or Buffer")}function _e(n,i,o,h,d){let g=1,m=n.length,R=i.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(n.length<2||i.length<2)return-1;g=2,m/=2,R/=2,o/=2}function W(U,j){return g===1?U[j]:U.readUInt16BE(j*g)}let M;if(d){let U=-1;for(M=o;M<m;M++)if(W(n,M)===W(i,U===-1?0:M-U)){if(U===-1&&(U=M),M-U+1===R)return U*g}else U!==-1&&(M-=M-U),U=-1}else for(o+R>m&&(o=m-R),M=o;M>=0;M--){let U=!0;for(let j=0;j<R;j++)if(W(n,M+j)!==W(i,j)){U=!1;break}if(U)return M}return-1}u.prototype.includes=function(i,o,h){return this.indexOf(i,o,h)!==-1},u.prototype.indexOf=function(i,o,h){return V(this,i,o,h,!0)},u.prototype.lastIndexOf=function(i,o,h){return V(this,i,o,h,!1)};function et(n,i,o,h){o=Number(o)||0;const d=n.length-o;h?(h=Number(h),h>d&&(h=d)):h=d;const g=i.length;h>g/2&&(h=g/2);let m;for(m=0;m<h;++m){const R=parseInt(i.substr(m*2,2),16);if(nt(R))return m;n[o+m]=R}return m}function Ye(n,i,o,h){return Fe(rt(i,n.length-o),n,o,h)}function lr(n,i,o,h){return Fe(un(i),n,o,h)}function Pt(n,i,o,h){return Fe(qt(i),n,o,h)}function hr(n,i,o,h){return Fe(cn(i,n.length-o),n,o,h)}u.prototype.write=function(i,o,h,d){if(o===void 0)d="utf8",h=this.length,o=0;else if(h===void 0&&typeof o=="string")d=o,h=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(h)?(h=h>>>0,d===void 0&&(d="utf8")):(d=h,h=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const g=this.length-o;if((h===void 0||h>g)&&(h=g),i.length>0&&(h<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");let m=!1;for(;;)switch(d){case"hex":return et(this,i,o,h);case"utf8":case"utf-8":return Ye(this,i,o,h);case"ascii":case"latin1":case"binary":return lr(this,i,o,h);case"base64":return Pt(this,i,o,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hr(this,i,o,h);default:if(m)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),m=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Xr(n,i,o){return i===0&&o===n.length?e.fromByteArray(n):e.fromByteArray(n.slice(i,o))}function jt(n,i,o){o=Math.min(n.length,o);const h=[];let d=i;for(;d<o;){const g=n[d];let m=null,R=g>239?4:g>223?3:g>191?2:1;if(d+R<=o){let W,M,U,j;switch(R){case 1:g<128&&(m=g);break;case 2:W=n[d+1],(W&192)===128&&(j=(g&31)<<6|W&63,j>127&&(m=j));break;case 3:W=n[d+1],M=n[d+2],(W&192)===128&&(M&192)===128&&(j=(g&15)<<12|(W&63)<<6|M&63,j>2047&&(j<55296||j>57343)&&(m=j));break;case 4:W=n[d+1],M=n[d+2],U=n[d+3],(W&192)===128&&(M&192)===128&&(U&192)===128&&(j=(g&15)<<18|(W&63)<<12|(M&63)<<6|U&63,j>65535&&j<1114112&&(m=j))}}m===null?(m=65533,R=1):m>65535&&(m-=65536,h.push(m>>>10&1023|55296),m=56320|m&1023),h.push(m),d+=R}return Jr(h)}var Ft=4096;function Jr(n){const i=n.length;if(i<=Ft)return String.fromCharCode.apply(String,n);let o="",h=0;for(;h<i;)o+=String.fromCharCode.apply(String,n.slice(h,h+=Ft));return o}function en(n,i,o){let h="";o=Math.min(n.length,o);for(let d=i;d<o;++d)h+=String.fromCharCode(n[d]&127);return h}function tn(n,i,o){let h="";o=Math.min(n.length,o);for(let d=i;d<o;++d)h+=String.fromCharCode(n[d]);return h}function rn(n,i,o){const h=n.length;(!i||i<0)&&(i=0),(!o||o<0||o>h)&&(o=h);let d="";for(let g=i;g<o;++g)d+=ln[n[g]];return d}function nn(n,i,o){const h=n.slice(i,o);let d="";for(let g=0;g<h.length-1;g+=2)d+=String.fromCharCode(h[g]+h[g+1]*256);return d}u.prototype.slice=function(i,o){const h=this.length;i=~~i,o=o===void 0?h:~~o,i<0?(i+=h,i<0&&(i=0)):i>h&&(i=h),o<0?(o+=h,o<0&&(o=0)):o>h&&(o=h),o<i&&(o=i);const d=this.subarray(i,o);return Object.setPrototypeOf(d,u.prototype),d};function K(n,i,o){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+i>o)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(i,o,h){i=i>>>0,o=o>>>0,h||K(i,o,this.length);let d=this[i],g=1,m=0;for(;++m<o&&(g*=256);)d+=this[i+m]*g;return d},u.prototype.readUintBE=u.prototype.readUIntBE=function(i,o,h){i=i>>>0,o=o>>>0,h||K(i,o,this.length);let d=this[i+--o],g=1;for(;o>0&&(g*=256);)d+=this[i+--o]*g;return d},u.prototype.readUint8=u.prototype.readUInt8=function(i,o){return i=i>>>0,o||K(i,1,this.length),this[i]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(i,o){return i=i>>>0,o||K(i,2,this.length),this[i]|this[i+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(i,o){return i=i>>>0,o||K(i,2,this.length),this[i]<<8|this[i+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(i,o){return i=i>>>0,o||K(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(i,o){return i=i>>>0,o||K(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},u.prototype.readBigUInt64LE=ge(function(i){i=i>>>0,Ae(i,"offset");const o=this[i],h=this[i+7];(o===void 0||h===void 0)&&Re(i,this.length-8);const d=o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,g=this[++i]+this[++i]*2**8+this[++i]*2**16+h*2**24;return BigInt(d)+(BigInt(g)<<BigInt(32))}),u.prototype.readBigUInt64BE=ge(function(i){i=i>>>0,Ae(i,"offset");const o=this[i],h=this[i+7];(o===void 0||h===void 0)&&Re(i,this.length-8);const d=o*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],g=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+h;return(BigInt(d)<<BigInt(32))+BigInt(g)}),u.prototype.readIntLE=function(i,o,h){i=i>>>0,o=o>>>0,h||K(i,o,this.length);let d=this[i],g=1,m=0;for(;++m<o&&(g*=256);)d+=this[i+m]*g;return g*=128,d>=g&&(d-=Math.pow(2,8*o)),d},u.prototype.readIntBE=function(i,o,h){i=i>>>0,o=o>>>0,h||K(i,o,this.length);let d=o,g=1,m=this[i+--d];for(;d>0&&(g*=256);)m+=this[i+--d]*g;return g*=128,m>=g&&(m-=Math.pow(2,8*o)),m},u.prototype.readInt8=function(i,o){return i=i>>>0,o||K(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},u.prototype.readInt16LE=function(i,o){i=i>>>0,o||K(i,2,this.length);const h=this[i]|this[i+1]<<8;return h&32768?h|4294901760:h},u.prototype.readInt16BE=function(i,o){i=i>>>0,o||K(i,2,this.length);const h=this[i+1]|this[i]<<8;return h&32768?h|4294901760:h},u.prototype.readInt32LE=function(i,o){return i=i>>>0,o||K(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},u.prototype.readInt32BE=function(i,o){return i=i>>>0,o||K(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},u.prototype.readBigInt64LE=ge(function(i){i=i>>>0,Ae(i,"offset");const o=this[i],h=this[i+7];(o===void 0||h===void 0)&&Re(i,this.length-8);const d=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(h<<24);return(BigInt(d)<<BigInt(32))+BigInt(o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),u.prototype.readBigInt64BE=ge(function(i){i=i>>>0,Ae(i,"offset");const o=this[i],h=this[i+7];(o===void 0||h===void 0)&&Re(i,this.length-8);const d=(o<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(d)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+h)}),u.prototype.readFloatLE=function(i,o){return i=i>>>0,o||K(i,4,this.length),r.read(this,i,!0,23,4)},u.prototype.readFloatBE=function(i,o){return i=i>>>0,o||K(i,4,this.length),r.read(this,i,!1,23,4)},u.prototype.readDoubleLE=function(i,o){return i=i>>>0,o||K(i,8,this.length),r.read(this,i,!0,52,8)},u.prototype.readDoubleBE=function(i,o){return i=i>>>0,o||K(i,8,this.length),r.read(this,i,!1,52,8)};function te(n,i,o,h,d,g){if(!u.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>d||i<g)throw new RangeError('"value" argument is out of bounds');if(o+h>n.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(i,o,h,d){if(i=+i,o=o>>>0,h=h>>>0,!d){const R=Math.pow(2,8*h)-1;te(this,i,o,h,R,0)}let g=1,m=0;for(this[o]=i&255;++m<h&&(g*=256);)this[o+m]=i/g&255;return o+h},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(i,o,h,d){if(i=+i,o=o>>>0,h=h>>>0,!d){const R=Math.pow(2,8*h)-1;te(this,i,o,h,R,0)}let g=h-1,m=1;for(this[o+g]=i&255;--g>=0&&(m*=256);)this[o+g]=i/m&255;return o+h},u.prototype.writeUint8=u.prototype.writeUInt8=function(i,o,h){return i=+i,o=o>>>0,h||te(this,i,o,1,255,0),this[o]=i&255,o+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(i,o,h){return i=+i,o=o>>>0,h||te(this,i,o,2,65535,0),this[o]=i&255,this[o+1]=i>>>8,o+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(i,o,h){return i=+i,o=o>>>0,h||te(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=i&255,o+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(i,o,h){return i=+i,o=o>>>0,h||te(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255,o+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(i,o,h){return i=+i,o=o>>>0,h||te(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4};function $t(n,i,o,h,d){Gt(i,h,d,n,o,7);let g=Number(i&BigInt(4294967295));n[o++]=g,g=g>>8,n[o++]=g,g=g>>8,n[o++]=g,g=g>>8,n[o++]=g;let m=Number(i>>BigInt(32)&BigInt(4294967295));return n[o++]=m,m=m>>8,n[o++]=m,m=m>>8,n[o++]=m,m=m>>8,n[o++]=m,o}function Zt(n,i,o,h,d){Gt(i,h,d,n,o,7);let g=Number(i&BigInt(4294967295));n[o+7]=g,g=g>>8,n[o+6]=g,g=g>>8,n[o+5]=g,g=g>>8,n[o+4]=g;let m=Number(i>>BigInt(32)&BigInt(4294967295));return n[o+3]=m,m=m>>8,n[o+2]=m,m=m>>8,n[o+1]=m,m=m>>8,n[o]=m,o+8}u.prototype.writeBigUInt64LE=ge(function(i,o=0){return $t(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=ge(function(i,o=0){return Zt(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(i,o,h,d){if(i=+i,o=o>>>0,!d){const W=Math.pow(2,8*h-1);te(this,i,o,h,W-1,-W)}let g=0,m=1,R=0;for(this[o]=i&255;++g<h&&(m*=256);)i<0&&R===0&&this[o+g-1]!==0&&(R=1),this[o+g]=(i/m>>0)-R&255;return o+h},u.prototype.writeIntBE=function(i,o,h,d){if(i=+i,o=o>>>0,!d){const W=Math.pow(2,8*h-1);te(this,i,o,h,W-1,-W)}let g=h-1,m=1,R=0;for(this[o+g]=i&255;--g>=0&&(m*=256);)i<0&&R===0&&this[o+g+1]!==0&&(R=1),this[o+g]=(i/m>>0)-R&255;return o+h},u.prototype.writeInt8=function(i,o,h){return i=+i,o=o>>>0,h||te(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=i&255,o+1},u.prototype.writeInt16LE=function(i,o,h){return i=+i,o=o>>>0,h||te(this,i,o,2,32767,-32768),this[o]=i&255,this[o+1]=i>>>8,o+2},u.prototype.writeInt16BE=function(i,o,h){return i=+i,o=o>>>0,h||te(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=i&255,o+2},u.prototype.writeInt32LE=function(i,o,h){return i=+i,o=o>>>0,h||te(this,i,o,4,2147483647,-2147483648),this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},u.prototype.writeInt32BE=function(i,o,h){return i=+i,o=o>>>0,h||te(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4},u.prototype.writeBigInt64LE=ge(function(i,o=0){return $t(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=ge(function(i,o=0){return Zt(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Dt(n,i,o,h,d,g){if(o+h>n.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function zt(n,i,o,h,d){return i=+i,o=o>>>0,d||Dt(n,i,o,4),r.write(n,i,o,h,23,4),o+4}u.prototype.writeFloatLE=function(i,o,h){return zt(this,i,o,!0,h)},u.prototype.writeFloatBE=function(i,o,h){return zt(this,i,o,!1,h)};function Vt(n,i,o,h,d){return i=+i,o=o>>>0,d||Dt(n,i,o,8),r.write(n,i,o,h,52,8),o+8}u.prototype.writeDoubleLE=function(i,o,h){return Vt(this,i,o,!0,h)},u.prototype.writeDoubleBE=function(i,o,h){return Vt(this,i,o,!1,h)},u.prototype.copy=function(i,o,h,d){if(!u.isBuffer(i))throw new TypeError("argument should be a Buffer");if(h||(h=0),!d&&d!==0&&(d=this.length),o>=i.length&&(o=i.length),o||(o=0),d>0&&d<h&&(d=h),d===h||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),i.length-o<d-h&&(d=i.length-o+h);const g=d-h;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,h,d):Uint8Array.prototype.set.call(i,this.subarray(h,d),o),g},u.prototype.fill=function(i,o,h,d){if(typeof i=="string"){if(typeof o=="string"?(d=o,o=0,h=this.length):typeof h=="string"&&(d=h,h=this.length),d!==void 0&&typeof d!="string")throw new TypeError("encoding must be a string");if(typeof d=="string"&&!u.isEncoding(d))throw new TypeError("Unknown encoding: "+d);if(i.length===1){const m=i.charCodeAt(0);(d==="utf8"&&m<128||d==="latin1")&&(i=m)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(o<0||this.length<o||this.length<h)throw new RangeError("Out of range index");if(h<=o)return this;o=o>>>0,h=h===void 0?this.length:h>>>0,i||(i=0);let g;if(typeof i=="number")for(g=o;g<h;++g)this[g]=i;else{const m=u.isBuffer(i)?i:u.from(i,d),R=m.length;if(R===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(g=0;g<h-o;++g)this[g+o]=m[g%R]}return this};var Se={};function tt(n,i,o){Se[n]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(d){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:d,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}tt("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),tt("ERR_INVALID_ARG_TYPE",function(n,i){return`The "${n}" argument must be of type number. Received type ${typeof i}`},TypeError),tt("ERR_OUT_OF_RANGE",function(n,i,o){let h=`The value of "${n}" is out of range.`,d=o;return Number.isInteger(o)&&Math.abs(o)>2**32?d=Wt(String(o)):typeof o=="bigint"&&(d=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(d=Wt(d)),d+="n"),h+=` It must be ${i}. Received ${d}`,h},RangeError);function Wt(n){let i="",o=n.length;const h=n[0]==="-"?1:0;for(;o>=h+4;o-=3)i=`_${n.slice(o-3,o)}${i}`;return`${n.slice(0,o)}${i}`}function sn(n,i,o){Ae(i,"offset"),(n[i]===void 0||n[i+o]===void 0)&&Re(i,n.length-(o+1))}function Gt(n,i,o,h,d,g){if(n>o||n<i){const m=typeof i=="bigint"?"n":"";let R;throw i===0||i===BigInt(0)?R=`>= 0${m} and < 2${m} ** ${(g+1)*8}${m}`:R=`>= -(2${m} ** ${(g+1)*8-1}${m}) and < 2 ** ${(g+1)*8-1}${m}`,new Se.ERR_OUT_OF_RANGE("value",R,n)}sn(h,d,g)}function Ae(n,i){if(typeof n!="number")throw new Se.ERR_INVALID_ARG_TYPE(i,"number",n)}function Re(n,i,o){throw Math.floor(n)!==n?(Ae(n,o),new Se.ERR_OUT_OF_RANGE("offset","an integer",n)):i<0?new Se.ERR_BUFFER_OUT_OF_BOUNDS:new Se.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${i}`,n)}var an=/[^+/0-9A-Za-z-_]/g;function on(n){if(n=n.split("=")[0],n=n.trim().replace(an,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function rt(n,i){i=i||1/0;let o;const h=n.length;let d=null;const g=[];for(let m=0;m<h;++m){if(o=n.charCodeAt(m),o>55295&&o<57344){if(!d){if(o>56319){(i-=3)>-1&&g.push(239,191,189);continue}else if(m+1===h){(i-=3)>-1&&g.push(239,191,189);continue}d=o;continue}if(o<56320){(i-=3)>-1&&g.push(239,191,189),d=o;continue}o=(d-55296<<10|o-56320)+65536}else d&&(i-=3)>-1&&g.push(239,191,189);if(d=null,o<128){if((i-=1)<0)break;g.push(o)}else if(o<2048){if((i-=2)<0)break;g.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;g.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;g.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return g}function un(n){const i=[];for(let o=0;o<n.length;++o)i.push(n.charCodeAt(o)&255);return i}function cn(n,i){let o,h,d;const g=[];for(let m=0;m<n.length&&!((i-=2)<0);++m)o=n.charCodeAt(m),h=o>>8,d=o%256,g.push(d),g.push(h);return g}function qt(n){return e.toByteArray(on(n))}function Fe(n,i,o,h){let d;for(d=0;d<h&&!(d+o>=i.length||d>=n.length);++d)i[d+o]=n[d];return d}function le(n,i){return n instanceof i||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===i.name}function nt(n){return n!==n}var ln=function(){const n="0123456789abcdef",i=new Array(256);for(let o=0;o<16;++o){const h=o*16;for(let d=0;d<16;++d)i[h+d]=n[o]+n[d]}return i}();function ge(n){return typeof BigInt>"u"?hn:n}function hn(){throw new Error("BigInt not supported")}}}),Nc={"@@functional/placeholder":!0};function ve(t){return t===Nc}function Ne(t){return function e(r){return arguments.length===0||ve(r)?e:t.apply(this,arguments)}}function Be(t){return function e(r,s){switch(arguments.length){case 0:return e;case 1:return ve(r)?e:Ne(function(a){return t(r,a)});default:return ve(r)&&ve(s)?e:ve(r)?Ne(function(a){return t(a,s)}):ve(s)?Ne(function(a){return t(r,a)}):t(r,s)}}}function Yi(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,s){return e.apply(this,arguments)};case 3:return function(r,s,a){return e.apply(this,arguments)};case 4:return function(r,s,a,c){return e.apply(this,arguments)};case 5:return function(r,s,a,c,l){return e.apply(this,arguments)};case 6:return function(r,s,a,c,l,u){return e.apply(this,arguments)};case 7:return function(r,s,a,c,l,u,f){return e.apply(this,arguments)};case 8:return function(r,s,a,c,l,u,f,p){return e.apply(this,arguments)};case 9:return function(r,s,a,c,l,u,f,p,b){return e.apply(this,arguments)};case 10:return function(r,s,a,c,l,u,f,p,b,w){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function wo(t,e,r){return function(){for(var s=[],a=0,c=t,l=0,u=!1;l<e.length||a<arguments.length;){var f;l<e.length&&(!ve(e[l])||a>=arguments.length)?f=e[l]:(f=arguments[a],a+=1),s[l]=f,ve(f)?u=!0:c-=1,l+=1}return!u&&c<=0?r.apply(this,s):Yi(Math.max(0,c),wo(t,s,r))}}var Pc=Be(function(t,e){return t===1?Ne(e):Yi(t,wo(t,[],e))}),bo=Pc;function ra(t){return function e(r,s,a){switch(arguments.length){case 0:return e;case 1:return ve(r)?e:Be(function(c,l){return t(r,c,l)});case 2:return ve(r)&&ve(s)?e:ve(r)?Be(function(c,l){return t(c,s,l)}):ve(s)?Be(function(c,l){return t(r,c,l)}):Ne(function(c){return t(r,s,c)});default:return ve(r)&&ve(s)&&ve(a)?e:ve(r)&&ve(s)?Be(function(c,l){return t(c,l,a)}):ve(r)&&ve(a)?Be(function(c,l){return t(c,s,l)}):ve(s)&&ve(a)?Be(function(c,l){return t(r,c,l)}):ve(r)?Ne(function(c){return t(c,s,a)}):ve(s)?Ne(function(c){return t(r,c,a)}):ve(a)?Ne(function(c){return t(r,s,c)}):t(r,s,a)}}}var na=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function jc(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function ia(t,e,r){return function(){if(arguments.length===0)return r();var s=arguments[arguments.length-1];if(!na(s)){for(var a=0;a<t.length;){if(typeof s[t[a]]=="function")return s[t[a]].apply(s,Array.prototype.slice.call(arguments,0,-1));a+=1}if(jc(s)){var c=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return c(s)}}return r.apply(this,arguments)}}function Fc(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var xn={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function Ua(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}function Ma(t,e,r){for(var s=0,a=r.length;s<a;){if(t(e,r[s]))return!0;s+=1}return!1}function $c(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function Ti(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function Zc(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var cs=typeof Object.is=="function"?Object.is:Zc,Na=Object.prototype.toString,Dc=function(){return Na.call(arguments)==="[object Arguments]"?function(t){return Na.call(t)==="[object Arguments]"}:function(t){return Ti("callee",t)}}(),zc=Dc,Vc=!{toString:null}.propertyIsEnumerable("toString"),Pa=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ja=function(){return arguments.propertyIsEnumerable("length")}(),Wc=function(t,e){for(var r=0;r<t.length;){if(t[r]===e)return!0;r+=1}return!1},Gc=Ne(typeof Object.keys=="function"&&!ja?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var e,r,s=[],a=ja&&zc(t);for(e in t)Ti(e,t)&&(!a||e!=="length")&&(s[s.length]=e);if(Vc)for(r=Pa.length-1;r>=0;)e=Pa[r],Ti(e,t)&&!Wc(s,e)&&(s[s.length]=e),r-=1;return s}),Pr=Gc,qc=Ne(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),Fa=qc;function $a(t,e,r,s){var a=Ua(t),c=Ua(e);function l(u,f){return sa(u,f,r.slice(),s.slice())}return!Ma(function(u,f){return!Ma(l,f,u)},c,a)}function sa(t,e,r,s){if(cs(t,e))return!0;var a=Fa(t);if(a!==Fa(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(a){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&$c(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&cs(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!cs(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var c=r.length-1;c>=0;){if(r[c]===t)return s[c]===e;c-=1}switch(a){case"Map":return t.size!==e.size?!1:$a(t.entries(),e.entries(),r.concat([t]),s.concat([e]));case"Set":return t.size!==e.size?!1:$a(t.values(),e.values(),r.concat([t]),s.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=Pr(t);if(l.length!==Pr(e).length)return!1;var u=r.concat([t]),f=s.concat([e]);for(c=l.length-1;c>=0;){var p=l[c];if(!(Ti(p,e)&&sa(e[p],t[p],u,f)))return!1;c-=1}return!0}var Kc=Be(function(t,e){return sa(t,e,[],[])}),_o=Kc;function Hc(t,e,r){var s,a;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(s=1/e;r<t.length;){if(a=t[r],a===0&&1/a===s)return r;r+=1}return-1}else if(e!==e){for(;r<t.length;){if(a=t[r],typeof a=="number"&&a!==a)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(e===null)return t.indexOf(e,r)}for(;r<t.length;){if(_o(t[r],e))return r;r+=1}return-1}function Yc(t,e){return Hc(e,t,0)>=0}function Sn(t,e){for(var r=0,s=e.length,a=Array(s);r<s;)a[r]=t(e[r]),r+=1;return a}function ls(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var fn=function(t){return(t<10?"0":"")+t},Qc=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+fn(t.getUTCMonth()+1)+"-"+fn(t.getUTCDate())+"T"+fn(t.getUTCHours())+":"+fn(t.getUTCMinutes())+":"+fn(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},Xc=Qc;function Jc(t){return function(){return!t.apply(this,arguments)}}function Eo(t,e,r){for(var s=0,a=r.length;s<a;)e=t(e,r[s]),s+=1;return e}function el(t,e){for(var r=0,s=e.length,a=[];r<s;)t(e[r])&&(a[a.length]=e[r]),r+=1;return a}function tl(t){return Object.prototype.toString.call(t)==="[object Object]"}var rl=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=xn.init,t.prototype["@@transducer/result"]=xn.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):e},t}();function nl(t){return function(e){return new rl(t,e)}}var il=Be(ia(["fantasy-land/filter","filter"],nl,function(t,e){return tl(e)?Eo(function(r,s){return t(e[s])&&(r[s]=e[s]),r},{},Pr(e)):el(t,e)})),sl=il,al=Be(function(t,e){return sl(Jc(t),e)}),ol=al;function So(t,e){var r=function(c){var l=e.concat([t]);return Yc(c,l)?"<Circular>":So(c,l)},s=function(c,l){return Sn(function(u){return ls(u)+": "+r(c[u])},l.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+Sn(r,t).join(", ")+"))";case"[object Array]":return"["+Sn(r,t).concat(s(t,ol(function(c){return/^\d+$/.test(c)},Pr(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):ls(Xc(t)))+")";case"[object Map]":return"new Map("+r(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+r(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+r(Array.from(t).sort())+")";case"[object String]":return typeof t=="object"?"new String("+r(t.valueOf())+")":ls(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var a=t.toString();if(a!=="[object Object]")return a}return"{"+s(t,Pr(t)).join(", ")+"}"}}var ul=Ne(function(t){return So(t,[])}),Za=ul,cl=Be(function(t,e){if(t===e)return e;function r(u,f){if(u>f!=f>u)return f>u?f:u}var s=r(t,e);if(s!==void 0)return s;var a=r(typeof t,typeof e);if(a!==void 0)return a===typeof t?t:e;var c=Za(t),l=r(c,Za(e));return l!==void 0&&l===c?t:e}),ll=cl,hl=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=xn.init,t.prototype["@@transducer/result"]=xn.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),fl=function(t){return function(e){return new hl(t,e)}},dl=fl,pl=Be(ia(["fantasy-land/map","map"],dl,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return bo(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return Eo(function(r,s){return r[s]=t(e[s]),r},{},Pr(e));default:return Sn(t,e)}})),gl=pl,Ao=Number.isInteger||function(t){return t<<0===t};function To(t){return Object.prototype.toString.call(t)==="[object String]"}function xo(t,e){var r=t<0?e.length+t:t;return To(e)?e.charAt(r):e[r]}var ml=Be(function(t,e){if(e!=null)return Ao(t)?xo(t,e):e[t]}),Qi=ml,yl=Be(function(t,e){return gl(Qi(t),e)}),vl=yl,wl=Ne(function(t){return na(t)?!0:!t||typeof t!="object"||To(t)?!1:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1}),bl=wl,Da=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function _l(t,e,r){return function(s,a,c){if(bl(c))return t(s,a,c);if(c==null)return a;if(typeof c["fantasy-land/reduce"]=="function")return e(s,a,c,"fantasy-land/reduce");if(c[Da]!=null)return r(s,a,c[Da]());if(typeof c.next=="function")return r(s,a,c);if(typeof c.reduce=="function")return e(s,a,c,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function El(t,e,r){for(var s=0,a=r.length;s<a;){if(e=t["@@transducer/step"](e,r[s]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}s+=1}return t["@@transducer/result"](e)}var Sl=Be(function(t,e){return Yi(t.length,function(){return t.apply(e,arguments)})}),Al=Sl;function Tl(t,e,r){for(var s=r.next();!s.done;){if(e=t["@@transducer/step"](e,s.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}s=r.next()}return t["@@transducer/result"](e)}function xl(t,e,r,s){return t["@@transducer/result"](r[s](Al(t["@@transducer/step"],t),e))}var kl=_l(El,xl,Tl),Bl=kl,Ol=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function Il(t){return new Ol(t)}var Rl=ra(function(t,e,r){return Bl(typeof t=="function"?Il(t):t,e,r)}),ko=Rl;function Cl(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function Bo(t,e){return function(){var r=arguments.length;if(r===0)return e();var s=arguments[r-1];return na(s)||typeof s[t]!="function"?e.apply(this,arguments):s[t].apply(s,Array.prototype.slice.call(arguments,0,r-1))}}var Ll=ra(Bo("slice",function(t,e,r){return Array.prototype.slice.call(r,t,e)})),Ul=Ll,Ml=Ne(Bo("tail",Ul(1,1/0))),Nl=Ml;function Oo(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Yi(arguments[0].length,ko(Cl,arguments[0],Nl(arguments)))}var Pl=Be(function(t,e){return bo(ko(ll,0,vl("length",e)),function(){var r=arguments,s=this;return t.apply(s,Sn(function(a){return a.apply(s,r)},e))})}),jl=Pl,Fl=Be(function(t,e){return e==null||e!==e?t:e}),ws=Fl,$l=function(){function t(e,r){this.xf=r,this.f=e,this.found=!1}return t.prototype["@@transducer/init"]=xn.init,t.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)&&(this.found=!0,e=Fc(this.xf["@@transducer/step"](e,r))),e},t}();function Zl(t){return function(e){return new $l(t,e)}}var Dl=Be(ia(["find"],Zl,function(t,e){for(var r=0,s=e.length;r<s;){if(t(e[r]))return e[r];r+=1}})),zl=Dl,Vl=Ne(function(t){return jl(function(){return Array.prototype.slice.call(arguments,0)},t)}),Wl=Vl;function Gl(t,e){for(var r=e,s=0;s<t.length;s+=1){if(r==null)return;var a=t[s];Ao(a)?r=xo(a,r):r=r[a]}return r}var ql=Be(Gl),Io=ql,Kl=ra(function(t,e,r){return _o(t,Qi(e,r))}),Hl=Kl,xi=class extends Error{constructor(){super(...arguments);F(this,"name","InvalidSchedulerLocation")}},Yl=class extends Error{constructor(){super(...arguments);F(this,"name","SchedulerTagNotFound")}},Ql=class extends Error{constructor(){super(...arguments);F(this,"name","TransactionNotFound")}};function aa(t=""){return t=t.trim(),t.endsWith("/")?aa(t.slice(0,-1)):t}var Xl=(t,{maxRetries:e=0,delay:r=300})=>{let s=(a,c)=>Promise.resolve().then(t).catch(l=>{if(a>=e)return Promise.reject(l);let u=a+1,f=c+c;return new Promise(p=>setTimeout(p,c)).then(()=>s(u,f))});return s(0,r)},Jl=t=>{if(t.ok)return t;throw t},eh="Url",th="Time-To-Live",rh="Scheduler",bs=t=>Oo(ws([]),zl(Hl(t,"name")),ws({}),Qi("value")),Ro=t=>Oo(e=>{if(!e)throw new Ql(t);return e},Qi("tags"),ws([]));function Co({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r=0,GRAPHQL_RETRY_BACKOFF:s=300}){return async({query:a,variables:c})=>Xl(()=>t(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:a,variables:c})}).then(Jl).then(l=>l.json()),{maxRetries:r,delay:s})}function nh({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r,GRAPHQL_RETRY_BACKOFF:s}){let a=Co({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r,GRAPHQL_RETRY_BACKOFF:s}),c=Lo({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r,GRAPHQL_RETRY_BACKOFF:s}),l=`
    query GetTransactions ($transactionIds: [ID!]!) {
      transactions(ids: $transactionIds) {
        edges {
          node {
            tags {
              name
              value
            }
          }
        }
      }
    }
  `,u="https://su-router.ao-testnet.xyz";return async f=>await t(`https://su-router.ao-testnet.xyz?process-id=${f}`).then(b=>b.ok?b.json().then(({address:w})=>({url:u,ttl:1728e5,address:w})):void 0)||a({query:l,variables:{transactionIds:[f]}}).then(Io(["data","transactions","edges","0","node"])).then(Ro(`Process ${f} was not found on gateway`)).then(bs(rh)).then(b=>{if(!b)throw new Yl('No "Scheduler" tag found on process');return c(b)})}function Lo({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r,GRAPHQL_RETRY_BACKOFF:s}){let a=Co({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r,GRAPHQL_RETRY_BACKOFF:s}),c=`
    query GetSchedulerLocation ($owner: String!) {
      transactions (
        owners: [$owner]
        tags: [
          { name: "Data-Protocol", values: ["ao"] },
          { name: "Type", values: ["Scheduler-Location"] }
        ]
        # Only need the most recent Scheduler-Location
        sort: HEIGHT_DESC
        first: 1
      ) {
        edges {
          node {
            tags {
              name
              value
            }
          }
        }
      }
    }
  `;return async l=>a({query:c,variables:{owner:l}}).then(Io(["data","transactions","edges","0","node"])).then(Ro(`Could not find 'Scheduler-Location' owner by wallet ${l}`)).then(Wl([bs(eh),bs(th)])).then(([u,f])=>{if(!u)throw new xi('No "Url" tag found on Scheduler-Location');if(!f)throw new xi('No "Time-To-Live" tag found on Scheduler-Location');return{url:u,ttl:f,address:l}})}var xr=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Uo=new Set,_s=typeof process=="object"&&process?process:{},Mo=(t,e,r,s)=>{typeof _s.emitWarning=="function"?_s.emitWarning(t,e,r,s):console.error(`[${r}] ${e}: ${t}`)},ki=globalThis.AbortController,za=globalThis.AbortSignal,fo;if(typeof ki>"u"){za=class{constructor(){F(this,"onabort");F(this,"_onabort",[]);F(this,"reason");F(this,"aborted",!1)}addEventListener(r,s){this._onabort.push(s)}},ki=class{constructor(){F(this,"signal",new za);e()}abort(r){var s,a;if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(let c of this.signal._onabort)c(r);(a=(s=this.signal).onabort)==null||a.call(s,r)}}};let t=((fo=_s.env)==null?void 0:fo.LRU_CACHE_IGNORE_AC_WARNING)!=="1",e=()=>{t&&(t=!1,Mo("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var ih=t=>!Uo.has(t),Yt=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),No=t=>Yt(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?yi:null:null,yi=class extends Array{constructor(t){super(t),this.fill(0)}},_t,Lr,sh=(_t=class{constructor(e,r){F(this,"heap");F(this,"length");if(!y(_t,Lr))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}static create(e){let r=No(e);if(!r)return[];Y(_t,Lr,!0);let s=new _t(e,r);return Y(_t,Lr,!1),s}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},Lr=new WeakMap,he(_t,Lr,!1),_t),po,go,at,Ve,ot,ut,Ur,ke,ct,Te,ye,re,Ue,We,Ce,Oe,lt,Ie,ht,ft,Ge,dt,nr,Me,D,Es,dr,Bt,oi,qe,Po,pr,Mr,ui,Qt,Xt,Ss,vi,wi,me,As,gn,Nr,ah=(Nr=class{constructor(e){he(this,D);he(this,at);he(this,Ve);he(this,ot);he(this,ut);he(this,Ur);F(this,"ttl");F(this,"ttlResolution");F(this,"ttlAutopurge");F(this,"updateAgeOnGet");F(this,"updateAgeOnHas");F(this,"allowStale");F(this,"noDisposeOnSet");F(this,"noUpdateTTL");F(this,"maxEntrySize");F(this,"sizeCalculation");F(this,"noDeleteOnFetchRejection");F(this,"noDeleteOnStaleGet");F(this,"allowStaleOnFetchAbort");F(this,"allowStaleOnFetchRejection");F(this,"ignoreFetchAbort");he(this,ke);he(this,ct);he(this,Te);he(this,ye);he(this,re);he(this,Ue);he(this,We);he(this,Ce);he(this,Oe);he(this,lt);he(this,Ie);he(this,ht);he(this,ft);he(this,Ge);he(this,dt);he(this,nr);he(this,Me);he(this,dr,()=>{});he(this,Bt,()=>{});he(this,oi,()=>{});he(this,qe,()=>!1);he(this,pr,e=>{});he(this,Mr,(e,r,s)=>{});he(this,ui,(e,r,s,a)=>{if(s||a)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});F(this,po,"LRUCache");let{max:r=0,ttl:s,ttlResolution:a=1,ttlAutopurge:c,updateAgeOnGet:l,updateAgeOnHas:u,allowStale:f,dispose:p,disposeAfter:b,noDisposeOnSet:w,noUpdateTTL:_,maxSize:E=0,maxEntrySize:v=0,sizeCalculation:S,fetchMethod:A,noDeleteOnFetchRejection:x,noDeleteOnStaleGet:C,allowStaleOnFetchRejection:B,allowStaleOnFetchAbort:L,ignoreFetchAbort:z}=e;if(r!==0&&!Yt(r))throw new TypeError("max option must be a nonnegative integer");let V=r?No(r):Array;if(!V)throw new Error("invalid max value: "+r);if(Y(this,at,r),Y(this,Ve,E),this.maxEntrySize=v||y(this,Ve),this.sizeCalculation=S,this.sizeCalculation){if(!y(this,Ve)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(A!==void 0&&typeof A!="function")throw new TypeError("fetchMethod must be a function if specified");if(Y(this,Ur,A),Y(this,nr,!!A),Y(this,Te,new Map),Y(this,ye,new Array(r).fill(void 0)),Y(this,re,new Array(r).fill(void 0)),Y(this,Ue,new V(r)),Y(this,We,new V(r)),Y(this,Ce,0),Y(this,Oe,0),Y(this,lt,sh.create(r)),Y(this,ke,0),Y(this,ct,0),typeof p=="function"&&Y(this,ot,p),typeof b=="function"?(Y(this,ut,b),Y(this,Ie,[])):(Y(this,ut,void 0),Y(this,Ie,void 0)),Y(this,dt,!!y(this,ot)),Y(this,Me,!!y(this,ut)),this.noDisposeOnSet=!!w,this.noUpdateTTL=!!_,this.noDeleteOnFetchRejection=!!x,this.allowStaleOnFetchRejection=!!B,this.allowStaleOnFetchAbort=!!L,this.ignoreFetchAbort=!!z,this.maxEntrySize!==0){if(y(this,Ve)!==0&&!Yt(y(this,Ve)))throw new TypeError("maxSize must be a positive integer if specified");if(!Yt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");H(this,D,Po).call(this)}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!C,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!u,this.ttlResolution=Yt(a)||a===0?a:1,this.ttlAutopurge=!!c,this.ttl=s||0,this.ttl){if(!Yt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");H(this,D,Es).call(this)}if(y(this,at)===0&&this.ttl===0&&y(this,Ve)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!y(this,at)&&!y(this,Ve)){let _e="LRU_CACHE_UNBOUNDED";ih(_e)&&(Uo.add(_e),Mo("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",_e,Nr))}}static unsafeExposeInternals(e){return{starts:y(e,ft),ttls:y(e,Ge),sizes:y(e,ht),keyMap:y(e,Te),keyList:y(e,ye),valList:y(e,re),next:y(e,Ue),prev:y(e,We),get head(){return y(e,Ce)},get tail(){return y(e,Oe)},free:y(e,lt),isBackgroundFetch:r=>{var s;return H(s=e,D,me).call(s,r)},backgroundFetch:(r,s,a,c)=>{var l;return H(l=e,D,wi).call(l,r,s,a,c)},moveToTail:r=>{var s;return H(s=e,D,gn).call(s,r)},indexes:r=>{var s;return H(s=e,D,Qt).call(s,r)},rindexes:r=>{var s;return H(s=e,D,Xt).call(s,r)},isStale:r=>{var s;return y(s=e,qe).call(s,r)}}}get max(){return y(this,at)}get maxSize(){return y(this,Ve)}get calculatedSize(){return y(this,ct)}get size(){return y(this,ke)}get fetchMethod(){return y(this,Ur)}get dispose(){return y(this,ot)}get disposeAfter(){return y(this,ut)}getRemainingTTL(e){return y(this,Te).has(e)?1/0:0}*entries(){for(let e of H(this,D,Qt).call(this))y(this,re)[e]!==void 0&&y(this,ye)[e]!==void 0&&!H(this,D,me).call(this,y(this,re)[e])&&(yield[y(this,ye)[e],y(this,re)[e]])}*rentries(){for(let e of H(this,D,Xt).call(this))y(this,re)[e]!==void 0&&y(this,ye)[e]!==void 0&&!H(this,D,me).call(this,y(this,re)[e])&&(yield[y(this,ye)[e],y(this,re)[e]])}*keys(){for(let e of H(this,D,Qt).call(this)){let r=y(this,ye)[e];r!==void 0&&!H(this,D,me).call(this,y(this,re)[e])&&(yield r)}}*rkeys(){for(let e of H(this,D,Xt).call(this)){let r=y(this,ye)[e];r!==void 0&&!H(this,D,me).call(this,y(this,re)[e])&&(yield r)}}*values(){for(let e of H(this,D,Qt).call(this))y(this,re)[e]!==void 0&&!H(this,D,me).call(this,y(this,re)[e])&&(yield y(this,re)[e])}*rvalues(){for(let e of H(this,D,Xt).call(this))y(this,re)[e]!==void 0&&!H(this,D,me).call(this,y(this,re)[e])&&(yield y(this,re)[e])}[(go=Symbol.iterator,po=Symbol.toStringTag,go)](){return this.entries()}find(e,r={}){for(let s of H(this,D,Qt).call(this)){let a=y(this,re)[s],c=H(this,D,me).call(this,a)?a.__staleWhileFetching:a;if(c!==void 0&&e(c,y(this,ye)[s],this))return this.get(y(this,ye)[s],r)}}forEach(e,r=this){for(let s of H(this,D,Qt).call(this)){let a=y(this,re)[s],c=H(this,D,me).call(this,a)?a.__staleWhileFetching:a;c!==void 0&&e.call(r,c,y(this,ye)[s],this)}}rforEach(e,r=this){for(let s of H(this,D,Xt).call(this)){let a=y(this,re)[s],c=H(this,D,me).call(this,a)?a.__staleWhileFetching:a;c!==void 0&&e.call(r,c,y(this,ye)[s],this)}}purgeStale(){let e=!1;for(let r of H(this,D,Xt).call(this,{allowStale:!0}))y(this,qe).call(this,r)&&(this.delete(y(this,ye)[r]),e=!0);return e}info(e){let r=y(this,Te).get(e);if(r===void 0)return;let s=y(this,re)[r],a=H(this,D,me).call(this,s)?s.__staleWhileFetching:s;if(a===void 0)return;let c={value:a};if(y(this,Ge)&&y(this,ft)){let l=y(this,Ge)[r],u=y(this,ft)[r];if(l&&u){let f=l-(xr.now()-u);c.ttl=f,c.start=Date.now()}}return y(this,ht)&&(c.size=y(this,ht)[r]),c}dump(){let e=[];for(let r of H(this,D,Qt).call(this,{allowStale:!0})){let s=y(this,ye)[r],a=y(this,re)[r],c=H(this,D,me).call(this,a)?a.__staleWhileFetching:a;if(c===void 0||s===void 0)continue;let l={value:c};if(y(this,Ge)&&y(this,ft)){l.ttl=y(this,Ge)[r];let u=xr.now()-y(this,ft)[r];l.start=Math.floor(Date.now()-u)}y(this,ht)&&(l.size=y(this,ht)[r]),e.unshift([s,l])}return e}load(e){this.clear();for(let[r,s]of e){if(s.start){let a=Date.now()-s.start;s.start=xr.now()-a}this.set(r,s.value,s)}}set(e,r,s={}){var _,E,v,S,A;if(r===void 0)return this.delete(e),this;let{ttl:a=this.ttl,start:c,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:f}=s,{noUpdateTTL:p=this.noUpdateTTL}=s,b=y(this,ui).call(this,e,r,s.size||0,u);if(this.maxEntrySize&&b>this.maxEntrySize)return f&&(f.set="miss",f.maxEntrySizeExceeded=!0),this.delete(e),this;let w=y(this,ke)===0?void 0:y(this,Te).get(e);if(w===void 0)w=y(this,ke)===0?y(this,Oe):y(this,lt).length!==0?y(this,lt).pop():y(this,ke)===y(this,at)?H(this,D,vi).call(this,!1):y(this,ke),y(this,ye)[w]=e,y(this,re)[w]=r,y(this,Te).set(e,w),y(this,Ue)[y(this,Oe)]=w,y(this,We)[w]=y(this,Oe),Y(this,Oe,w),pi(this,ke)._++,y(this,Mr).call(this,w,b,f),f&&(f.set="add"),p=!1;else{H(this,D,gn).call(this,w);let x=y(this,re)[w];if(r!==x){if(y(this,nr)&&H(this,D,me).call(this,x)){x.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:C}=x;C!==void 0&&!l&&(y(this,dt)&&((_=y(this,ot))==null||_.call(this,C,e,"set")),y(this,Me)&&((E=y(this,Ie))==null||E.push([C,e,"set"])))}else l||(y(this,dt)&&((v=y(this,ot))==null||v.call(this,x,e,"set")),y(this,Me)&&((S=y(this,Ie))==null||S.push([x,e,"set"])));if(y(this,pr).call(this,w),y(this,Mr).call(this,w,b,f),y(this,re)[w]=r,f){f.set="replace";let C=x&&H(this,D,me).call(this,x)?x.__staleWhileFetching:x;C!==void 0&&(f.oldValue=C)}}else f&&(f.set="update")}if(a!==0&&!y(this,Ge)&&H(this,D,Es).call(this),y(this,Ge)&&(p||y(this,oi).call(this,w,a,c),f&&y(this,Bt).call(this,f,w)),!l&&y(this,Me)&&y(this,Ie)){let x=y(this,Ie),C;for(;C=x==null?void 0:x.shift();)(A=y(this,ut))==null||A.call(this,...C)}return this}pop(){var e;try{for(;y(this,ke);){let r=y(this,re)[y(this,Ce)];if(H(this,D,vi).call(this,!0),H(this,D,me).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(y(this,Me)&&y(this,Ie)){let r=y(this,Ie),s;for(;s=r==null?void 0:r.shift();)(e=y(this,ut))==null||e.call(this,...s)}}}has(e,r={}){let{updateAgeOnHas:s=this.updateAgeOnHas,status:a}=r,c=y(this,Te).get(e);if(c!==void 0){let l=y(this,re)[c];if(H(this,D,me).call(this,l)&&l.__staleWhileFetching===void 0)return!1;if(y(this,qe).call(this,c))a&&(a.has="stale",y(this,Bt).call(this,a,c));else return s&&y(this,dr).call(this,c),a&&(a.has="hit",y(this,Bt).call(this,a,c)),!0}else a&&(a.has="miss");return!1}peek(e,r={}){let{allowStale:s=this.allowStale}=r,a=y(this,Te).get(e);if(a===void 0||!s&&y(this,qe).call(this,a))return;let c=y(this,re)[a];return H(this,D,me).call(this,c)?c.__staleWhileFetching:c}async fetch(e,r={}){let{allowStale:s=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:c=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:u=this.noDisposeOnSet,size:f=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:w=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:_=this.allowStaleOnFetchRejection,ignoreFetchAbort:E=this.ignoreFetchAbort,allowStaleOnFetchAbort:v=this.allowStaleOnFetchAbort,context:S,forceRefresh:A=!1,status:x,signal:C}=r;if(!y(this,nr))return x&&(x.fetch="get"),this.get(e,{allowStale:s,updateAgeOnGet:a,noDeleteOnStaleGet:c,status:x});let B={allowStale:s,updateAgeOnGet:a,noDeleteOnStaleGet:c,ttl:l,noDisposeOnSet:u,size:f,sizeCalculation:p,noUpdateTTL:b,noDeleteOnFetchRejection:w,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:v,ignoreFetchAbort:E,status:x,signal:C},L=y(this,Te).get(e);if(L===void 0){x&&(x.fetch="miss");let z=H(this,D,wi).call(this,e,L,B,S);return z.__returned=z}else{let z=y(this,re)[L];if(H(this,D,me).call(this,z)){let Ye=s&&z.__staleWhileFetching!==void 0;return x&&(x.fetch="inflight",Ye&&(x.returnedStale=!0)),Ye?z.__staleWhileFetching:z.__returned=z}let V=y(this,qe).call(this,L);if(!A&&!V)return x&&(x.fetch="hit"),H(this,D,gn).call(this,L),a&&y(this,dr).call(this,L),x&&y(this,Bt).call(this,x,L),z;let _e=H(this,D,wi).call(this,e,L,B,S),et=_e.__staleWhileFetching!==void 0&&s;return x&&(x.fetch=V?"stale":"refresh",et&&V&&(x.returnedStale=!0)),et?_e.__staleWhileFetching:_e.__returned=_e}}get(e,r={}){let{allowStale:s=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:c=this.noDeleteOnStaleGet,status:l}=r,u=y(this,Te).get(e);if(u!==void 0){let f=y(this,re)[u],p=H(this,D,me).call(this,f);return l&&y(this,Bt).call(this,l,u),y(this,qe).call(this,u)?(l&&(l.get="stale"),p?(l&&s&&f.__staleWhileFetching!==void 0&&(l.returnedStale=!0),s?f.__staleWhileFetching:void 0):(c||this.delete(e),l&&s&&(l.returnedStale=!0),s?f:void 0)):(l&&(l.get="hit"),p?f.__staleWhileFetching:(H(this,D,gn).call(this,u),a&&y(this,dr).call(this,u),f))}else l&&(l.get="miss")}delete(e){var s,a,c,l;let r=!1;if(y(this,ke)!==0){let u=y(this,Te).get(e);if(u!==void 0)if(r=!0,y(this,ke)===1)this.clear();else{y(this,pr).call(this,u);let f=y(this,re)[u];if(H(this,D,me).call(this,f)?f.__abortController.abort(new Error("deleted")):(y(this,dt)||y(this,Me))&&(y(this,dt)&&((s=y(this,ot))==null||s.call(this,f,e,"delete")),y(this,Me)&&((a=y(this,Ie))==null||a.push([f,e,"delete"]))),y(this,Te).delete(e),y(this,ye)[u]=void 0,y(this,re)[u]=void 0,u===y(this,Oe))Y(this,Oe,y(this,We)[u]);else if(u===y(this,Ce))Y(this,Ce,y(this,Ue)[u]);else{let p=y(this,We)[u];y(this,Ue)[p]=y(this,Ue)[u];let b=y(this,Ue)[u];y(this,We)[b]=y(this,We)[u]}pi(this,ke)._--,y(this,lt).push(u)}}if(y(this,Me)&&((c=y(this,Ie))!=null&&c.length)){let u=y(this,Ie),f;for(;f=u==null?void 0:u.shift();)(l=y(this,ut))==null||l.call(this,...f)}return r}clear(){var e,r,s;for(let a of H(this,D,Xt).call(this,{allowStale:!0})){let c=y(this,re)[a];if(H(this,D,me).call(this,c))c.__abortController.abort(new Error("deleted"));else{let l=y(this,ye)[a];y(this,dt)&&((e=y(this,ot))==null||e.call(this,c,l,"delete")),y(this,Me)&&((r=y(this,Ie))==null||r.push([c,l,"delete"]))}}if(y(this,Te).clear(),y(this,re).fill(void 0),y(this,ye).fill(void 0),y(this,Ge)&&y(this,ft)&&(y(this,Ge).fill(0),y(this,ft).fill(0)),y(this,ht)&&y(this,ht).fill(0),Y(this,Ce,0),Y(this,Oe,0),y(this,lt).length=0,Y(this,ct,0),Y(this,ke,0),y(this,Me)&&y(this,Ie)){let a=y(this,Ie),c;for(;c=a==null?void 0:a.shift();)(s=y(this,ut))==null||s.call(this,...c)}}},at=new WeakMap,Ve=new WeakMap,ot=new WeakMap,ut=new WeakMap,Ur=new WeakMap,ke=new WeakMap,ct=new WeakMap,Te=new WeakMap,ye=new WeakMap,re=new WeakMap,Ue=new WeakMap,We=new WeakMap,Ce=new WeakMap,Oe=new WeakMap,lt=new WeakMap,Ie=new WeakMap,ht=new WeakMap,ft=new WeakMap,Ge=new WeakMap,dt=new WeakMap,nr=new WeakMap,Me=new WeakMap,D=new WeakSet,Es=function(){let e=new yi(y(this,at)),r=new yi(y(this,at));Y(this,Ge,e),Y(this,ft,r),Y(this,oi,(c,l,u=xr.now())=>{if(r[c]=l!==0?u:0,e[c]=l,l!==0&&this.ttlAutopurge){let f=setTimeout(()=>{y(this,qe).call(this,c)&&this.delete(y(this,ye)[c])},l+1);f.unref&&f.unref()}}),Y(this,dr,c=>{r[c]=e[c]!==0?xr.now():0}),Y(this,Bt,(c,l)=>{if(e[l]){let u=e[l],f=r[l];if(!u||!f)return;c.ttl=u,c.start=f,c.now=s||a();let p=c.now-f;c.remainingTTL=u-p}});let s=0,a=()=>{let c=xr.now();if(this.ttlResolution>0){s=c;let l=setTimeout(()=>s=0,this.ttlResolution);l.unref&&l.unref()}return c};this.getRemainingTTL=c=>{let l=y(this,Te).get(c);if(l===void 0)return 0;let u=e[l],f=r[l];if(!u||!f)return 1/0;let p=(s||a())-f;return u-p},Y(this,qe,c=>{let l=r[c],u=e[c];return!!u&&!!l&&(s||a())-l>u})},dr=new WeakMap,Bt=new WeakMap,oi=new WeakMap,qe=new WeakMap,Po=function(){let e=new yi(y(this,at));Y(this,ct,0),Y(this,ht,e),Y(this,pr,r=>{Y(this,ct,y(this,ct)-e[r]),e[r]=0}),Y(this,ui,(r,s,a,c)=>{if(H(this,D,me).call(this,s))return 0;if(!Yt(a))if(c){if(typeof c!="function")throw new TypeError("sizeCalculation must be a function");if(a=c(s,r),!Yt(a))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return a}),Y(this,Mr,(r,s,a)=>{if(e[r]=s,y(this,Ve)){let c=y(this,Ve)-e[r];for(;y(this,ct)>c;)H(this,D,vi).call(this,!0)}Y(this,ct,y(this,ct)+e[r]),a&&(a.entrySize=s,a.totalCalculatedSize=y(this,ct))})},pr=new WeakMap,Mr=new WeakMap,ui=new WeakMap,Qt=function*({allowStale:e=this.allowStale}={}){if(y(this,ke))for(let r=y(this,Oe);!(!H(this,D,Ss).call(this,r)||((e||!y(this,qe).call(this,r))&&(yield r),r===y(this,Ce)));)r=y(this,We)[r]},Xt=function*({allowStale:e=this.allowStale}={}){if(y(this,ke))for(let r=y(this,Ce);!(!H(this,D,Ss).call(this,r)||((e||!y(this,qe).call(this,r))&&(yield r),r===y(this,Oe)));)r=y(this,Ue)[r]},Ss=function(e){return e!==void 0&&y(this,Te).get(y(this,ye)[e])===e},vi=function(e){var c,l;let r=y(this,Ce),s=y(this,ye)[r],a=y(this,re)[r];return y(this,nr)&&H(this,D,me).call(this,a)?a.__abortController.abort(new Error("evicted")):(y(this,dt)||y(this,Me))&&(y(this,dt)&&((c=y(this,ot))==null||c.call(this,a,s,"evict")),y(this,Me)&&((l=y(this,Ie))==null||l.push([a,s,"evict"]))),y(this,pr).call(this,r),e&&(y(this,ye)[r]=void 0,y(this,re)[r]=void 0,y(this,lt).push(r)),y(this,ke)===1?(Y(this,Ce,Y(this,Oe,0)),y(this,lt).length=0):Y(this,Ce,y(this,Ue)[r]),y(this,Te).delete(s),pi(this,ke)._--,r},wi=function(e,r,s,a){let c=r===void 0?void 0:y(this,re)[r];if(H(this,D,me).call(this,c))return c;let l=new ki,{signal:u}=s;u==null||u.addEventListener("abort",()=>l.abort(u.reason),{signal:l.signal});let f={signal:l.signal,options:s,context:a},p=(S,A=!1)=>{let{aborted:x}=l.signal,C=s.ignoreFetchAbort&&S!==void 0;if(s.status&&(x&&!A?(s.status.fetchAborted=!0,s.status.fetchError=l.signal.reason,C&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),x&&!C&&!A)return w(l.signal.reason);let B=E;return y(this,re)[r]===E&&(S===void 0?B.__staleWhileFetching?y(this,re)[r]=B.__staleWhileFetching:this.delete(e):(s.status&&(s.status.fetchUpdated=!0),this.set(e,S,f.options))),S},b=S=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=S),w(S)),w=S=>{let{aborted:A}=l.signal,x=A&&s.allowStaleOnFetchAbort,C=x||s.allowStaleOnFetchRejection,B=C||s.noDeleteOnFetchRejection,L=E;if(y(this,re)[r]===E&&(!B||L.__staleWhileFetching===void 0?this.delete(e):x||(y(this,re)[r]=L.__staleWhileFetching)),C)return s.status&&L.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),L.__staleWhileFetching;if(L.__returned===L)throw S},_=(S,A)=>{var C;let x=(C=y(this,Ur))==null?void 0:C.call(this,e,c,f);x&&x instanceof Promise&&x.then(B=>S(B===void 0?void 0:B),A),l.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(S(void 0),s.allowStaleOnFetchAbort&&(S=B=>p(B,!0)))})};s.status&&(s.status.fetchDispatched=!0);let E=new Promise(_).then(p,b),v=Object.assign(E,{__abortController:l,__staleWhileFetching:c,__returned:void 0});return r===void 0?(this.set(e,v,{...f.options,status:void 0}),r=y(this,Te).get(e)):y(this,re)[r]=v,v},me=function(e){if(!y(this,nr))return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof ki},As=function(e,r){y(this,We)[r]=e,y(this,Ue)[e]=r},gn=function(e){e!==y(this,Oe)&&(e===y(this,Ce)?Y(this,Ce,y(this,Ue)[e]):H(this,D,As).call(this,y(this,We)[e],y(this,Ue)[e]),H(this,D,As).call(this,y(this,Oe),e),Y(this,Oe,e))},Nr);function oh({size:t}){return new ah({max:t,maxSize:5e6,sizeCalculation:e=>JSON.stringify(e).length,allowStale:!0})}function uh({cache:t}){return async e=>{if(t.max)return t.get(e)}}function ch({cache:t}){return async(e,{url:r,address:s},a)=>{if(t.max)return t.set(e,{url:r,address:s},{ttl:a})}}function lh({cache:t}){return async e=>{if(t.max)return t.get(e)}}function hh({cache:t}){return async(e,r,s)=>{if(t.max)return t.set(e,{url:r,address:e,ttl:s},{ttl:s})}}function fh({fetch:t}){return async(e,r)=>{let s=await t(`${e}?process-id=${r}`,{method:"GET",redirect:"manual"});return[301,302,307,308].includes(s.status)?new URL(s.headers.get("Location")).origin:e}}var ue;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{let c={};for(let l of a)c[l]=l;return c},t.getValidEnumValues=a=>{let c=t.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),l={};for(let u of c)l[u]=a[u];return t.objectValues(l)},t.objectValues=a=>t.objectKeys(a).map(function(c){return a[c]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let c=[];for(let l in a)Object.prototype.hasOwnProperty.call(a,l)&&c.push(l);return c},t.find=(a,c)=>{for(let l of a)if(c(l))return l},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,c=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(c)}t.joinValues=s,t.jsonStringifyReplacer=(a,c)=>typeof c=="bigint"?c.toString():c})(ue||(ue={}));var Ts;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Ts||(Ts={}));var $=ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tr=t=>{switch(typeof t){case"undefined":return $.undefined;case"string":return $.string;case"number":return isNaN(t)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(t)?$.array:t===null?$.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$.promise:typeof Map<"u"&&t instanceof Map?$.map:typeof Set<"u"&&t instanceof Set?$.set:typeof Date<"u"&&t instanceof Date?$.date:$.object;default:return $.unknown}},I=ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),dh=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),mt=class jo extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(c){return c.message},s={_errors:[]},a=c=>{for(let l of c.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)s._errors.push(r(l));else{let u=s,f=0;for(;f<l.path.length;){let p=l.path[f];f===l.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(r(l))):u[p]=u[p]||{_errors:[]},u=u[p],f++}}};return a(this),s}static assert(e){if(!(e instanceof jo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},s=[];for(let a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):s.push(e(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};mt.create=t=>new mt(t);var jr=(t,e)=>{let r;switch(t.code){case I.invalid_type:t.received===$.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case I.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ue.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:r=`Unrecognized key(s) in object: ${ue.joinValues(t.keys,", ")}`;break;case I.invalid_union:r="Invalid input";break;case I.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ue.joinValues(t.options)}`;break;case I.invalid_enum_value:r=`Invalid enum value. Expected ${ue.joinValues(t.options)}, received '${t.received}'`;break;case I.invalid_arguments:r="Invalid function arguments";break;case I.invalid_return_type:r="Invalid function return type";break;case I.invalid_date:r="Invalid date";break;case I.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ue.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case I.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case I.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case I.custom:r="Invalid input";break;case I.invalid_intersection_types:r="Intersection results could not be merged";break;case I.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case I.not_finite:r="Number must be finite";break;default:r=e.defaultError,ue.assertNever(t)}return{message:r}},Fo=jr;function ph(t){Fo=t}function Bi(){return Fo}var Oi=t=>{let{data:e,path:r,errorMaps:s,issueData:a}=t,c=[...r,...a.path||[]],l={...a,path:c};if(a.message!==void 0)return{...a,path:c,message:a.message};let u="",f=s.filter(p=>!!p).slice().reverse();for(let p of f)u=p(l,{data:e,defaultError:u}).message;return{...a,path:c,message:u}},gh=[];function N(t,e){let r=Bi(),s=Oi({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===jr?void 0:jr].filter(a=>!!a)});t.common.issues.push(s)}var De=class $o{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let s=[];for(let a of r){if(a.status==="aborted")return ee;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){let s=[];for(let a of r){let c=await a.key,l=await a.value;s.push({key:c,value:l})}return $o.mergeObjectSync(e,s)}static mergeObjectSync(e,r){let s={};for(let a of r){let{key:c,value:l}=a;if(c.status==="aborted"||l.status==="aborted")return ee;c.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),c.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(s[c.value]=l.value)}return{status:e.value,value:s}}},ee=Object.freeze({status:"aborted"}),Ii=t=>({status:"dirty",value:t}),Pe=t=>({status:"valid",value:t}),xs=t=>t.status==="aborted",ks=t=>t.status==="dirty",kn=t=>t.status==="valid",Ri=t=>typeof Promise<"u"&&t instanceof Promise;function Ci(t,e,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Zo(t,e,r,s,a){if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var G;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(G||(G={}));var mn,yn,At=class{constructor(e,r,s,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Va=(t,e)=>{if(kn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new mt(t.common.issues);return this._error=r,this._error}}};function ne(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(c,l)=>{var u,f;let{message:p}=t;return c.code==="invalid_enum_value"?{message:p??l.defaultError}:typeof l.data>"u"?{message:(u=p??s)!==null&&u!==void 0?u:l.defaultError}:c.code!=="invalid_type"?{message:l.defaultError}:{message:(f=p??r)!==null&&f!==void 0?f:l.defaultError}},description:a}}var se=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return tr(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:tr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new De,ctx:{common:e.parent.common,data:e.data,parsedType:tr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Ri(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;let a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tr(e)},c=this._parseSync({data:e,path:a.path,parent:a});return Va(a,c)}async parseAsync(e,r){let s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){let s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tr(e)},a=this._parse({data:e,path:s.path,parent:s}),c=await(Ri(a)?a:Promise.resolve(a));return Va(s,c)}refine(e,r){let s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,c)=>{let l=e(a),u=()=>c.addIssue({code:I.custom,...s(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,r){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(e){return new yt({schema:this,typeName:Q.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Et.create(this,this._def)}nullable(){return sr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yr.create(this,this._def)}promise(){return Zr.create(this,this._def)}or(e){return Un.create([this,e],this._def)}and(e){return Mn.create(this,e,this._def)}transform(e){return new yt({...ne(this._def),schema:this,typeName:Q.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Fn({...ne(this._def),innerType:this,defaultValue:r,typeName:Q.ZodDefault})}brand(){return new oa({typeName:Q.ZodBranded,type:this,...ne(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new $n({...ne(this._def),innerType:this,catchValue:r,typeName:Q.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ua.create(this,e)}readonly(){return Zn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},mh=/^c[^\s-]{8,}$/i,yh=/^[0-9a-z]+$/,vh=/^[0-9A-HJKMNP-TV-Z]{26}$/,wh=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bh=/^[a-z0-9_-]{21}$/i,_h=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Eh=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Sh="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",hs,Ah=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Th=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,xh=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Do="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kh=new RegExp(`^${Do}$`);function zo(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Bh(t){return new RegExp(`^${zo(t)}$`)}function Vo(t){let e=`${Do}T${zo(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Oh(t,e){return!!((e==="v4"||!e)&&Ah.test(t)||(e==="v6"||!e)&&Th.test(t))}var Fr=class vn extends se{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$.string){let a=this._getOrReturnCtx(e);return N(a,{code:I.invalid_type,expected:$.string,received:a.parsedType}),ee}let r=new De,s;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),N(s,{code:I.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),N(s,{code:I.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){let c=e.data.length>a.value,l=e.data.length<a.value;(c||l)&&(s=this._getOrReturnCtx(e,s),c?N(s,{code:I.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&N(s,{code:I.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Eh.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"email",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")hs||(hs=new RegExp(Sh,"u")),hs.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"emoji",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")wh.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"uuid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")bh.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"nanoid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")mh.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"cuid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")yh.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"cuid2",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")vh.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"ulid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),N(s,{validation:"url",code:I.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"regex",code:I.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),N(s,{code:I.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),N(s,{code:I.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),N(s,{code:I.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Vo(a).test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{code:I.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?kh.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{code:I.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Bh(a).test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{code:I.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?_h.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"duration",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Oh(e.data,a.version)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"ip",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?xh.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"base64",code:I.invalid_string,message:a.message}),r.dirty()):ue.assertNever(a);return{status:r.value,value:e.data}}_regex(e,r,s){return this.refinement(a=>e.test(a),{validation:r,code:I.invalid_string,...G.errToObj(s)})}_addCheck(e){return new vn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...G.errToObj(e)})}url(e){return this._addCheck({kind:"url",...G.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...G.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...G.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...G.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...G.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...G.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...G.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...G.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...G.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...G.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...G.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...G.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...G.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...G.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...G.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...G.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...G.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...G.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...G.errToObj(r)})}nonempty(e){return this.min(1,G.errToObj(e))}trim(){return new vn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Fr.create=t=>{var e;return new Fr({checks:[],typeName:Q.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ne(t)})};function Ih(t,e){let r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=r>s?r:s,c=parseInt(t.toFixed(a).replace(".","")),l=parseInt(e.toFixed(a).replace(".",""));return c%l/Math.pow(10,a)}var Bn=class Bs extends se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$.number){let a=this._getOrReturnCtx(e);return N(a,{code:I.invalid_type,expected:$.number,received:a.parsedType}),ee}let r,s=new De;for(let a of this._def.checks)a.kind==="int"?ue.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),N(r,{code:I.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),N(r,{code:I.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),N(r,{code:I.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Ih(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),N(r,{code:I.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),N(r,{code:I.not_finite,message:a.message}),s.dirty()):ue.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,G.toString(r))}gt(e,r){return this.setLimit("min",e,!1,G.toString(r))}lte(e,r){return this.setLimit("max",e,!0,G.toString(r))}lt(e,r){return this.setLimit("max",e,!1,G.toString(r))}setLimit(e,r,s,a){return new Bs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:G.toString(a)}]})}_addCheck(e){return new Bs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:G.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:G.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:G.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:G.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:G.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ue.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Bn.create=t=>new Bn({checks:[],typeName:Q.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ne(t)});var On=class Os extends se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$.bigint){let a=this._getOrReturnCtx(e);return N(a,{code:I.invalid_type,expected:$.bigint,received:a.parsedType}),ee}let r,s=new De;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),N(r,{code:I.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),N(r,{code:I.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),N(r,{code:I.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):ue.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,G.toString(r))}gt(e,r){return this.setLimit("min",e,!1,G.toString(r))}lte(e,r){return this.setLimit("max",e,!0,G.toString(r))}lt(e,r){return this.setLimit("max",e,!1,G.toString(r))}setLimit(e,r,s,a){return new Os({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:G.toString(a)}]})}_addCheck(e){return new Os({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:G.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};On.create=t=>{var e;return new On({checks:[],typeName:Q.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ne(t)})};var In=class extends se{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$.boolean){let e=this._getOrReturnCtx(t);return N(e,{code:I.invalid_type,expected:$.boolean,received:e.parsedType}),ee}return Pe(t.data)}};In.create=t=>new In({typeName:Q.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ne(t)});var Rn=class Wo extends se{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$.date){let a=this._getOrReturnCtx(e);return N(a,{code:I.invalid_type,expected:$.date,received:a.parsedType}),ee}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return N(a,{code:I.invalid_date}),ee}let r=new De,s;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),N(s,{code:I.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),N(s,{code:I.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ue.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wo({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:G.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:G.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Rn.create=t=>new Rn({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Q.ZodDate,...ne(t)});var Li=class extends se{_parse(t){if(this._getType(t)!==$.symbol){let e=this._getOrReturnCtx(t);return N(e,{code:I.invalid_type,expected:$.symbol,received:e.parsedType}),ee}return Pe(t.data)}};Li.create=t=>new Li({typeName:Q.ZodSymbol,...ne(t)});var Cn=class extends se{_parse(t){if(this._getType(t)!==$.undefined){let e=this._getOrReturnCtx(t);return N(e,{code:I.invalid_type,expected:$.undefined,received:e.parsedType}),ee}return Pe(t.data)}};Cn.create=t=>new Cn({typeName:Q.ZodUndefined,...ne(t)});var Ln=class extends se{_parse(t){if(this._getType(t)!==$.null){let e=this._getOrReturnCtx(t);return N(e,{code:I.invalid_type,expected:$.null,received:e.parsedType}),ee}return Pe(t.data)}};Ln.create=t=>new Ln({typeName:Q.ZodNull,...ne(t)});var $r=class extends se{constructor(){super(...arguments),this._any=!0}_parse(t){return Pe(t.data)}};$r.create=t=>new $r({typeName:Q.ZodAny,...ne(t)});var gr=class extends se{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Pe(t.data)}};gr.create=t=>new gr({typeName:Q.ZodUnknown,...ne(t)});var Lt=class extends se{_parse(t){let e=this._getOrReturnCtx(t);return N(e,{code:I.invalid_type,expected:$.never,received:e.parsedType}),ee}};Lt.create=t=>new Lt({typeName:Q.ZodNever,...ne(t)});var Ui=class extends se{_parse(t){if(this._getType(t)!==$.undefined){let e=this._getOrReturnCtx(t);return N(e,{code:I.invalid_type,expected:$.void,received:e.parsedType}),ee}return Pe(t.data)}};Ui.create=t=>new Ui({typeName:Q.ZodVoid,...ne(t)});var yr=class bi extends se{_parse(e){let{ctx:r,status:s}=this._processInputParams(e),a=this._def;if(r.parsedType!==$.array)return N(r,{code:I.invalid_type,expected:$.array,received:r.parsedType}),ee;if(a.exactLength!==null){let l=r.data.length>a.exactLength.value,u=r.data.length<a.exactLength.value;(l||u)&&(N(r,{code:l?I.too_big:I.too_small,minimum:u?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(N(r,{code:I.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(N(r,{code:I.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((l,u)=>a.type._parseAsync(new At(r,l,r.path,u)))).then(l=>De.mergeArray(s,l));let c=[...r.data].map((l,u)=>a.type._parseSync(new At(r,l,r.path,u)));return De.mergeArray(s,c)}get element(){return this._def.type}min(e,r){return new bi({...this._def,minLength:{value:e,message:G.toString(r)}})}max(e,r){return new bi({...this._def,maxLength:{value:e,message:G.toString(r)}})}length(e,r){return new bi({...this._def,exactLength:{value:e,message:G.toString(r)}})}nonempty(e){return this.min(1,e)}};yr.create=(t,e)=>new yr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Q.ZodArray,...ne(e)});function Or(t){if(t instanceof Xe){let e={};for(let r in t.shape){let s=t.shape[r];e[r]=Et.create(Or(s))}return new Xe({...t._def,shape:()=>e})}else return t instanceof yr?new yr({...t._def,type:Or(t.element)}):t instanceof Et?Et.create(Or(t.unwrap())):t instanceof sr?sr.create(Or(t.unwrap())):t instanceof ir?ir.create(t.items.map(e=>Or(e))):t}var Xe=class it extends se{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=ue.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==$.object){let f=this._getOrReturnCtx(e);return N(f,{code:I.invalid_type,expected:$.object,received:f.parsedType}),ee}let{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),l=[];if(!(this._def.catchall instanceof Lt&&this._def.unknownKeys==="strip"))for(let f in s.data)c.includes(f)||l.push(f);let u=[];for(let f of c){let p=a[f],b=s.data[f];u.push({key:{status:"valid",value:f},value:p._parse(new At(s,b,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof Lt){let f=this._def.unknownKeys;if(f==="passthrough")for(let p of l)u.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(f==="strict")l.length>0&&(N(s,{code:I.unrecognized_keys,keys:l}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let f=this._def.catchall;for(let p of l){let b=s.data[p];u.push({key:{status:"valid",value:p},value:f._parse(new At(s,b,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let f=[];for(let p of u){let b=await p.key,w=await p.value;f.push({key:b,value:w,alwaysSet:p.alwaysSet})}return f}).then(f=>De.mergeObjectSync(r,f)):De.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return G.errToObj,new it({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var a,c,l,u;let f=(l=(c=(a=this._def).errorMap)===null||c===void 0?void 0:c.call(a,r,s).message)!==null&&l!==void 0?l:s.defaultError;return r.code==="unrecognized_keys"?{message:(u=G.errToObj(e).message)!==null&&u!==void 0?u:f}:{message:f}}}:{}})}strip(){return new it({...this._def,unknownKeys:"strip"})}passthrough(){return new it({...this._def,unknownKeys:"passthrough"})}extend(e){return new it({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new it({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Q.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new it({...this._def,catchall:e})}pick(e){let r={};return ue.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new it({...this._def,shape:()=>r})}omit(e){let r={};return ue.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new it({...this._def,shape:()=>r})}deepPartial(){return Or(this)}partial(e){let r={};return ue.objectKeys(this.shape).forEach(s=>{let a=this.shape[s];e&&!e[s]?r[s]=a:r[s]=a.optional()}),new it({...this._def,shape:()=>r})}required(e){let r={};return ue.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Et;)a=a._def.innerType;r[s]=a}}),new it({...this._def,shape:()=>r})}keyof(){return Qo(ue.objectKeys(this.shape))}};Xe.create=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strip",catchall:Lt.create(),typeName:Q.ZodObject,...ne(e)});Xe.strictCreate=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strict",catchall:Lt.create(),typeName:Q.ZodObject,...ne(e)});Xe.lazycreate=(t,e)=>new Xe({shape:t,unknownKeys:"strip",catchall:Lt.create(),typeName:Q.ZodObject,...ne(e)});var Un=class extends se{_parse(t){let{ctx:e}=this._processInputParams(t),r=this._def.options;function s(a){for(let l of a)if(l.result.status==="valid")return l.result;for(let l of a)if(l.result.status==="dirty")return e.common.issues.push(...l.ctx.common.issues),l.result;let c=a.map(l=>new mt(l.ctx.common.issues));return N(e,{code:I.invalid_union,unionErrors:c}),ee}if(e.common.async)return Promise.all(r.map(async a=>{let c={...e,common:{...e.common,issues:[]},parent:null};return{result:await a._parseAsync({data:e.data,path:e.path,parent:c}),ctx:c}})).then(s);{let a,c=[];for(let u of r){let f={...e,common:{...e.common,issues:[]},parent:null},p=u._parseSync({data:e.data,path:e.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:f}),f.common.issues.length&&c.push(f.common.issues)}if(a)return e.common.issues.push(...a.ctx.common.issues),a.result;let l=c.map(u=>new mt(u));return N(e,{code:I.invalid_union,unionErrors:l}),ee}}get options(){return this._def.options}};Un.create=(t,e)=>new Un({options:t,typeName:Q.ZodUnion,...ne(e)});var Jt=t=>t instanceof Nn?Jt(t.schema):t instanceof yt?Jt(t.innerType()):t instanceof Pn?[t.value]:t instanceof ci?t.options:t instanceof jn?ue.objectValues(t.enum):t instanceof Fn?Jt(t._def.innerType):t instanceof Cn?[void 0]:t instanceof Ln?[null]:t instanceof Et?[void 0,...Jt(t.unwrap())]:t instanceof sr?[null,...Jt(t.unwrap())]:t instanceof oa||t instanceof Zn?Jt(t.unwrap()):t instanceof $n?Jt(t._def.innerType):[],Go=class qo extends se{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==$.object)return N(r,{code:I.invalid_type,expected:$.object,received:r.parsedType}),ee;let s=this.discriminator,a=r.data[s],c=this.optionsMap.get(a);return c?r.common.async?c._parseAsync({data:r.data,path:r.path,parent:r}):c._parseSync({data:r.data,path:r.path,parent:r}):(N(r,{code:I.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),ee)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){let a=new Map;for(let c of r){let l=Jt(c.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let u of l){if(a.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);a.set(u,c)}}return new qo({typeName:Q.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...ne(s)})}};function Is(t,e){let r=tr(t),s=tr(e);if(t===e)return{valid:!0,data:t};if(r===$.object&&s===$.object){let a=ue.objectKeys(e),c=ue.objectKeys(t).filter(u=>a.indexOf(u)!==-1),l={...t,...e};for(let u of c){let f=Is(t[u],e[u]);if(!f.valid)return{valid:!1};l[u]=f.data}return{valid:!0,data:l}}else if(r===$.array&&s===$.array){if(t.length!==e.length)return{valid:!1};let a=[];for(let c=0;c<t.length;c++){let l=t[c],u=e[c],f=Is(l,u);if(!f.valid)return{valid:!1};a.push(f.data)}return{valid:!0,data:a}}else return r===$.date&&s===$.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Mn=class extends se{_parse(e){let{status:r,ctx:s}=this._processInputParams(e),a=(c,l)=>{if(xs(c)||xs(l))return ee;let u=Is(c.value,l.value);return u.valid?((ks(c)||ks(l))&&r.dirty(),{status:r.value,value:u.data}):(N(s,{code:I.invalid_intersection_types}),ee)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([c,l])=>a(c,l)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};Mn.create=(t,e,r)=>new Mn({left:t,right:e,typeName:Q.ZodIntersection,...ne(r)});var ir=class Ko extends se{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==$.array)return N(s,{code:I.invalid_type,expected:$.array,received:s.parsedType}),ee;if(s.data.length<this._def.items.length)return N(s,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ee;!this._def.rest&&s.data.length>this._def.items.length&&(N(s,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...s.data].map((c,l)=>{let u=this._def.items[l]||this._def.rest;return u?u._parse(new At(s,c,s.path,l)):null}).filter(c=>!!c);return s.common.async?Promise.all(a).then(c=>De.mergeArray(r,c)):De.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Ko({...this._def,rest:e})}};ir.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ir({items:t,typeName:Q.ZodTuple,rest:null,...ne(e)})};var Ho=class Rs extends se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==$.object)return N(s,{code:I.invalid_type,expected:$.object,received:s.parsedType}),ee;let a=[],c=this._def.keyType,l=this._def.valueType;for(let u in s.data)a.push({key:c._parse(new At(s,u,s.path,u)),value:l._parse(new At(s,s.data[u],s.path,u)),alwaysSet:u in s.data});return s.common.async?De.mergeObjectAsync(r,a):De.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof se?new Rs({keyType:e,valueType:r,typeName:Q.ZodRecord,...ne(s)}):new Rs({keyType:Fr.create(),valueType:e,typeName:Q.ZodRecord,...ne(r)})}},Mi=class extends se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:e,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.map)return N(r,{code:I.invalid_type,expected:$.map,received:r.parsedType}),ee;let s=this._def.keyType,a=this._def.valueType,c=[...r.data.entries()].map(([l,u],f)=>({key:s._parse(new At(r,l,r.path,[f,"key"])),value:a._parse(new At(r,u,r.path,[f,"value"]))}));if(r.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let u of c){let f=await u.key,p=await u.value;if(f.status==="aborted"||p.status==="aborted")return ee;(f.status==="dirty"||p.status==="dirty")&&e.dirty(),l.set(f.value,p.value)}return{status:e.value,value:l}})}else{let l=new Map;for(let u of c){let f=u.key,p=u.value;if(f.status==="aborted"||p.status==="aborted")return ee;(f.status==="dirty"||p.status==="dirty")&&e.dirty(),l.set(f.value,p.value)}return{status:e.value,value:l}}}};Mi.create=(t,e,r)=>new Mi({valueType:e,keyType:t,typeName:Q.ZodMap,...ne(r)});var Ni=class Cs extends se{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==$.set)return N(s,{code:I.invalid_type,expected:$.set,received:s.parsedType}),ee;let a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(N(s,{code:I.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(N(s,{code:I.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());let c=this._def.valueType;function l(f){let p=new Set;for(let b of f){if(b.status==="aborted")return ee;b.status==="dirty"&&r.dirty(),p.add(b.value)}return{status:r.value,value:p}}let u=[...s.data.values()].map((f,p)=>c._parse(new At(s,f,s.path,p)));return s.common.async?Promise.all(u).then(f=>l(f)):l(u)}min(e,r){return new Cs({...this._def,minSize:{value:e,message:G.toString(r)}})}max(e,r){return new Cs({...this._def,maxSize:{value:e,message:G.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Ni.create=(t,e)=>new Ni({valueType:t,minSize:null,maxSize:null,typeName:Q.ZodSet,...ne(e)});var Yo=class _i extends se{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==$.function)return N(r,{code:I.invalid_type,expected:$.function,received:r.parsedType}),ee;function s(u,f){return Oi({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Bi(),jr].filter(p=>!!p),issueData:{code:I.invalid_arguments,argumentsError:f}})}function a(u,f){return Oi({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Bi(),jr].filter(p=>!!p),issueData:{code:I.invalid_return_type,returnTypeError:f}})}let c={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof Zr){let u=this;return Pe(async function(...f){let p=new mt([]),b=await u._def.args.parseAsync(f,c).catch(_=>{throw p.addIssue(s(f,_)),p}),w=await Reflect.apply(l,this,b);return await u._def.returns._def.type.parseAsync(w,c).catch(_=>{throw p.addIssue(a(w,_)),p})})}else{let u=this;return Pe(function(...f){let p=u._def.args.safeParse(f,c);if(!p.success)throw new mt([s(f,p.error)]);let b=Reflect.apply(l,this,p.data),w=u._def.returns.safeParse(b,c);if(!w.success)throw new mt([a(b,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new _i({...this._def,args:ir.create(e).rest(gr.create())})}returns(e){return new _i({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new _i({args:e||ir.create([]).rest(gr.create()),returns:r||gr.create(),typeName:Q.ZodFunction,...ne(s)})}},Nn=class extends se{get schema(){return this._def.getter()}_parse(t){let{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}};Nn.create=(t,e)=>new Nn({getter:t,typeName:Q.ZodLazy,...ne(e)});var Pn=class extends se{_parse(t){if(t.data!==this._def.value){let e=this._getOrReturnCtx(t);return N(e,{received:e.data,code:I.invalid_literal,expected:this._def.value}),ee}return{status:"valid",value:t.data}}get value(){return this._def.value}};Pn.create=(t,e)=>new Pn({value:t,typeName:Q.ZodLiteral,...ne(e)});function Qo(t,e){return new ci({values:t,typeName:Q.ZodEnum,...ne(e)})}var ci=class Ls extends se{constructor(){super(...arguments),mn.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),s=this._def.values;return N(r,{expected:ue.joinValues(s),received:r.parsedType,code:I.invalid_type}),ee}if(Ci(this,mn)||Zo(this,mn,new Set(this._def.values)),!Ci(this,mn).has(e.data)){let r=this._getOrReturnCtx(e),s=this._def.values;return N(r,{received:r.data,code:I.invalid_enum_value,options:s}),ee}return Pe(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ls.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ls.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}};mn=new WeakMap;ci.create=Qo;var jn=class extends se{constructor(){super(...arguments),yn.set(this,void 0)}_parse(t){let e=ue.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==$.string&&r.parsedType!==$.number){let s=ue.objectValues(e);return N(r,{expected:ue.joinValues(s),received:r.parsedType,code:I.invalid_type}),ee}if(Ci(this,yn)||Zo(this,yn,new Set(ue.getValidEnumValues(this._def.values))),!Ci(this,yn).has(t.data)){let s=ue.objectValues(e);return N(r,{received:r.data,code:I.invalid_enum_value,options:s}),ee}return Pe(t.data)}get enum(){return this._def.values}};yn=new WeakMap;jn.create=(t,e)=>new jn({values:t,typeName:Q.ZodNativeEnum,...ne(e)});var Zr=class extends se{unwrap(){return this._def.type}_parse(t){let{ctx:e}=this._processInputParams(t);if(e.parsedType!==$.promise&&e.common.async===!1)return N(e,{code:I.invalid_type,expected:$.promise,received:e.parsedType}),ee;let r=e.parsedType===$.promise?e.data:Promise.resolve(e.data);return Pe(r.then(s=>this._def.type.parseAsync(s,{path:e.path,errorMap:e.common.contextualErrorMap})))}};Zr.create=(t,e)=>new Zr({type:t,typeName:Q.ZodPromise,...ne(e)});var yt=class extends se{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:s}=this._processInputParams(e),a=this._def.effect||null,c={addIssue:l=>{N(s,l),l.fatal?r.abort():r.dirty()},get path(){return s.path}};if(c.addIssue=c.addIssue.bind(c),a.type==="preprocess"){let l=a.transform(s.data,c);if(s.common.async)return Promise.resolve(l).then(async u=>{if(r.value==="aborted")return ee;let f=await this._def.schema._parseAsync({data:u,path:s.path,parent:s});return f.status==="aborted"?ee:f.status==="dirty"||r.value==="dirty"?Ii(f.value):f});{if(r.value==="aborted")return ee;let u=this._def.schema._parseSync({data:l,path:s.path,parent:s});return u.status==="aborted"?ee:u.status==="dirty"||r.value==="dirty"?Ii(u.value):u}}if(a.type==="refinement"){let l=u=>{let f=a.refinement(u,c);if(s.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(s.common.async===!1){let u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?ee:(u.status==="dirty"&&r.dirty(),l(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>u.status==="aborted"?ee:(u.status==="dirty"&&r.dirty(),l(u.value).then(()=>({status:r.value,value:u.value}))))}if(a.type==="transform")if(s.common.async===!1){let l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!kn(l))return l;let u=a.transform(l.value,c);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>kn(l)?Promise.resolve(a.transform(l.value,c)).then(u=>({status:r.value,value:u})):l);ue.assertNever(a)}};yt.create=(t,e,r)=>new yt({schema:t,typeName:Q.ZodEffects,effect:e,...ne(r)});yt.createWithPreprocess=(t,e,r)=>new yt({schema:e,effect:{type:"preprocess",transform:t},typeName:Q.ZodEffects,...ne(r)});var Et=class extends se{_parse(e){return this._getType(e)===$.undefined?Pe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Et.create=(t,e)=>new Et({innerType:t,typeName:Q.ZodOptional,...ne(e)});var sr=class extends se{_parse(e){return this._getType(e)===$.null?Pe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};sr.create=(t,e)=>new sr({innerType:t,typeName:Q.ZodNullable,...ne(e)});var Fn=class extends se{_parse(t){let{ctx:e}=this._processInputParams(t),r=e.data;return e.parsedType===$.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:e.path,parent:e})}removeDefault(){return this._def.innerType}};Fn.create=(t,e)=>new Fn({innerType:t,typeName:Q.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ne(e)});var $n=class extends se{_parse(t){let{ctx:e}=this._processInputParams(t),r={...e,common:{...e.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ri(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new mt(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new mt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};$n.create=(t,e)=>new $n({innerType:t,typeName:Q.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ne(e)});var Pi=class extends se{_parse(t){if(this._getType(t)!==$.nan){let e=this._getOrReturnCtx(t);return N(e,{code:I.invalid_type,expected:$.nan,received:e.parsedType}),ee}return{status:"valid",value:t.data}}};Pi.create=t=>new Pi({typeName:Q.ZodNaN,...ne(t)});var Rh=Symbol("zod_brand"),oa=class extends se{_parse(t){let{ctx:e}=this._processInputParams(t),r=e.data;return this._def.type._parse({data:r,path:e.path,parent:e})}unwrap(){return this._def.type}},ua=class Xo extends se{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?ee:a.status==="dirty"?(r.dirty(),Ii(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{let a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?ee:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,r){return new Xo({in:e,out:r,typeName:Q.ZodPipeline})}},Zn=class extends se{_parse(t){let e=this._def.innerType._parse(t);return kn(e)&&(e.value=Object.freeze(e.value)),e}unwrap(){return this._def.innerType}};Zn.create=(t,e)=>new Zn({innerType:t,typeName:Q.ZodReadonly,...ne(e)});function Jo(t,e={},r){return t?$r.create().superRefine((s,a)=>{var c,l;if(!t(s)){let u=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,f=(l=(c=u.fatal)!==null&&c!==void 0?c:r)!==null&&l!==void 0?l:!0,p=typeof u=="string"?{message:u}:u;a.addIssue({code:"custom",...p,fatal:f})}}):$r.create()}var Ch={object:Xe.lazycreate},Q;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Q||(Q={}));var Lh=(t,e={message:`Input not instance of ${t.name}`})=>Jo(r=>r instanceof t,e),eu=Fr.create,tu=Bn.create,Uh=Pi.create,Mh=On.create,ru=In.create,Nh=Rn.create,Ph=Li.create,jh=Cn.create,Fh=Ln.create,$h=$r.create,Zh=gr.create,Dh=Lt.create,zh=Ui.create,Vh=yr.create,Wh=Xe.create,Gh=Xe.strictCreate,qh=Un.create,Kh=Go.create,Hh=Mn.create,Yh=ir.create,Qh=Ho.create,Xh=Mi.create,Jh=Ni.create,ef=Yo.create,tf=Nn.create,rf=Pn.create,nf=ci.create,sf=jn.create,af=Zr.create,Wa=yt.create,of=Et.create,uf=sr.create,cf=yt.createWithPreprocess,lf=ua.create,hf=()=>eu().optional(),ff=()=>tu().optional(),df=()=>ru().optional(),pf={string:t=>Fr.create({...t,coerce:!0}),number:t=>Bn.create({...t,coerce:!0}),boolean:t=>In.create({...t,coerce:!0}),bigint:t=>On.create({...t,coerce:!0}),date:t=>Rn.create({...t,coerce:!0})},gf=ee,fe=Object.freeze({__proto__:null,defaultErrorMap:jr,setErrorMap:ph,getErrorMap:Bi,makeIssue:Oi,EMPTY_PATH:gh,addIssueToContext:N,ParseStatus:De,INVALID:ee,DIRTY:Ii,OK:Pe,isAborted:xs,isDirty:ks,isValid:kn,isAsync:Ri,get util(){return ue},get objectUtil(){return Ts},ZodParsedType:$,getParsedType:tr,ZodType:se,datetimeRegex:Vo,ZodString:Fr,ZodNumber:Bn,ZodBigInt:On,ZodBoolean:In,ZodDate:Rn,ZodSymbol:Li,ZodUndefined:Cn,ZodNull:Ln,ZodAny:$r,ZodUnknown:gr,ZodNever:Lt,ZodVoid:Ui,ZodArray:yr,ZodObject:Xe,ZodUnion:Un,ZodDiscriminatedUnion:Go,ZodIntersection:Mn,ZodTuple:ir,ZodRecord:Ho,ZodMap:Mi,ZodSet:Ni,ZodFunction:Yo,ZodLazy:Nn,ZodLiteral:Pn,ZodEnum:ci,ZodNativeEnum:jn,ZodPromise:Zr,ZodEffects:yt,ZodTransformer:yt,ZodOptional:Et,ZodNullable:sr,ZodDefault:Fn,ZodCatch:$n,ZodNaN:Pi,BRAND:Rh,ZodBranded:oa,ZodPipeline:ua,ZodReadonly:Zn,custom:Jo,Schema:se,ZodSchema:se,late:Ch,get ZodFirstPartyTypeKind(){return Q},coerce:pf,any:$h,array:Vh,bigint:Mh,boolean:ru,date:Nh,discriminatedUnion:Kh,effect:Wa,enum:nf,function:ef,instanceof:Lh,intersection:Hh,lazy:tf,literal:rf,map:Xh,nan:Uh,nativeEnum:sf,never:Dh,null:Fh,nullable:uf,number:tu,object:Wh,oboolean:df,onumber:ff,optional:of,ostring:hf,pipeline:lf,preprocess:cf,promise:af,record:Qh,set:Jh,strictObject:Gh,string:eu,symbol:Ph,transformer:Wa,tuple:Yh,undefined:jh,union:qh,unknown:Zh,void:zh,NEVER:gf,ZodIssueCode:I,quotelessJson:dh,ZodError:mt}),nu=fe.object({url:fe.string(),address:fe.string()}),iu=fe.object({url:fe.string(),address:fe.string(),ttl:fe.coerce.number()}),mf=fe.function().args(fe.string(),fe.string()).returns(fe.promise(fe.string())),yf=fe.function().args(fe.string()).returns(fe.promise(nu.nullish())),vf=fe.function().args(fe.string(),nu,fe.number()).returns(fe.promise(fe.any())),ca=fe.function().args(fe.string()).returns(fe.promise(iu.nullish())),la=fe.function().args(fe.string(),fe.string(),fe.number()).returns(fe.promise(fe.any())),Xi=fe.function().args(fe.string()).returns(fe.promise(iu)),wf=Xi;function bf({loadProcessScheduler:t,loadScheduler:e,cache:r,followRedirects:s,checkForRedirect:a}){t=wf.implement(t),e=Xi.implement(e),a=mf.implement(a);let c=yf.implement(r.getByProcess),l=ca.implement(r.getByOwner),u=vf.implement(r.setByProcess),f=la.implement(r.setByOwner);return(p,b)=>c(p).then(async w=>w||Promise.resolve().then(async()=>b?await l(b)||e(b).then(E=>(f(E.address,E.url,E.ttl),E)):t(p)).then(async _=>{let E=_.url;s&&(E=await a(_.url,p));let v={url:aa(E),address:_.address};return await u(p,v,_.ttl),v}))}function _f({loadScheduler:t,cache:e}){t=Xi.implement(t);let r=ca.implement(e.getByOwner),s=la.implement(e.setByOwner);return a=>r(a).then(c=>c?{url:c.url}:t(a).then(l=>s(a,l.url,l.ttl).then(()=>({url:aa(l.url)}))).catch(l=>{if(!(l instanceof xi))throw l}))}function Ef({loadScheduler:t,cache:e}){t=Xi.implement(t);let r=ca.implement(e.getByOwner),s=la.implement(e.setByOwner);return a=>r(a).then(c=>c?!0:t(a).then(l=>s(a,l.url,l.ttl)).then(()=>!0).catch(l=>{if(l instanceof xi)return!1;throw l}))}var Sf=100,Af="https://arweave.net/graphql",Tf=0,xf=300,kf=!1;function su({cacheSize:t=Sf,followRedirects:e=kf,GRAPHQL_URL:r=Af,GRAPHQL_MAX_RETRIES:s=Tf,GRAPHQL_RETRY_BACKOFF:a=xf}={}){let c=oh({size:t}),l=Lo({fetch,GRAPHQL_URL:r,GRAPHQL_MAX_RETRIES:s,GRAPHQL_RETRY_BACKOFF:a}),u={getByProcess:uh({cache:c}),getByOwner:lh({cache:c}),setByProcess:ch({cache:c}),setByOwner:hh({cache:c})},f=bf({loadProcessScheduler:nh({fetch,GRAPHQL_URL:r,GRAPHQL_MAX_RETRIES:s,GRAPHQL_RETRY_BACKOFF:a}),loadScheduler:l,cache:u,followRedirects:e,checkForRedirect:fh({fetch})}),p=Ef({loadScheduler:l,cache:u}),b=_f({loadScheduler:l,cache:u});return{locate:f,validate:p,raw:b}}var Bf=globalThis.GRAPHQL_URL||void 0,Of=globalThis.SCHEDULER_UTILS_CACHE_SIZE||void 0,If=globalThis.SCHEDULER_UTILS_FOLLOW_REDIRECTS==="true"||void 0,Rf=globalThis.GRAPHQL_MAX_RETRIES||void 0,Cf=globalThis.GRAPHQL_RETRY_BACKOFF||void 0;su({GRAPHQL_URL:Bf,cacheSize:Of,followRedirects:If,GRAPHQL_MAX_RETRIES:Rf,GRAPHQL_RETRY_BACKOFF:Cf});var Ot=t=>({fork:t,toPromise:()=>new Promise((e,r)=>t(r,e)),map:e=>Ot((r,s)=>t(r,a=>s(e(a)))),bimap:(e,r)=>Ot((s,a)=>t(c=>s(e(c)),c=>a(r(c)))),chain:e=>Ot((r,s)=>t(r,a=>e(a).fork(r,s))),bichain:(e,r)=>Ot((s,a)=>t(c=>e(c).fork(s,a),c=>r(c).fork(s,a))),fold:(e,r)=>Ot((s,a)=>t(c=>e(c).fork(s,a),c=>r(c).fork(s,a)))}),oe=t=>Ot((e,r)=>r(t)),vr=t=>Ot((e,r)=>r(t)),cr=t=>Ot((e,r)=>e(t)),de=t=>(...e)=>Ot((r,s)=>t(...e).then(s).catch(r));function Lf({fetch:t,MU_URL:e,logger:r}){const s=r.child("deployMessage");return a=>oe(a).chain(de(({processId:c,data:l,tags:u,anchor:f,signer:p})=>p({data:l,tags:u,target:c,anchor:f}))).chain(c=>oe(c).chain(de(async l=>t(e,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:l.raw}))).bichain(l=>cr(new Error(`Error while communicating with MU: ${JSON.stringify(l)}`)),de(async l=>{if(l.ok)return l.json();throw new Error(`${l.status}: ${await l.text()}`)})).bimap(s.tap("Error encountered when writing message via MU"),s.tap("Successfully wrote message via MU")).map(l=>({res:l,messageId:c.id}))).toPromise()}function Uf({fetch:t,MU_URL:e,logger:r}){const s=r.child("deployProcess");return a=>oe(a).chain(de(({data:c,tags:l,signer:u})=>u({data:c,tags:l}))).chain(c=>oe(c).chain(de(async l=>t(e,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:l.raw}))).bichain(l=>cr(new Error(`Error while communicating with MU: ${JSON.stringify(l)}`)),de(async l=>{if(l.ok)return l.json();throw new Error(`${l.status}: ${await l.text()}`)})).bimap(s.tap("Error encountered when deploying process via MU"),s.tap("Successfully deployed process via MU")).map(l=>({res:l,processId:c.id}))).toPromise()}function Mf({fetch:t,MU_URL:e,logger:r}){const s=r.child("deployMonitor");return a=>oe(a).chain(de(({processId:c,data:l,tags:u,anchor:f,signer:p})=>p({data:l,tags:u,target:c,anchor:f}))).chain(c=>oe(c).chain(de(async l=>t(e+"/monitor/"+a.processId,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:l.raw}))).bichain(l=>cr(new Error(`Error while communicating with MU: ${JSON.stringify(l)}`)),de(async l=>{if(l.ok)return{ok:!0};throw new Error(`${l.status}: ${await l.text()}`)})).bimap(s.tap("Error encountered when subscribing to process via MU"),s.tap("Successfully subscribed to process via MU")).map(l=>({res:l,messageId:c.id}))).toPromise()}function Nf({fetch:t,MU_URL:e,logger:r}){const s=r.child("deployUnmonitor");return a=>oe(a).chain(de(({processId:c,data:l,tags:u,anchor:f,signer:p})=>p({data:l,tags:u,target:c,anchor:f}))).chain(c=>oe(c).chain(de(async l=>t(e+"/monitor/"+a.processId,{method:"DELETE",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:l.raw}))).bichain(l=>cr(new Error(`Error while communicating with MU: ${JSON.stringify(l)}`)),de(async l=>{if(l.ok)return{ok:!0};throw new Error(`${l.status}: ${await l.text()}`)})).bimap(s.tap("Error encountered when unsubscribing to process via MU"),s.tap("Successfully unsubscribed to process via MU")).map(l=>({res:l,messageId:c.id}))).toPromise()}function Pf({fetch:t,MU_URL:e,logger:r}){const s=r.child("deployAssign");return a=>oe(a).chain(de(async({process:c,message:l,baseLayer:u,exclude:f})=>t(`${e}?process-id=${c}&assign=${l}${u?"&base-layer":""}${f?"&exclude="+f.join(","):""}`,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"}}))).bichain(c=>cr(new Error(`Error while communicating with MU: ${JSON.stringify(c)}`)),de(async c=>{if(c.ok)return c.json();throw new Error(`${c.status}: ${await c.text()}`)})).bimap(s.tap("Error encountered when writing assignment via MU"),s.tap("Successfully wrote assignment via MU")).map(c=>({res:c,assignmentId:c.id})).toPromise()}function jf({fetch:t,CU_URL:e,logger:r}){return s=>oe(s).map(r.tap("posting dryrun request to CU")).chain(de(a=>t(`${e}/dry-run?process-id=${a.Target}`,{method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",body:JSON.stringify(a)}).then(c=>c.json()))).toPromise()}function Ff({fetch:t,CU_URL:e,logger:r}){return({id:s,processId:a})=>oe(`${e}/result/${s}?process-id=${a}`).map(r.tap("fetching message result from CU")).chain(de(async c=>t(c,{method:"GET",headers:{Accept:"application/json"},redirect:"follow"}).then(l=>l.json()))).toPromise()}function $f({fetch:t,CU_URL:e,logger:r}){return({process:s,from:a,to:c,sort:l,limit:u})=>{const f=new URL(`${e}/results/${s}`),p=new URLSearchParams(f.search);return a&&p.append("from",a),c&&p.append("to",c),l&&p.append("sort",l),u&&p.append("limit",u),f.search=p,oe(f.toString()).map(r.tap("fetching message result from CU")).chain(de(async b=>t(b,{method:"GET",headers:{Accept:"application/json"},redirect:"follow"}).then(w=>w.json()))).toPromise()}}var Zf=Js(Oc()),wn,Df=({MAX_SIZE:t})=>wn||(wn=new Zf.default(t),wn),fs=({logger:t,fetch:e,cache:r=wn})=>async({suUrl:s,processId:a})=>r.has(a)?r.get(a):e(`${s}/processes/${a}`,{method:"GET",redirect:"follow"}).then(async c=>{if(c.ok)return c.json();throw t("Error Encountered when fetching process meta from SU '%s' for process '%s'",s,a),new Error(`Encountered Error fetching scheduled messages from Scheduler Unit: ${c.status}: ${await c.text()}`)}).then(c=>(t("Caching process meta for process '%s'",a),r.set(a,{tags:c.tags}),c)),zf=function(){return!1},Vf=zf,Wf=function(){return!0},au=Wf,Ct={"@@functional/placeholder":!0};function we(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function xe(t){return function e(r){return arguments.length===0||we(r)?e:t.apply(this,arguments)}}function be(t){return function e(r,s){switch(arguments.length){case 0:return e;case 1:return we(r)?e:xe(function(a){return t(r,a)});default:return we(r)&&we(s)?e:we(r)?xe(function(a){return t(a,s)}):we(s)?xe(function(a){return t(r,a)}):t(r,s)}}}function Gf(t,e){t=t||[],e=e||[];var r,s=t.length,a=e.length,c=[];for(r=0;r<s;)c[c.length]=t[r],r+=1;for(r=0;r<a;)c[c.length]=e[r],r+=1;return c}function li(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,s){return e.apply(this,arguments)};case 3:return function(r,s,a){return e.apply(this,arguments)};case 4:return function(r,s,a,c){return e.apply(this,arguments)};case 5:return function(r,s,a,c,l){return e.apply(this,arguments)};case 6:return function(r,s,a,c,l,u){return e.apply(this,arguments)};case 7:return function(r,s,a,c,l,u,f){return e.apply(this,arguments)};case 8:return function(r,s,a,c,l,u,f,p){return e.apply(this,arguments)};case 9:return function(r,s,a,c,l,u,f,p,b){return e.apply(this,arguments)};case 10:return function(r,s,a,c,l,u,f,p,b,w){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function ou(t,e,r){return function(){for(var s=[],a=0,c=t,l=0,u=!1;l<e.length||a<arguments.length;){var f;l<e.length&&(!we(e[l])||a>=arguments.length)?f=e[l]:(f=arguments[a],a+=1),s[l]=f,we(f)?u=!0:c-=1,l+=1}return!u&&c<=0?r.apply(this,s):li(Math.max(0,c),ou(t,s,r))}}var qf=be(function(e,r){return e===1?xe(r):li(e,ou(e,[],r))}),Ji=qf;function Yr(t){return function e(r,s,a){switch(arguments.length){case 0:return e;case 1:return we(r)?e:be(function(c,l){return t(r,c,l)});case 2:return we(r)&&we(s)?e:we(r)?be(function(c,l){return t(c,s,l)}):we(s)?be(function(c,l){return t(r,c,l)}):xe(function(c){return t(r,s,c)});default:return we(r)&&we(s)&&we(a)?e:we(r)&&we(s)?be(function(c,l){return t(c,l,a)}):we(r)&&we(a)?be(function(c,l){return t(c,s,l)}):we(s)&&we(a)?be(function(c,l){return t(r,c,l)}):we(r)?xe(function(c){return t(c,s,a)}):we(s)?xe(function(c){return t(r,c,a)}):we(a)?xe(function(c){return t(r,s,c)}):t(r,s,a)}}}var Dr=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function Kf(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function es(t,e,r){return function(){if(arguments.length===0)return r();var s=arguments[arguments.length-1];if(!Dr(s)){for(var a=0;a<t.length;){if(typeof s[t[a]]=="function")return s[t[a]].apply(s,Array.prototype.slice.call(arguments,0,-1));a+=1}if(Kf(s)){var c=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return c(s)}}return r.apply(this,arguments)}}var Tt={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function Ga(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}function qa(t,e,r){for(var s=0,a=r.length;s<a;){if(t(e,r[s]))return!0;s+=1}return!1}function Hf(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function zr(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function Yf(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var ds=typeof Object.is=="function"?Object.is:Yf,Ka=Object.prototype.toString,Qf=function(){return Ka.call(arguments)==="[object Arguments]"?function(e){return Ka.call(e)==="[object Arguments]"}:function(e){return zr("callee",e)}}(),Xf=Qf,Jf=!{toString:null}.propertyIsEnumerable("toString"),Ha=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ya=function(){return arguments.propertyIsEnumerable("length")}(),ed=function(e,r){for(var s=0;s<e.length;){if(e[s]===r)return!0;s+=1}return!1},td=xe(typeof Object.keys=="function"&&!Ya?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var r,s,a=[],c=Ya&&Xf(e);for(r in e)zr(r,e)&&(!c||r!=="length")&&(a[a.length]=r);if(Jf)for(s=Ha.length-1;s>=0;)r=Ha[s],zr(r,e)&&!ed(a,r)&&(a[a.length]=r),s-=1;return a}),Vr=td,rd=xe(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}),Qa=rd;function Xa(t,e,r,s){var a=Ga(t),c=Ga(e);function l(u,f){return ha(u,f,r.slice(),s.slice())}return!qa(function(u,f){return!qa(l,f,u)},c,a)}function ha(t,e,r,s){if(ds(t,e))return!0;var a=Qa(t);if(a!==Qa(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(a){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&Hf(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&ds(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!ds(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var c=r.length-1;c>=0;){if(r[c]===t)return s[c]===e;c-=1}switch(a){case"Map":return t.size!==e.size?!1:Xa(t.entries(),e.entries(),r.concat([t]),s.concat([e]));case"Set":return t.size!==e.size?!1:Xa(t.values(),e.values(),r.concat([t]),s.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=Vr(t);if(l.length!==Vr(e).length)return!1;var u=r.concat([t]),f=s.concat([e]);for(c=l.length-1;c>=0;){var p=l[c];if(!(zr(p,e)&&ha(e[p],t[p],u,f)))return!1;c-=1}return!0}var nd=be(function(e,r){return ha(e,r,[],[])}),An=nd;function id(t,e,r){var s,a;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(s=1/e;r<t.length;){if(a=t[r],a===0&&1/a===s)return r;r+=1}return-1}else if(e!==e){for(;r<t.length;){if(a=t[r],typeof a=="number"&&a!==a)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(e===null)return t.indexOf(e,r)}for(;r<t.length;){if(An(t[r],e))return r;r+=1}return-1}function uu(t,e){return id(e,t,0)>=0}function Ei(t,e){for(var r=0,s=e.length,a=Array(s);r<s;)a[r]=t(e[r]),r+=1;return a}function ps(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var dn=function(e){return(e<10?"0":"")+e},sd=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+dn(e.getUTCMonth()+1)+"-"+dn(e.getUTCDate())+"T"+dn(e.getUTCHours())+":"+dn(e.getUTCMinutes())+":"+dn(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},ad=sd;function od(t){return function(){return!t.apply(this,arguments)}}function cu(t,e,r){for(var s=0,a=r.length;s<a;)e=t(e,r[s]),s+=1;return e}function ud(t,e){for(var r=0,s=e.length,a=[];r<s;)t(e[r])&&(a[a.length]=e[r]),r+=1;return a}function cd(t){return Object.prototype.toString.call(t)==="[object Object]"}var ld=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=Tt.init,t.prototype["@@transducer/result"]=Tt.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):e},t}();function hd(t){return function(e){return new ld(t,e)}}var fd=be(es(["fantasy-land/filter","filter"],hd,function(t,e){return cd(e)?cu(function(r,s){return t(e[s])&&(r[s]=e[s]),r},{},Vr(e)):ud(t,e)})),dd=fd,pd=be(function(e,r){return dd(od(e),r)}),gd=pd;function lu(t,e){var r=function(l){var u=e.concat([t]);return uu(l,u)?"<Circular>":lu(l,u)},s=function(c,l){return Ei(function(u){return ps(u)+": "+r(c[u])},l.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+Ei(r,t).join(", ")+"))";case"[object Array]":return"["+Ei(r,t).concat(s(t,gd(function(c){return/^\d+$/.test(c)},Vr(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):ps(ad(t)))+")";case"[object Map]":return"new Map("+r(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+r(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+r(Array.from(t).sort())+")";case"[object String]":return typeof t=="object"?"new String("+r(t.valueOf())+")":ps(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var a=t.toString();if(a!=="[object Object]")return a}return"{"+s(t,Vr(t)).join(", ")+"}"}}var md=xe(function(e){return lu(e,[])}),Cr=md,yd=be(function(e,r){if(e===r)return r;function s(f,p){if(f>p!=p>f)return p>f?p:f}var a=s(e,r);if(a!==void 0)return a;var c=s(typeof e,typeof r);if(c!==void 0)return c===typeof e?e:r;var l=Cr(e),u=s(l,Cr(r));return u!==void 0&&u===l?e:r}),vd=yd,wd=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=Tt.init,t.prototype["@@transducer/result"]=Tt.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),bd=function(e){return function(r){return new wd(e,r)}},hu=bd,_d=be(es(["fantasy-land/map","map"],hu,function(e,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return Ji(r.length,function(){return e.call(this,r.apply(this,arguments))});case"[object Object]":return cu(function(s,a){return s[a]=e(r[a]),s},{},Vr(r));default:return Ei(e,r)}})),fa=_d,ts=Number.isInteger||function(e){return e<<0===e};function ji(t){return Object.prototype.toString.call(t)==="[object String]"}function fu(t,e){var r=t<0?e.length+t:t;return ji(e)?e.charAt(r):e[r]}var Ed=be(function(e,r){if(r!=null)return ts(e)?fu(e,r):r[e]}),wr=Ed,Sd=xe(function(e){return Dr(e)?!0:!e||typeof e!="object"||ji(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),da=Sd,Ja=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function Ad(t,e,r){return function(a,c,l){if(da(l))return t(a,c,l);if(l==null)return c;if(typeof l["fantasy-land/reduce"]=="function")return e(a,c,l,"fantasy-land/reduce");if(l[Ja]!=null)return r(a,c,l[Ja]());if(typeof l.next=="function")return r(a,c,l);if(typeof l.reduce=="function")return e(a,c,l,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function du(t,e,r){for(var s=0,a=r.length;s<a;){if(e=t["@@transducer/step"](e,r[s]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}s+=1}return t["@@transducer/result"](e)}var Td=be(function(e,r){return li(e.length,function(){return e.apply(r,arguments)})}),xd=Td;function kd(t,e,r){for(var s=r.next();!s.done;){if(e=t["@@transducer/step"](e,s.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}s=r.next()}return t["@@transducer/result"](e)}function Bd(t,e,r,s){return t["@@transducer/result"](r[s](xd(t["@@transducer/step"],t),e))}var Od=Ad(du,Bd,kd),pu=Od,Id=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function Rd(t){return new Id(t)}var Cd=Yr(function(t,e,r){return pu(typeof t=="function"?Rd(t):t,e,r)}),Dn=Cd,Ld=xe(function(e){return function(){return e}}),gu=Ld,Ud=be(function(e,r){return Gf(r,[e])}),Md=Ud,Nd=xe(function(e){return Ji(e.length,e)}),Qr=Nd;function Pd(t,e,r){if(ts(t)&&Dr(r)){var s=[].concat(r);return s[t]=e,s}var a={};for(var c in r)a[c]=r[c];return a[t]=e,a}var jd=xe(function(e){return e==null}),Fi=jd,Fd=Yr(function t(e,r,s){if(e.length===0)return r;var a=e[0];if(e.length>1){var c=!Fi(s)&&zr(a,s)&&typeof s[a]=="object"?s[a]:ts(e[1])?[]:{};r=t(Array.prototype.slice.call(e,1),r,c)}return Pd(a,r,s)}),$d=Fd,Zd=Yr(function(e,r,s){return $d([e],r,s)}),Ze=Zd;function Us(t){var e=Object.prototype.toString.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}function Dd(t){return function(r){for(var s,a,c,l=[],u=0,f=r.length;u<f;){if(da(r[u]))for(s=r[u],c=0,a=s.length;c<a;)l[l.length]=s[c],c+=1;else l[l.length]=r[u];u+=1}return l}}function zd(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}var mu="@@transducer/init",Ms="@@transducer/step",yu="@@transducer/result",Vd=function(){function t(e){this.xf=e}return t.prototype[mu]=Tt.init,t.prototype[yu]=Tt.result,t.prototype[Ms]=function(e,r){var s=this.xf[Ms](e,r);return s["@@transducer/reduced"]?zd(s):s},t}(),Wd=function(){function t(e){this.xf=new Vd(e)}return t.prototype[mu]=Tt.init,t.prototype[yu]=Tt.result,t.prototype[Ms]=function(e,r){return da(r)?pu(this.xf,e,r):du(this.xf,e,[r])},t}(),Gd=function(e){return new Wd(e)},qd=Gd;function Kd(t){return function(e){return hu(t)(qd(e))}}var Hd=be(es(["fantasy-land/chain","chain"],Kd,function(e,r){return typeof r=="function"?function(s){return e(r(s))(s)}:Dd()(fa(e,r))})),Yd=Hd;function Qd(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function vu(t,e){return function(){var r=arguments.length;if(r===0)return e();var s=arguments[r-1];return Dr(s)||typeof s[t]!="function"?e.apply(this,arguments):s[t].apply(s,Array.prototype.slice.call(arguments,0,r-1))}}var Xd=Yr(vu("slice",function(e,r,s){return Array.prototype.slice.call(s,e,r)})),Jd=Xd,ep=xe(vu("tail",Jd(1,1/0))),tp=ep;function ar(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return li(arguments[0].length,Dn(Qd,arguments[0],tp(arguments)))}function rp(t){return t}var np=xe(rp),Er=np,ip=be(function(e,r){if(Dr(e)){if(Dr(r))return e.concat(r);throw new TypeError(Cr(r)+" is not an array")}if(ji(e)){if(ji(r))return e+r;throw new TypeError(Cr(r)+" is not a string")}if(e!=null&&Us(e["fantasy-land/concat"]))return e["fantasy-land/concat"](r);if(e!=null&&Us(e.concat))return e.concat(r);throw new TypeError(Cr(e)+' does not have a method named "concat" or "fantasy-land/concat"')}),sp=ip,ap=xe(function(e){var r=Dn(vd,0,fa(function(s){return s[0].length},e));return li(r,function(){for(var s=0;s<e.length;){if(e[s][0].apply(this,arguments))return e[s][1].apply(this,arguments);s+=1}})}),wu=ap,op=be(function(e,r){return r==null||r!==r?e:r}),rs=op,up=be(function(e,r){if(e.length===0||Fi(r))return!1;for(var s=r,a=0;a<e.length;)if(!Fi(s)&&zr(e[a],s))s=s[e[a]],a+=1;else return!1;return!0}),cp=up,lp=be(function(e,r){return cp([e],r)}),hp=lp,fp=Yr(function(e,r,s){return Ji(Math.max(e.length,r.length,s.length),function(){return e.apply(this,arguments)?r.apply(this,arguments):s.apply(this,arguments)})}),bu=fp,dp=be(uu),pp=dp,gp=be(function(e,r){return Ji(e+1,function(){var s=arguments[e];if(s!=null&&Us(s[r]))return s[r].apply(s,Array.prototype.slice.call(arguments,0,e));throw new TypeError(Cr(s)+' does not have a method named "'+r+'"')})}),mp=gp,yp=be(function(e,r){return r instanceof e||r!=null&&(r.constructor===e||e.name==="Object"&&typeof r=="object")}),Tn=yp,vp=xe(function(e){return!Fi(e)}),gs=vp,wp=mp(1,"join"),bp=wp;function _p(t,e){for(var r=e,s=0;s<t.length;s+=1){if(r==null)return;var a=t[s];ts(a)?r=fu(a,r):r=r[a]}return r}var Ep=be(_p),Sp=Ep,Ap=Yr(function(e,r,s){return rs(e,wr(r,s))}),Tp=Ap,xp=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=Tt.init,t.prototype["@@transducer/result"]=Tt.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r),this.xf["@@transducer/step"](e,r)},t}();function kp(t){return function(e){return new xp(t,e)}}var Bp=be(es([],kp,function(e,r){return e(r),r})),Op=Bp,ce;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const c={};for(const l of a)c[l]=l;return c},t.getValidEnumValues=a=>{const c=t.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),l={};for(const u of c)l[u]=a[u];return t.objectValues(l)},t.objectValues=a=>t.objectKeys(a).map(function(c){return a[c]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const c=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&c.push(l);return c},t.find=(a,c)=>{for(const l of a)if(c(l))return l},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,c=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(c)}t.joinValues=s,t.jsonStringifyReplacer=(a,c)=>typeof c=="bigint"?c.toString():c})(ce||(ce={}));var Ns;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Ns||(Ns={}));var Z=ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rr=t=>{switch(typeof t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(t)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(t)?Z.array:t===null?Z.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Z.promise:typeof Map<"u"&&t instanceof Map?Z.map:typeof Set<"u"&&t instanceof Set?Z.set:typeof Date<"u"&&t instanceof Date?Z.date:Z.object;default:return Z.unknown}},O=ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ip=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Qe=class _u extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(c){return c.message},s={_errors:[]},a=c=>{for(const l of c.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)s._errors.push(r(l));else{let u=s,f=0;for(;f<l.path.length;){const p=l.path[f];f===l.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(r(l))):u[p]=u[p]||{_errors:[]},u=u[p],f++}}};return a(this),s}static assert(e){if(!(e instanceof _u))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):s.push(e(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};Qe.create=t=>new Qe(t);var Wr=(t,e)=>{let r;switch(t.code){case O.invalid_type:t.received===Z.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case O.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ce.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:r=`Unrecognized key(s) in object: ${ce.joinValues(t.keys,", ")}`;break;case O.invalid_union:r="Invalid input";break;case O.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ce.joinValues(t.options)}`;break;case O.invalid_enum_value:r=`Invalid enum value. Expected ${ce.joinValues(t.options)}, received '${t.received}'`;break;case O.invalid_arguments:r="Invalid function arguments";break;case O.invalid_return_type:r="Invalid function return type";break;case O.invalid_date:r="Invalid date";break;case O.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ce.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case O.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case O.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case O.custom:r="Invalid input";break;case O.invalid_intersection_types:r="Intersection results could not be merged";break;case O.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case O.not_finite:r="Number must be finite";break;default:r=e.defaultError,ce.assertNever(t)}return{message:r}},Eu=Wr;function Rp(t){Eu=t}function $i(){return Eu}var Zi=t=>{const{data:e,path:r,errorMaps:s,issueData:a}=t,c=[...r,...a.path||[]],l={...a,path:c};if(a.message!==void 0)return{...a,path:c,message:a.message};let u="";const f=s.filter(p=>!!p).slice().reverse();for(const p of f)u=p(l,{data:e,defaultError:u}).message;return{...a,path:c,message:u}},Cp=[];function P(t,e){const r=$i(),s=Zi({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Wr?void 0:Wr].filter(a=>!!a)});t.common.issues.push(s)}var ze=class Su{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const a of r){if(a.status==="aborted")return J;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const a of r){const c=await a.key,l=await a.value;s.push({key:c,value:l})}return Su.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const a of r){const{key:c,value:l}=a;if(c.status==="aborted"||l.status==="aborted")return J;c.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),c.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(s[c.value]=l.value)}return{status:e.value,value:s}}},J=Object.freeze({status:"aborted"}),Rr=t=>({status:"dirty",value:t}),je=t=>({status:"valid",value:t}),Ps=t=>t.status==="aborted",js=t=>t.status==="dirty",zn=t=>t.status==="valid",Vn=t=>typeof Promise<"u"&&t instanceof Promise;function Di(t,e,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Au(t,e,r,s,a){if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var q;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(q||(q={}));var bn,_n,xt=class{constructor(t,e,r,s){this._cachedPath=[],this.parent=t,this.data=e,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},eo=(t,e)=>{if(zn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Qe(t.common.issues);return this._error=r,this._error}}};function ie(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(l,u)=>{var f,p;const{message:b}=t;return l.code==="invalid_enum_value"?{message:b??u.defaultError}:typeof u.data>"u"?{message:(f=b??s)!==null&&f!==void 0?f:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(p=b??r)!==null&&p!==void 0?p:u.defaultError}},description:a}}var ae=class{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return rr(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:rr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ze,ctx:{common:t.parent.common,data:t.data,parsedType:rr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(Vn(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const r=this.safeParse(t,e);if(r.success)return r.data;throw r.error}safeParse(t,e){var r;const s={common:{issues:[],async:(r=e==null?void 0:e.async)!==null&&r!==void 0?r:!1,contextualErrorMap:e==null?void 0:e.errorMap},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rr(t)},a=this._parseSync({data:t,path:s.path,parent:s});return eo(s,a)}async parseAsync(t,e){const r=await this.safeParseAsync(t,e);if(r.success)return r.data;throw r.error}async safeParseAsync(t,e){const r={common:{issues:[],contextualErrorMap:e==null?void 0:e.errorMap,async:!0},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rr(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(Vn(s)?s:Promise.resolve(s));return eo(r,a)}refine(t,e){const r=s=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(s):e;return this._refinement((s,a)=>{const c=t(s),l=()=>a.addIssue({code:O.custom,...r(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(u=>u?!0:(l(),!1)):c?!0:(l(),!1)})}refinement(t,e){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof e=="function"?e(r,s):e),!1))}_refinement(t){return new vt({schema:this,typeName:X.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return St.create(this,this._def)}nullable(){return ur.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return br.create(this,this._def)}promise(){return Kr.create(this,this._def)}or(t){return Qn.create([this,t],this._def)}and(t){return Xn.create(this,t,this._def)}transform(t){return new vt({...ie(this._def),schema:this,typeName:X.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t=="function"?t:()=>t;return new ri({...ie(this._def),innerType:this,defaultValue:e,typeName:X.ZodDefault})}brand(){return new pa({typeName:X.ZodBranded,type:this,...ie(this._def)})}catch(t){const e=typeof t=="function"?t:()=>t;return new ni({...ie(this._def),innerType:this,catchValue:e,typeName:X.ZodCatch})}describe(t){const e=this.constructor;return new e({...this._def,description:t})}pipe(t){return ga.create(this,t)}readonly(){return ii.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Lp=/^c[^\s-]{8,}$/i,Up=/^[0-9a-z]+$/,Mp=/^[0-9A-HJKMNP-TV-Z]{26}$/,Np=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pp=/^[a-z0-9_-]{21}$/i,jp=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Fp=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$p="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",ms,Zp=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Dp=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,zp=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Tu="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Vp=new RegExp(`^${Tu}$`);function xu(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Wp(t){return new RegExp(`^${xu(t)}$`)}function ku(t){let e=`${Tu}T${xu(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Gp(t,e){return!!((e==="v4"||!e)&&Zp.test(t)||(e==="v6"||!e)&&Dp.test(t))}var Gr=class En extends ae{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const c=this._getOrReturnCtx(e);return P(c,{code:O.invalid_type,expected:Z.string,received:c.parsedType}),J}const s=new ze;let a;for(const c of this._def.checks)if(c.kind==="min")e.data.length<c.value&&(a=this._getOrReturnCtx(e,a),P(a,{code:O.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),s.dirty());else if(c.kind==="max")e.data.length>c.value&&(a=this._getOrReturnCtx(e,a),P(a,{code:O.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),s.dirty());else if(c.kind==="length"){const l=e.data.length>c.value,u=e.data.length<c.value;(l||u)&&(a=this._getOrReturnCtx(e,a),l?P(a,{code:O.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):u&&P(a,{code:O.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),s.dirty())}else if(c.kind==="email")Fp.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"email",code:O.invalid_string,message:c.message}),s.dirty());else if(c.kind==="emoji")ms||(ms=new RegExp($p,"u")),ms.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"emoji",code:O.invalid_string,message:c.message}),s.dirty());else if(c.kind==="uuid")Np.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"uuid",code:O.invalid_string,message:c.message}),s.dirty());else if(c.kind==="nanoid")Pp.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"nanoid",code:O.invalid_string,message:c.message}),s.dirty());else if(c.kind==="cuid")Lp.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"cuid",code:O.invalid_string,message:c.message}),s.dirty());else if(c.kind==="cuid2")Up.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"cuid2",code:O.invalid_string,message:c.message}),s.dirty());else if(c.kind==="ulid")Mp.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"ulid",code:O.invalid_string,message:c.message}),s.dirty());else if(c.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),P(a,{validation:"url",code:O.invalid_string,message:c.message}),s.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"regex",code:O.invalid_string,message:c.message}),s.dirty())):c.kind==="trim"?e.data=e.data.trim():c.kind==="includes"?e.data.includes(c.value,c.position)||(a=this._getOrReturnCtx(e,a),P(a,{code:O.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),s.dirty()):c.kind==="toLowerCase"?e.data=e.data.toLowerCase():c.kind==="toUpperCase"?e.data=e.data.toUpperCase():c.kind==="startsWith"?e.data.startsWith(c.value)||(a=this._getOrReturnCtx(e,a),P(a,{code:O.invalid_string,validation:{startsWith:c.value},message:c.message}),s.dirty()):c.kind==="endsWith"?e.data.endsWith(c.value)||(a=this._getOrReturnCtx(e,a),P(a,{code:O.invalid_string,validation:{endsWith:c.value},message:c.message}),s.dirty()):c.kind==="datetime"?ku(c).test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{code:O.invalid_string,validation:"datetime",message:c.message}),s.dirty()):c.kind==="date"?Vp.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{code:O.invalid_string,validation:"date",message:c.message}),s.dirty()):c.kind==="time"?Wp(c).test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{code:O.invalid_string,validation:"time",message:c.message}),s.dirty()):c.kind==="duration"?jp.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"duration",code:O.invalid_string,message:c.message}),s.dirty()):c.kind==="ip"?Gp(e.data,c.version)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"ip",code:O.invalid_string,message:c.message}),s.dirty()):c.kind==="base64"?zp.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"base64",code:O.invalid_string,message:c.message}),s.dirty()):ce.assertNever(c);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(a=>e.test(a),{validation:r,code:O.invalid_string,...q.errToObj(s)})}_addCheck(e){return new En({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...q.errToObj(e)})}url(e){return this._addCheck({kind:"url",...q.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...q.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...q.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...q.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...q.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...q.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...q.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...q.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...q.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...q.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...q.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...q.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...q.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...q.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...q.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...q.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...q.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...q.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...q.errToObj(r)})}nonempty(e){return this.min(1,q.errToObj(e))}trim(){return new En({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Gr.create=t=>{var e;return new Gr({checks:[],typeName:X.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ie(t)})};function qp(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=r>s?r:s,c=parseInt(t.toFixed(a).replace(".","")),l=parseInt(e.toFixed(a).replace(".",""));return c%l/Math.pow(10,a)}var Wn=class Fs extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const c=this._getOrReturnCtx(e);return P(c,{code:O.invalid_type,expected:Z.number,received:c.parsedType}),J}let s;const a=new ze;for(const c of this._def.checks)c.kind==="int"?ce.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{code:O.invalid_type,expected:"integer",received:"float",message:c.message}),a.dirty()):c.kind==="min"?(c.inclusive?e.data<c.value:e.data<=c.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:O.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),a.dirty()):c.kind==="max"?(c.inclusive?e.data>c.value:e.data>=c.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:O.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),a.dirty()):c.kind==="multipleOf"?qp(e.data,c.value)!==0&&(s=this._getOrReturnCtx(e,s),P(s,{code:O.not_multiple_of,multipleOf:c.value,message:c.message}),a.dirty()):c.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{code:O.not_finite,message:c.message}),a.dirty()):ce.assertNever(c);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,q.toString(r))}gt(e,r){return this.setLimit("min",e,!1,q.toString(r))}lte(e,r){return this.setLimit("max",e,!0,q.toString(r))}lt(e,r){return this.setLimit("max",e,!1,q.toString(r))}setLimit(e,r,s,a){return new Fs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:q.toString(a)}]})}_addCheck(e){return new Fs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:q.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:q.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ce.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Wn.create=t=>new Wn({checks:[],typeName:X.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ie(t)});var Gn=class $s extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Z.bigint){const c=this._getOrReturnCtx(e);return P(c,{code:O.invalid_type,expected:Z.bigint,received:c.parsedType}),J}let s;const a=new ze;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?e.data<c.value:e.data<=c.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:O.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),a.dirty()):c.kind==="max"?(c.inclusive?e.data>c.value:e.data>=c.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:O.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),a.dirty()):c.kind==="multipleOf"?e.data%c.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),P(s,{code:O.not_multiple_of,multipleOf:c.value,message:c.message}),a.dirty()):ce.assertNever(c);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,q.toString(r))}gt(e,r){return this.setLimit("min",e,!1,q.toString(r))}lte(e,r){return this.setLimit("max",e,!0,q.toString(r))}lt(e,r){return this.setLimit("max",e,!1,q.toString(r))}setLimit(e,r,s,a){return new $s({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:q.toString(a)}]})}_addCheck(e){return new $s({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Gn.create=t=>{var e;return new Gn({checks:[],typeName:X.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ie(t)})};var qn=class extends ae{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Z.boolean){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:Z.boolean,received:r.parsedType}),J}return je(t.data)}};qn.create=t=>new qn({typeName:X.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ie(t)});var Kn=class Bu extends ae{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const c=this._getOrReturnCtx(e);return P(c,{code:O.invalid_type,expected:Z.date,received:c.parsedType}),J}if(isNaN(e.data.getTime())){const c=this._getOrReturnCtx(e);return P(c,{code:O.invalid_date}),J}const s=new ze;let a;for(const c of this._def.checks)c.kind==="min"?e.data.getTime()<c.value&&(a=this._getOrReturnCtx(e,a),P(a,{code:O.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),s.dirty()):c.kind==="max"?e.data.getTime()>c.value&&(a=this._getOrReturnCtx(e,a),P(a,{code:O.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),s.dirty()):ce.assertNever(c);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bu({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:q.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:q.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Kn.create=t=>new Kn({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:X.ZodDate,...ie(t)});var zi=class extends ae{_parse(t){if(this._getType(t)!==Z.symbol){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:Z.symbol,received:r.parsedType}),J}return je(t.data)}};zi.create=t=>new zi({typeName:X.ZodSymbol,...ie(t)});var Hn=class extends ae{_parse(t){if(this._getType(t)!==Z.undefined){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:Z.undefined,received:r.parsedType}),J}return je(t.data)}};Hn.create=t=>new Hn({typeName:X.ZodUndefined,...ie(t)});var Yn=class extends ae{_parse(t){if(this._getType(t)!==Z.null){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:Z.null,received:r.parsedType}),J}return je(t.data)}};Yn.create=t=>new Yn({typeName:X.ZodNull,...ie(t)});var qr=class extends ae{constructor(){super(...arguments),this._any=!0}_parse(t){return je(t.data)}};qr.create=t=>new qr({typeName:X.ZodAny,...ie(t)});var mr=class extends ae{constructor(){super(...arguments),this._unknown=!0}_parse(t){return je(t.data)}};mr.create=t=>new mr({typeName:X.ZodUnknown,...ie(t)});var Ut=class extends ae{_parse(t){const e=this._getOrReturnCtx(t);return P(e,{code:O.invalid_type,expected:Z.never,received:e.parsedType}),J}};Ut.create=t=>new Ut({typeName:X.ZodNever,...ie(t)});var Vi=class extends ae{_parse(t){if(this._getType(t)!==Z.undefined){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:Z.void,received:r.parsedType}),J}return je(t.data)}};Vi.create=t=>new Vi({typeName:X.ZodVoid,...ie(t)});var br=class Si extends ae{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),a=this._def;if(r.parsedType!==Z.array)return P(r,{code:O.invalid_type,expected:Z.array,received:r.parsedType}),J;if(a.exactLength!==null){const l=r.data.length>a.exactLength.value,u=r.data.length<a.exactLength.value;(l||u)&&(P(r,{code:l?O.too_big:O.too_small,minimum:u?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(P(r,{code:O.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(P(r,{code:O.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((l,u)=>a.type._parseAsync(new xt(r,l,r.path,u)))).then(l=>ze.mergeArray(s,l));const c=[...r.data].map((l,u)=>a.type._parseSync(new xt(r,l,r.path,u)));return ze.mergeArray(s,c)}get element(){return this._def.type}min(e,r){return new Si({...this._def,minLength:{value:e,message:q.toString(r)}})}max(e,r){return new Si({...this._def,maxLength:{value:e,message:q.toString(r)}})}length(e,r){return new Si({...this._def,exactLength:{value:e,message:q.toString(r)}})}nonempty(e){return this.min(1,e)}};br.create=(t,e)=>new br({type:t,minLength:null,maxLength:null,exactLength:null,typeName:X.ZodArray,...ie(e)});function Ir(t){if(t instanceof Je){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=St.create(Ir(s))}return new Je({...t._def,shape:()=>e})}else return t instanceof br?new br({...t._def,type:Ir(t.element)}):t instanceof St?St.create(Ir(t.unwrap())):t instanceof ur?ur.create(Ir(t.unwrap())):t instanceof or?or.create(t.items.map(e=>Ir(e))):t}var Je=class st extends ae{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ce.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Z.object){const p=this._getOrReturnCtx(e);return P(p,{code:O.invalid_type,expected:Z.object,received:p.parsedType}),J}const{status:s,ctx:a}=this._processInputParams(e),{shape:c,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ut&&this._def.unknownKeys==="strip"))for(const p in a.data)l.includes(p)||u.push(p);const f=[];for(const p of l){const b=c[p],w=a.data[p];f.push({key:{status:"valid",value:p},value:b._parse(new xt(a,w,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof Ut){const p=this._def.unknownKeys;if(p==="passthrough")for(const b of u)f.push({key:{status:"valid",value:b},value:{status:"valid",value:a.data[b]}});else if(p==="strict")u.length>0&&(P(a,{code:O.unrecognized_keys,keys:u}),s.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const b of u){const w=a.data[b];f.push({key:{status:"valid",value:b},value:p._parse(new xt(a,w,a.path,b)),alwaysSet:b in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const p=[];for(const b of f){const w=await b.key,_=await b.value;p.push({key:w,value:_,alwaysSet:b.alwaysSet})}return p}).then(p=>ze.mergeObjectSync(s,p)):ze.mergeObjectSync(s,f)}get shape(){return this._def.shape()}strict(e){return q.errToObj,new st({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var a,c,l,u;const f=(l=(c=(a=this._def).errorMap)===null||c===void 0?void 0:c.call(a,r,s).message)!==null&&l!==void 0?l:s.defaultError;return r.code==="unrecognized_keys"?{message:(u=q.errToObj(e).message)!==null&&u!==void 0?u:f}:{message:f}}}:{}})}strip(){return new st({...this._def,unknownKeys:"strip"})}passthrough(){return new st({...this._def,unknownKeys:"passthrough"})}extend(e){return new st({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new st({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:X.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new st({...this._def,catchall:e})}pick(e){const r={};return ce.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new st({...this._def,shape:()=>r})}omit(e){const r={};return ce.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new st({...this._def,shape:()=>r})}deepPartial(){return Ir(this)}partial(e){const r={};return ce.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];e&&!e[s]?r[s]=a:r[s]=a.optional()}),new st({...this._def,shape:()=>r})}required(e){const r={};return ce.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let c=this.shape[s];for(;c instanceof St;)c=c._def.innerType;r[s]=c}}),new st({...this._def,shape:()=>r})}keyof(){return Uu(ce.objectKeys(this.shape))}};Je.create=(t,e)=>new Je({shape:()=>t,unknownKeys:"strip",catchall:Ut.create(),typeName:X.ZodObject,...ie(e)});Je.strictCreate=(t,e)=>new Je({shape:()=>t,unknownKeys:"strict",catchall:Ut.create(),typeName:X.ZodObject,...ie(e)});Je.lazycreate=(t,e)=>new Je({shape:t,unknownKeys:"strip",catchall:Ut.create(),typeName:X.ZodObject,...ie(e)});var Qn=class extends ae{_parse(t){const{ctx:e}=this._processInputParams(t),r=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return e.common.issues.push(...l.ctx.common.issues),l.result;const c=a.map(l=>new Qe(l.ctx.common.issues));return P(e,{code:O.invalid_union,unionErrors:c}),J}if(e.common.async)return Promise.all(r.map(async a=>{const c={...e,common:{...e.common,issues:[]},parent:null};return{result:await a._parseAsync({data:e.data,path:e.path,parent:c}),ctx:c}})).then(s);{let a;const c=[];for(const u of r){const f={...e,common:{...e.common,issues:[]},parent:null},p=u._parseSync({data:e.data,path:e.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:f}),f.common.issues.length&&c.push(f.common.issues)}if(a)return e.common.issues.push(...a.ctx.common.issues),a.result;const l=c.map(u=>new Qe(u));return P(e,{code:O.invalid_union,unionErrors:l}),J}}get options(){return this._def.options}};Qn.create=(t,e)=>new Qn({options:t,typeName:X.ZodUnion,...ie(e)});var kt=t=>t instanceof Jn?kt(t.schema):t instanceof vt?kt(t.innerType()):t instanceof ei?[t.value]:t instanceof hi?t.options:t instanceof ti?ce.objectValues(t.enum):t instanceof ri?kt(t._def.innerType):t instanceof Hn?[void 0]:t instanceof Yn?[null]:t instanceof St?[void 0,...kt(t.unwrap())]:t instanceof ur?[null,...kt(t.unwrap())]:t instanceof pa||t instanceof ii?kt(t.unwrap()):t instanceof ni?kt(t._def.innerType):[],Ou=class Iu extends ae{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.object)return P(r,{code:O.invalid_type,expected:Z.object,received:r.parsedType}),J;const s=this.discriminator,a=r.data[s],c=this.optionsMap.get(a);return c?r.common.async?c._parseAsync({data:r.data,path:r.path,parent:r}):c._parseSync({data:r.data,path:r.path,parent:r}):(P(r,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),J)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const a=new Map;for(const c of r){const l=kt(c.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of l){if(a.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);a.set(u,c)}}return new Iu({typeName:X.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...ie(s)})}};function Zs(t,e){const r=rr(t),s=rr(e);if(t===e)return{valid:!0,data:t};if(r===Z.object&&s===Z.object){const a=ce.objectKeys(e),c=ce.objectKeys(t).filter(u=>a.indexOf(u)!==-1),l={...t,...e};for(const u of c){const f=Zs(t[u],e[u]);if(!f.valid)return{valid:!1};l[u]=f.data}return{valid:!0,data:l}}else if(r===Z.array&&s===Z.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let c=0;c<t.length;c++){const l=t[c],u=e[c],f=Zs(l,u);if(!f.valid)return{valid:!1};a.push(f.data)}return{valid:!0,data:a}}else return r===Z.date&&s===Z.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Xn=class extends ae{_parse(t){const{status:e,ctx:r}=this._processInputParams(t),s=(a,c)=>{if(Ps(a)||Ps(c))return J;const l=Zs(a.value,c.value);return l.valid?((js(a)||js(c))&&e.dirty(),{status:e.value,value:l.data}):(P(r,{code:O.invalid_intersection_types}),J)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,c])=>s(a,c)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Xn.create=(t,e,r)=>new Xn({left:t,right:e,typeName:X.ZodIntersection,...ie(r)});var or=class Ru extends ae{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.array)return P(s,{code:O.invalid_type,expected:Z.array,received:s.parsedType}),J;if(s.data.length<this._def.items.length)return P(s,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),J;!this._def.rest&&s.data.length>this._def.items.length&&(P(s,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const c=[...s.data].map((l,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new xt(s,l,s.path,u)):null}).filter(l=>!!l);return s.common.async?Promise.all(c).then(l=>ze.mergeArray(r,l)):ze.mergeArray(r,c)}get items(){return this._def.items}rest(e){return new Ru({...this._def,rest:e})}};or.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new or({items:t,typeName:X.ZodTuple,rest:null,...ie(e)})};var Cu=class Ds extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.object)return P(s,{code:O.invalid_type,expected:Z.object,received:s.parsedType}),J;const a=[],c=this._def.keyType,l=this._def.valueType;for(const u in s.data)a.push({key:c._parse(new xt(s,u,s.path,u)),value:l._parse(new xt(s,s.data[u],s.path,u)),alwaysSet:u in s.data});return s.common.async?ze.mergeObjectAsync(r,a):ze.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof ae?new Ds({keyType:e,valueType:r,typeName:X.ZodRecord,...ie(s)}):new Ds({keyType:Gr.create(),valueType:e,typeName:X.ZodRecord,...ie(r)})}},Wi=class extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.map)return P(r,{code:O.invalid_type,expected:Z.map,received:r.parsedType}),J;const s=this._def.keyType,a=this._def.valueType,c=[...r.data.entries()].map(([l,u],f)=>({key:s._parse(new xt(r,l,r.path,[f,"key"])),value:a._parse(new xt(r,u,r.path,[f,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of c){const f=await u.key,p=await u.value;if(f.status==="aborted"||p.status==="aborted")return J;(f.status==="dirty"||p.status==="dirty")&&e.dirty(),l.set(f.value,p.value)}return{status:e.value,value:l}})}else{const l=new Map;for(const u of c){const f=u.key,p=u.value;if(f.status==="aborted"||p.status==="aborted")return J;(f.status==="dirty"||p.status==="dirty")&&e.dirty(),l.set(f.value,p.value)}return{status:e.value,value:l}}}};Wi.create=(t,e,r)=>new Wi({valueType:e,keyType:t,typeName:X.ZodMap,...ie(r)});var Gi=class zs extends ae{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.set)return P(s,{code:O.invalid_type,expected:Z.set,received:s.parsedType}),J;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(P(s,{code:O.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(P(s,{code:O.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const c=this._def.valueType;function l(f){const p=new Set;for(const b of f){if(b.status==="aborted")return J;b.status==="dirty"&&r.dirty(),p.add(b.value)}return{status:r.value,value:p}}const u=[...s.data.values()].map((f,p)=>c._parse(new xt(s,f,s.path,p)));return s.common.async?Promise.all(u).then(f=>l(f)):l(u)}min(e,r){return new zs({...this._def,minSize:{value:e,message:q.toString(r)}})}max(e,r){return new zs({...this._def,maxSize:{value:e,message:q.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Gi.create=(t,e)=>new Gi({valueType:t,minSize:null,maxSize:null,typeName:X.ZodSet,...ie(e)});var Lu=class Ai extends ae{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.function)return P(r,{code:O.invalid_type,expected:Z.function,received:r.parsedType}),J;function s(u,f){return Zi({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,$i(),Wr].filter(p=>!!p),issueData:{code:O.invalid_arguments,argumentsError:f}})}function a(u,f){return Zi({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,$i(),Wr].filter(p=>!!p),issueData:{code:O.invalid_return_type,returnTypeError:f}})}const c={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof Kr){const u=this;return je(async function(...f){const p=new Qe([]),b=await u._def.args.parseAsync(f,c).catch(E=>{throw p.addIssue(s(f,E)),p}),w=await Reflect.apply(l,this,b);return await u._def.returns._def.type.parseAsync(w,c).catch(E=>{throw p.addIssue(a(w,E)),p})})}else{const u=this;return je(function(...f){const p=u._def.args.safeParse(f,c);if(!p.success)throw new Qe([s(f,p.error)]);const b=Reflect.apply(l,this,p.data),w=u._def.returns.safeParse(b,c);if(!w.success)throw new Qe([a(b,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ai({...this._def,args:or.create(e).rest(mr.create())})}returns(e){return new Ai({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new Ai({args:e||or.create([]).rest(mr.create()),returns:r||mr.create(),typeName:X.ZodFunction,...ie(s)})}},Jn=class extends ae{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}};Jn.create=(t,e)=>new Jn({getter:t,typeName:X.ZodLazy,...ie(e)});var ei=class extends ae{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return P(e,{received:e.data,code:O.invalid_literal,expected:this._def.value}),J}return{status:"valid",value:t.data}}get value(){return this._def.value}};ei.create=(t,e)=>new ei({value:t,typeName:X.ZodLiteral,...ie(e)});function Uu(t,e){return new hi({values:t,typeName:X.ZodEnum,...ie(e)})}var hi=class Vs extends ae{constructor(){super(...arguments),bn.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return P(r,{expected:ce.joinValues(s),received:r.parsedType,code:O.invalid_type}),J}if(Di(this,bn)||Au(this,bn,new Set(this._def.values)),!Di(this,bn).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return P(r,{received:r.data,code:O.invalid_enum_value,options:s}),J}return je(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Vs.create(e,{...this._def,...r})}exclude(e,r=this._def){return Vs.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}};bn=new WeakMap;hi.create=Uu;var ti=class extends ae{constructor(){super(...arguments),_n.set(this,void 0)}_parse(t){const e=ce.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Z.string&&r.parsedType!==Z.number){const s=ce.objectValues(e);return P(r,{expected:ce.joinValues(s),received:r.parsedType,code:O.invalid_type}),J}if(Di(this,_n)||Au(this,_n,new Set(ce.getValidEnumValues(this._def.values))),!Di(this,_n).has(t.data)){const s=ce.objectValues(e);return P(r,{received:r.data,code:O.invalid_enum_value,options:s}),J}return je(t.data)}get enum(){return this._def.values}};_n=new WeakMap;ti.create=(t,e)=>new ti({values:t,typeName:X.ZodNativeEnum,...ie(e)});var Kr=class extends ae{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==Z.promise&&e.common.async===!1)return P(e,{code:O.invalid_type,expected:Z.promise,received:e.parsedType}),J;const r=e.parsedType===Z.promise?e.data:Promise.resolve(e.data);return je(r.then(s=>this._def.type.parseAsync(s,{path:e.path,errorMap:e.common.contextualErrorMap})))}};Kr.create=(t,e)=>new Kr({type:t,typeName:X.ZodPromise,...ie(e)});var vt=class extends ae{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===X.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:c=>{P(r,c),c.fatal?e.abort():e.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const c=s.transform(r.data,a);if(r.common.async)return Promise.resolve(c).then(async l=>{if(e.value==="aborted")return J;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?J:u.status==="dirty"||e.value==="dirty"?Rr(u.value):u});{if(e.value==="aborted")return J;const l=this._def.schema._parseSync({data:c,path:r.path,parent:r});return l.status==="aborted"?J:l.status==="dirty"||e.value==="dirty"?Rr(l.value):l}}if(s.type==="refinement"){const c=l=>{const u=s.refinement(l,a);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?J:(l.status==="dirty"&&e.dirty(),c(l.value),{status:e.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?J:(l.status==="dirty"&&e.dirty(),c(l.value).then(()=>({status:e.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!zn(c))return c;const l=s.transform(c.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>zn(c)?Promise.resolve(s.transform(c.value,a)).then(l=>({status:e.value,value:l})):c);ce.assertNever(s)}};vt.create=(t,e,r)=>new vt({schema:t,typeName:X.ZodEffects,effect:e,...ie(r)});vt.createWithPreprocess=(t,e,r)=>new vt({schema:e,effect:{type:"preprocess",transform:t},typeName:X.ZodEffects,...ie(r)});var St=class extends ae{_parse(t){return this._getType(t)===Z.undefined?je(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};St.create=(t,e)=>new St({innerType:t,typeName:X.ZodOptional,...ie(e)});var ur=class extends ae{_parse(t){return this._getType(t)===Z.null?je(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};ur.create=(t,e)=>new ur({innerType:t,typeName:X.ZodNullable,...ie(e)});var ri=class extends ae{_parse(t){const{ctx:e}=this._processInputParams(t);let r=e.data;return e.parsedType===Z.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:e.path,parent:e})}removeDefault(){return this._def.innerType}};ri.create=(t,e)=>new ri({innerType:t,typeName:X.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ie(e)});var ni=class extends ae{_parse(t){const{ctx:e}=this._processInputParams(t),r={...e,common:{...e.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Vn(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qe(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Qe(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};ni.create=(t,e)=>new ni({innerType:t,typeName:X.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ie(e)});var qi=class extends ae{_parse(t){if(this._getType(t)!==Z.nan){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:Z.nan,received:r.parsedType}),J}return{status:"valid",value:t.data}}};qi.create=t=>new qi({typeName:X.ZodNaN,...ie(t)});var Kp=Symbol("zod_brand"),pa=class extends ae{_parse(t){const{ctx:e}=this._processInputParams(t),r=e.data;return this._def.type._parse({data:r,path:e.path,parent:e})}unwrap(){return this._def.type}},ga=class Mu extends ae{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return c.status==="aborted"?J:c.status==="dirty"?(r.dirty(),Rr(c.value)):this._def.out._parseAsync({data:c.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?J:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,r){return new Mu({in:e,out:r,typeName:X.ZodPipeline})}},ii=class extends ae{_parse(t){const e=this._def.innerType._parse(t),r=s=>(zn(s)&&(s.value=Object.freeze(s.value)),s);return Vn(e)?e.then(s=>r(s)):r(e)}unwrap(){return this._def.innerType}};ii.create=(t,e)=>new ii({innerType:t,typeName:X.ZodReadonly,...ie(e)});function Nu(t,e={},r){return t?qr.create().superRefine((s,a)=>{var c,l;if(!t(s)){const u=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,f=(l=(c=u.fatal)!==null&&c!==void 0?c:r)!==null&&l!==void 0?l:!0,p=typeof u=="string"?{message:u}:u;a.addIssue({code:"custom",...p,fatal:f})}}):qr.create()}var Hp={object:Je.lazycreate},X;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(X||(X={}));var Yp=(t,e={message:`Input not instance of ${t.name}`})=>Nu(r=>r instanceof t,e),Pu=Gr.create,ju=Wn.create,Qp=qi.create,Xp=Gn.create,Fu=qn.create,Jp=Kn.create,eg=zi.create,tg=Hn.create,rg=Yn.create,ng=qr.create,ig=mr.create,sg=Ut.create,ag=Vi.create,og=br.create,ug=Je.create,cg=Je.strictCreate,lg=Qn.create,hg=Ou.create,fg=Xn.create,dg=or.create,pg=Cu.create,gg=Wi.create,mg=Gi.create,yg=Lu.create,vg=Jn.create,wg=ei.create,bg=hi.create,_g=ti.create,Eg=Kr.create,to=vt.create,Sg=St.create,Ag=ur.create,Tg=vt.createWithPreprocess,xg=ga.create,kg=()=>Pu().optional(),Bg=()=>ju().optional(),Og=()=>Fu().optional(),Ig={string:t=>Gr.create({...t,coerce:!0}),number:t=>Wn.create({...t,coerce:!0}),boolean:t=>qn.create({...t,coerce:!0}),bigint:t=>Gn.create({...t,coerce:!0}),date:t=>Kn.create({...t,coerce:!0})},Rg=J,T=Object.freeze({__proto__:null,defaultErrorMap:Wr,setErrorMap:Rp,getErrorMap:$i,makeIssue:Zi,EMPTY_PATH:Cp,addIssueToContext:P,ParseStatus:ze,INVALID:J,DIRTY:Rr,OK:je,isAborted:Ps,isDirty:js,isValid:zn,isAsync:Vn,get util(){return ce},get objectUtil(){return Ns},ZodParsedType:Z,getParsedType:rr,ZodType:ae,datetimeRegex:ku,ZodString:Gr,ZodNumber:Wn,ZodBigInt:Gn,ZodBoolean:qn,ZodDate:Kn,ZodSymbol:zi,ZodUndefined:Hn,ZodNull:Yn,ZodAny:qr,ZodUnknown:mr,ZodNever:Ut,ZodVoid:Vi,ZodArray:br,ZodObject:Je,ZodUnion:Qn,ZodDiscriminatedUnion:Ou,ZodIntersection:Xn,ZodTuple:or,ZodRecord:Cu,ZodMap:Wi,ZodSet:Gi,ZodFunction:Lu,ZodLazy:Jn,ZodLiteral:ei,ZodEnum:hi,ZodNativeEnum:ti,ZodPromise:Kr,ZodEffects:vt,ZodTransformer:vt,ZodOptional:St,ZodNullable:ur,ZodDefault:ri,ZodCatch:ni,ZodNaN:qi,BRAND:Kp,ZodBranded:pa,ZodPipeline:ga,ZodReadonly:ii,custom:Nu,Schema:ae,ZodSchema:ae,late:Hp,get ZodFirstPartyTypeKind(){return X},coerce:Ig,any:ng,array:og,bigint:Xp,boolean:Fu,date:Jp,discriminatedUnion:hg,effect:to,enum:bg,function:yg,instanceof:Yp,intersection:fg,lazy:vg,literal:wg,map:gg,nan:Qp,nativeEnum:_g,never:sg,null:rg,nullable:Ag,number:ju,object:ug,oboolean:Og,onumber:Bg,optional:Sg,ostring:kg,pipeline:xg,preprocess:Tg,promise:Eg,record:pg,set:mg,strictObject:cg,string:Pu,symbol:eg,transformer:to,tuple:dg,undefined:tg,union:lg,unknown:ig,void:ag,NEVER:Rg,ZodIssueCode:O,quotelessJson:Ip,ZodError:Qe});function Cg({fetch:t,GRAPHQL_URL:e,logger:r}){const s=`
    query GetTransactions ($transactionIds: [ID!]!) {
      transactions(ids: $transactionIds) {
        edges {
          node {
            owner {
              address
            }
            tags {
              name
              value
            }
            block {
              id
              height
              timestamp
            }
          }
        }
      }
    }`,a=T.object({data:T.object({transactions:T.object({edges:T.array(T.object({node:T.record(T.any())}))})})});return c=>oe(c).chain(de(l=>t(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:s,variables:{transactionIds:[l]}})}).then(async u=>{if(u.ok)return u.json();throw r('Error Encountered when querying gateway for transaction "%s"',l),new Error(`${u.status}: ${await u.text()}`)}).then(a.parse).then(Sp(["data","transactions","edges","0","node"])))).toPromise()}var Lg=Js(Cc()),$u=(t="@permaweb/aoconnect")=>{const e=(0,Lg.default)(t);return e.child=r=>$u(`${e.namespace}:${r}`),e.tap=(r,...s)=>Op((...a)=>e(r,...s,...a)),e},Zu=({url:t,path:e})=>e?e.startsWith("/")?Zu({url:t,path:e.slice(1)}):(t=new URL(t),t.pathname+=e,t.toString()):t;function Ug(t){return ar(rs([]),Dn((e,r)=>ar(Tp([],r.name),Md(r.value),Ze(r.name,Ct,e))(e),{}),fa(e=>e.length>1?e:e[0]))(t)}function ro(t){return wu([[Tn(String),An(t)],[Tn(Array),pp(t)],[au,Vf]])}function Sr(t){let e;return Tn(Qe,t)?(e=new Error(Mg(t)),e.stack+=t.stack):Tn(Error,t)?e=t:hp("message",t)?e=new Error(t.message):Tn(String,t)?e=new Error(t):e=new Error("An error occurred"),e}function Mg(t){return ar(e=>function r(s,a,c){return Dn((l,u)=>ar(wu([[An(O.invalid_arguments),()=>r(u.argumentsError,422,"Invalid Arguments")],[An(O.invalid_return_type),()=>r(u.returnTypeError,500,"Invalid Return")],[An(O.invalid_union),()=>Yd(f=>r(f,400,"Invalid Union"),u.unionErrors)],[au,()=>[{...u,status:a,contextCode:c}]]]),sp(l))(u.code),[],s.issues)}(e,400,""),e=>Dn((r,s)=>{const{message:a,path:c,contextCode:l}=s,u=c[1]||c[0],f=l?`${l} `:"";return r.push(`${f}'${u}': ${a}.`),r},[],e),bp(" | "))(t)}var Ng=T.object({id:T.string().min(1,{message:"message is required to be a message id"}),processId:T.string().min(1,{message:"process is required to be a process id"})});function Pg(){return t=>oe(t).map(Ng.parse).map(()=>t)}var fi=T.object({name:T.string(),value:T.string()}),jg=T.function().args(T.object({Id:T.string(),Target:T.string(),Owner:T.string(),Anchor:T.string().optional(),Data:T.any().default("1234"),Tags:T.array(T.object({name:T.string(),value:T.string()}))})).returns(T.promise(T.any())),Fg=T.function().args(T.object({id:T.string().min(1,{message:"message id is required"}),processId:T.string().min(1,{message:"process id is required"})})).returns(T.promise(T.any())),$g=T.function().args(T.object({process:T.string().min(1,{message:"process id is required"}),from:T.string().optional(),to:T.string().optional(),sort:T.enum(["ASC","DESC"]).default("ASC"),limit:T.number().optional()})).returns(T.promise(T.object({edges:T.array(T.object({cursor:T.string(),node:T.object({Output:T.any().optional(),Messages:T.array(T.any()).optional(),Spawns:T.array(T.any()).optional(),Error:T.any().optional()})}))}))),Du=T.function().args(T.object({processId:T.string(),data:T.any(),tags:T.array(fi),anchor:T.string().optional(),signer:T.any()})).returns(T.promise(T.object({messageId:T.string()}).passthrough())),Zg=T.function().args(T.object({data:T.any(),tags:T.array(fi),signer:T.any()})).returns(T.promise(T.object({processId:T.string()}).passthrough())),Dg=T.function().args(T.object({process:T.string(),message:T.string(),baseLayer:T.boolean().optional(),exclude:T.array(T.string()).optional()})).returns(T.promise(T.object({assignmentId:T.string()}).passthrough())),zu=Du;T.function().args(T.object({suUrl:T.string().url(),processId:T.string()})).returns(T.promise(T.object({tags:T.array(fi)}).passthrough()));T.function().args(T.string()).returns(T.promise(T.object({url:T.string()})));var zg=T.function().args(T.string()).returns(T.promise(T.boolean())),Vg=T.function().args(T.string()).returns(T.promise(T.object({tags:T.array(fi)}).passthrough())),ns=T.function().args(T.object({data:T.any(),tags:T.array(fi),target:T.string().optional(),anchor:T.string().optional()})).returns(T.promise(T.object({id:T.string(),raw:T.any()})));function Wg({loadResult:t}){return t=de(Fg.implement(t)),e=>oe({id:e.id,processId:e.processId}).chain(t)}function Gg(t){const e=Pg(),r=Wg(t);return({message:s,process:a})=>oe({id:s,processId:a}).chain(e).chain(r).map(t.logger.tap('readResult result for message "%s": %O',s)).map(c=>c).bimap(Sr,Er).toPromise()}var _r=(...t)=>e=>t.reduce((r,s)=>s(r),e),ma=t=>e=>e??t,qg=t=>e=>_r(r=>r&&r[e],ma(t)),Kg=t=>e=>{const r={};for(const s in e)e.hasOwnProperty(s)&&(r[s]=t(e[s],s,e));return r},Hg=t=>(...e)=>!t(...e),is=t=>e=>{const r=e.findIndex(a=>a.name==="Data-Protocol"&&a.value===t);if(r===-1)return[0,0];let s=e.findIndex((a,c)=>c>r&&a.name==="Data-Protocol"&&a.value!==t);return s===-1&&(s=e.length),[r,s]},ya=t=>{let e=t.findIndex(r=>r.name==="Data-Protocol");return e===-1&&(e=t.length),e},Vu=t=>e=>e.name===t,va=(t,e)=>_r(is(t),([r,s])=>e.slice(r,s))(e),Wu=(t,e,r)=>_r(s=>va(t,s),s=>s.filter(Vu(e)))(r),Yg=(t,e,r)=>_r(s=>Wu(t,e,s),s=>s[0])(r),ss=(t,e)=>(e=e.filter(r=>r.name!=="Data-Protocol"||r.value!==t),e.length?[{name:"Data-Protocol",value:t},...e]:[]),Qg=(t,e,r)=>{const[s,a]=is(t)(r);let[c,l,u]=[r.slice(0,s),r.slice(s,a),r.slice(a)];return l.length||(e=ss(t,e),c=u,u=[]),[c,l,e,u].flat(1)},Xg=(t,e)=>{const r=ya(e),[s,a]=[e.slice(0,r),e.slice(r)];return[s,t,a].flat(1)},Gu=(t,e,r)=>{const[s,a]=is(t)(r);let[c,l]=[r.slice(0,s),r.slice(a)];return l.length===r.length&&(c=l,l=[]),[c,ss(t,e),l].flat(1)},Jg=(t,e)=>Gu(t,[],e),em=(t,e,r)=>{const[s,a]=is(t)(r),[c,l,u]=[r.slice(0,s),r.slice(s,a),r.slice(a)];return[c,ss(t,l.filter(Hg(Vu(e)))),u].flat(1)},wa=(t,e=!1)=>_r(ma([]),r=>r.reduce((s,a)=>_r(qg([])(a.name),c=>(c.push(a.value),c),c=>(s[a.name]=c,s))(s),{}),Kg(r=>e?r:r[0]))(t),qu=(t,e,r)=>_r(ma([]),s=>va(t,s),s=>wa(s,r))(e),tm=(t,e)=>qu(t,e,!0),rm=(t,e)=>qu(t,e,!1),nm=t=>{const e=ya(t);return wa(t.slice(0,e),!1)},im=t=>{const e=ya(t);return wa(t.slice(0,e),!0)},Ku=t=>({findAll:e=>va(t,e),findAllByName:(e,r)=>Wu(t,e,r),findByName:(e,r)=>Yg(t,e,r),create:e=>ss(t,e),update:(e,r)=>Gu(t,e,r),concat:(e,r)=>Qg(t,e,r),removeAll:e=>Jg(t,e),removeAllByName:(e,r)=>em(t,e,r),parse:e=>rm(t,e),parseAll:e=>tm(t,e),concatUnassoc:Xg,parseUnassoc:nm,parseAllUnassoc:im}),ba=Ku("ao"),no=Qr(ba.removeAllByName),sm=Qr(ba.concat),io=Qr(ba.concatUnassoc),am=T.array(T.object({name:T.string(),value:T.string()}));function om(){return t=>oe(t.tags).map(rs([])).map(no("Variant")).map(no("Type")).map(sm([{name:"Variant",value:"ao.TN.1"},{name:"Type",value:"Message"}])).map(am.parse).map(Ze("tags",Ct,t))}function um({logger:t}){return e=>oe(e).chain(bu(gu(e.data),()=>vr(e),()=>vr(" ").map(Ze("data",Ct,e)).map(r=>ar(wr("tags"),io([{name:"Content-Type",value:"text/plain"}]),Ze("tags",Ct,r))(r)).map(t.tap('added pseudo-random string as message "data"')))).map(r=>ar(wr("tags"),io([{name:"SDK",value:"aoconnect"}]),Ze("tags",Ct,r))(r))}function cm(t){const e=om(),r=um(t),s=Du.implement(t.deployMessage);return a=>oe(a).chain(e).chain(r).chain(de(({id:c,data:l,tags:u,anchor:f,signer:p})=>s({processId:c,data:l,tags:u,anchor:f,signer:ns.implement(p)}))).map(c=>Ze("messageId",c.messageId,a))}function lm(t){const e=cm(t);return({process:r,data:s,tags:a,anchor:c,signer:l})=>oe({id:r,data:s,tags:a,anchor:c,signer:l}).chain(e).map(u=>u.messageId).bimap(Sr,Er).toPromise()}var pn=(t,e,r)=>s=>e(s[t])?vr(s):cr(`Tag '${t}': ${r}`);function hm({loadTransactionMeta:t,logger:e}){return t=de(Vg.implement(t)),r=>oe(r).chain(t).map(wr("tags")).map(Ug).chain(pn("Data-Protocol",ro("ao"),"value 'ao' was not found on module")).chain(pn("Type",ro("Module"),"value 'Module' was not found on module")).chain(pn("Module-Format",gs,"was not found on module")).chain(pn("Input-Encoding",gs,"was not found on module")).chain(pn("Output-Encoding",gs,"was not found on module")).bimap(e.tap("Verifying module source failed: %s"),e.tap("Verified module source"))}function fm({logger:t,validateScheduler:e}){return e=de(zg.implement(e)),r=>oe(r).chain(s=>e(s).chain(a=>a?vr(s):cr(`Valid Scheduler-Location owned by ${s} not found`))).bimap(t.tap("Verifying scheduler failed: %s"),t.tap("Verified scheduler"))}function dm({logger:t}){return e=>oe(e).map(t.tap("Checking for signer")).chain(r=>r?vr(r):cr("signer not found"))}function pm(t){const e=t.logger.child("verifyInput");t={...t,logger:e};const r=hm(t),s=fm(t),a=dm(t);return c=>oe(c).chain(l=>r(l.module).map(()=>l)).chain(l=>s(l.scheduler)).map(()=>c).chain(l=>a(l.signer).map(()=>l)).bimap(e.tap("Error when verify input: %s"),e.tap("Successfully verified inputs"))}var _a=Ku("ao"),gi=Qr(_a.removeAllByName),gm=Qr(_a.concat),so=Qr(_a.concatUnassoc),mm=T.array(T.object({name:T.string(),value:T.string()}));function ym(){return t=>oe(t).map(wr("tags")).map(rs([])).map(gi("Variant")).map(gi("Type")).map(gi("Module")).map(gi("Scheduler")).map(gm([{name:"Variant",value:"ao.TN.1"},{name:"Type",value:"Process"},{name:"Module",value:t.module},{name:"Scheduler",value:t.scheduler}])).map(mm.parse).map(Ze("tags",Ct,t))}function vm({logger:t}){return e=>oe(e).chain(bu(gu(e.data),()=>vr(e),()=>vr(" ").map(Ze("data",Ct,e)).map(r=>ar(wr("tags"),so([{name:"Content-Type",value:"text/plain"}]),Ze("tags",Ct,r))(r)).map(t.tap('added pseudo-random string as process "data"')))).map(r=>ar(wr("tags"),so([{name:"SDK",value:"aoconnect"}]),Ze("tags",Ct,r))(r))}function wm(t){const e=t.logger.child("uploadProcess");t={...t,logger:e};const r=ym(),s=vm(t),a=Zg.implement(t.deployProcess);return c=>oe(c).chain(r).chain(s).chain(de(({data:l,tags:u,signer:f})=>a({data:l,tags:u,signer:ns.implement(f)}))).map(l=>Ze("processId",l.processId,c))}function bm(t){const e=pm(t),r=wm(t);return({module:s,scheduler:a,signer:c,tags:l,data:u})=>oe({module:s,scheduler:a,signer:c,tags:l,data:u}).chain(e).chain(r).map(f=>f.processId).bimap(Sr,Er).toPromise()}function _m(t){const e=zu.implement(t.deployMonitor);return r=>oe(r).chain(de(({id:s,signer:a})=>e({processId:s,signer:ns.implement(a),data:" ",tags:[]}))).map(s=>Ze("monitorId",s.messageId,r))}function Em(t){const e=_m(t);return({process:r,signer:s})=>oe({id:r,signer:s}).chain(e).map(a=>a.monitorId).bimap(Sr,Er).toPromise()}function Sm(t){const e=zu.implement(t.deployUnmonitor);return r=>oe(r).chain(de(({id:s,signer:a})=>e({processId:s,signer:ns.implement(a),data:" ",tags:[]}))).map(s=>Ze("monitorId",s.messageId,r))}function Am(t){const e=Sm(t);return({process:r,signer:s})=>oe({id:r,signer:s}).chain(e).map(a=>a.monitorId).bimap(Sr,Er).toPromise()}var Tm=T.object({process:T.string().min(1,{message:"process identifier is required"}),from:T.string().optional(),to:T.string().optional(),sort:T.enum(["ASC","DESC"]).default("ASC"),limit:T.number().optional()});function xm(){return t=>oe(t).map(Tm.parse).map(()=>t)}function km({queryResults:t}){return t=de($g.implement(t)),e=>oe({process:e.process,from:e.from,to:e.to,sort:e.sort,limit:e.limit}).chain(t)}function Bm(t){const e=xm(),r=km(t);return({process:s,from:a,to:c,sort:l,limit:u})=>oe({process:s,from:a,to:c,sort:l,limit:u}).chain(e).chain(r).map(t.logger.tap('readResults result for message "%s": %O',s)).map(f=>f).bimap(Sr,Er).toPromise()}var Om=T.object({Id:T.string(),Target:T.string(),Owner:T.string(),Anchor:T.string().optional(),Data:T.any().default("1234"),Tags:T.array(T.object({name:T.string(),value:T.string()}))});function Im(){return t=>oe(t).map(Om.parse).map(e=>(e.Tags=e.Tags.concat([{name:"Data-Protocol",value:"ao"},{name:"Type",value:"Message"},{name:"Variant",value:"ao.TN.1"}]),e))}function Rm({dryrunFetch:t}){return de(jg.implement(t))}function Cm(t){const e=Im(),r=Rm(t);return s=>oe(s).map(Lm).chain(e).chain(r).toPromise()}function Lm({process:t,data:e,tags:r,anchor:s,...a}){return{Id:"1234",Owner:"1234",...a,Target:t,Data:e||"1234",Tags:r||[],Anchor:s||"0"}}function Um(t){const e=Dg.implement(t.deployAssign);return r=>oe(r).chain(de(({process:s,message:a,baseLayer:c,exclude:l})=>e({process:s,message:a,baseLayer:c,exclude:l}))).map(s=>Ze("assignmentId",s.assignmentId,r))}function Mm(t){const e=Um(t);return({process:r,message:s,baseLayer:a,exclude:c})=>oe({process:r,message:s,baseLayer:a,exclude:c}).chain(e).map(l=>l.assignmentId).bimap(Sr,Er).toPromise()}var Nm="https://arweave.net",Pm="https://mu.ao-testnet.xyz",jm="https://cu.ao-testnet.xyz";function Fm({GRAPHQL_URL:t,GRAPHQL_MAX_RETRIES:e,GRAPHQL_RETRY_BACKOFF:r,GATEWAY_URL:s=Nm,MU_URL:a=Pm,CU_URL:c=jm}={}){const l=$u();t||(t=Zu({url:s,path:"/graphql"}));const{validate:u}=su({cacheSize:100,GRAPHQL_URL:t,GRAPHQL_MAX_RETRIES:e,GRAPHQL_RETRY_BACKOFF:r}),f=Df({MAX_SIZE:25}),p=l.child("result"),b=Gg({loadResult:Ff({fetch,CU_URL:c,logger:p}),logger:p}),w=l.child("message"),_=lm({loadProcessMeta:fs({fetch,cache:f,logger:w}),deployMessage:Lf({fetch,MU_URL:a,logger:w}),logger:w}),E=l.child("spawn"),v=bm({loadTransactionMeta:Cg({fetch,GRAPHQL_URL:t,logger:E}),validateScheduler:u,deployProcess:Uf({fetch,MU_URL:a,logger:E}),logger:E}),S=l.child("monitor"),A=Em({loadProcessMeta:fs({fetch,cache:f,logger:S}),deployMonitor:Mf({fetch,MU_URL:a,logger:S}),logger:S}),x=l.child("unmonitor"),C=Am({loadProcessMeta:fs({fetch,cache:f,logger:x}),deployUnmonitor:Nf({fetch,MU_URL:a,logger:x}),logger:S}),B=l.child("results"),L=Bm({queryResults:$f({fetch,CU_URL:c,logger:B}),logger:B}),z=l.child("dryrun"),V=Cm({dryrunFetch:jf({fetch,CU_URL:c,logger:z}),logger:z}),_e=l.child("assign"),et=Mm({deployAssign:Pf({fetch,MU_URL:a,logger:_e}),logger:w});return{result:b,results:L,message:_,spawn:v,monitor:A,unmonitor:C,dryrun:V,assign:et}}var Hu={};yo(Hu,{createDataItemSigner:()=>ly});var Yu=Js(Mc()),Qu={};yo(Qu,{AVSCTap:()=>di,ArweaveSigner:()=>Aa,DataItem:()=>si,MAX_TAG_BYTES:()=>as,MIN_BINARY_SIZE:()=>ka,SIG_CONFIG:()=>Hr,SignatureConfig:()=>$e,Signer:()=>tc,createData:()=>sc,default:()=>oy,deserializeTags:()=>Ki,indexToType:()=>Ta,serializeTags:()=>xa,tagsExceedLimit:()=>ic,warparbundles:()=>uy});var $m=Object.create,Ea=Object.defineProperty,Zm=Object.getOwnPropertyDescriptor,Dm=Object.getOwnPropertyNames,zm=Object.getPrototypeOf,Vm=Object.prototype.hasOwnProperty,Mt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wm=(t,e)=>{for(var r in e)Ea(t,r,{get:e[r],enumerable:!0})},Gm=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Dm(e))!Vm.call(t,a)&&a!==r&&Ea(t,a,{get:()=>e[a],enumerable:!(s=Zm(e,a))||s.enumerable});return t},Ar=(t,e,r)=>(r=t!=null?$m(zm(t)):{},Gm(Ea(r,"default",{value:t,enumerable:!0}),t)),qm=Mt(t=>{Object.defineProperty(t,"__esModule",{value:!0});function e(r){var s=4,a=r.length,c=a%s;if(!c)return r;var l=a,u=s-c,f=a+u,p=Buffer.alloc(f);for(p.write(r);u--;)p.write("=",l++);return p.toString()}t.default=e}),Km=Mt(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=qm();function r(f,p){return p===void 0&&(p="utf8"),Buffer.isBuffer(f)?c(f.toString("base64")):c(Buffer.from(f,p).toString("base64"))}function s(f,p){return p===void 0&&(p="utf8"),Buffer.from(a(f),"base64").toString(p)}function a(f){return f=f.toString(),e.default(f).replace(/\-/g,"+").replace(/_/g,"/")}function c(f){return f.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(f){return Buffer.from(a(f),"base64")}var u=r;u.encode=r,u.decode=s,u.toBase64=a,u.fromBase64=c,u.toBuffer=l,t.default=u}),Sa=Mt((t,e)=>{e.exports=Km().default,e.exports.default=e.exports}),Xu=Mt(t=>{t.byteLength=f,t.toByteArray=b,t.fromByteArray=E;var e=[],r=[],s=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(c=0,l=a.length;c<l;++c)e[c]=a[c],r[a.charCodeAt(c)]=c;var c,l;r[45]=62,r[95]=63;function u(v){var S=v.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=v.indexOf("=");A===-1&&(A=S);var x=A===S?0:4-A%4;return[A,x]}function f(v){var S=u(v),A=S[0],x=S[1];return(A+x)*3/4-x}function p(v,S,A){return(S+A)*3/4-A}function b(v){var S,A=u(v),x=A[0],C=A[1],B=new s(p(v,x,C)),L=0,z=C>0?x-4:x,V;for(V=0;V<z;V+=4)S=r[v.charCodeAt(V)]<<18|r[v.charCodeAt(V+1)]<<12|r[v.charCodeAt(V+2)]<<6|r[v.charCodeAt(V+3)],B[L++]=S>>16&255,B[L++]=S>>8&255,B[L++]=S&255;return C===2&&(S=r[v.charCodeAt(V)]<<2|r[v.charCodeAt(V+1)]>>4,B[L++]=S&255),C===1&&(S=r[v.charCodeAt(V)]<<10|r[v.charCodeAt(V+1)]<<4|r[v.charCodeAt(V+2)]>>2,B[L++]=S>>8&255,B[L++]=S&255),B}function w(v){return e[v>>18&63]+e[v>>12&63]+e[v>>6&63]+e[v&63]}function _(v,S,A){for(var x,C=[],B=S;B<A;B+=3)x=(v[B]<<16&16711680)+(v[B+1]<<8&65280)+(v[B+2]&255),C.push(w(x));return C.join("")}function E(v){for(var S,A=v.length,x=A%3,C=[],B=16383,L=0,z=A-x;L<z;L+=B)C.push(_(v,L,L+B>z?z:L+B));return x===1?(S=v[A-1],C.push(e[S>>2]+e[S<<4&63]+"==")):x===2&&(S=(v[A-2]<<8)+v[A-1],C.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),C.join("")}}),Ju=Mt(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.b64UrlDecode=t.b64UrlEncode=t.bufferTob64Url=t.bufferTob64=t.b64UrlToBuffer=t.stringToB64Url=t.stringToBuffer=t.bufferToString=t.b64UrlToString=t.concatBuffers=void 0;var e=Xu();function r(_){let E=0;for(let A=0;A<_.length;A++)E+=_[A].byteLength;let v=new Uint8Array(E),S=0;v.set(new Uint8Array(_[0]),S),S+=_[0].byteLength;for(let A=1;A<_.length;A++)v.set(new Uint8Array(_[A]),S),S+=_[A].byteLength;return v}t.concatBuffers=r;function s(_){let E=u(_);return a(E)}t.b64UrlToString=s;function a(_){return new TextDecoder("utf-8",{fatal:!0}).decode(_)}t.bufferToString=a;function c(_){return new TextEncoder().encode(_)}t.stringToBuffer=c;function l(_){return p(c(_))}t.stringToB64Url=l;function u(_){return new Uint8Array(e.toByteArray(w(_)))}t.b64UrlToBuffer=u;function f(_){return e.fromByteArray(new Uint8Array(_))}t.bufferTob64=f;function p(_){return b(f(_))}t.bufferTob64Url=p;function b(_){return _.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}t.b64UrlEncode=b;function w(_){_=_.replace(/\-/g,"+").replace(/\_/g,"/");let E;return _.length%4==0?E=0:E=4-_.length%4,_.concat("=".repeat(E))}t.b64UrlDecode=w}),Hm=Mt(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Ju(),r=class{constructor(){F(this,"keyLength",4096);F(this,"publicExponent",65537);F(this,"hashAlgorithm","sha256");F(this,"driver");if(!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let s=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),a=await this.driver.exportKey("jwk",s.privateKey);return{kty:a.kty,e:a.e,n:a.n,d:a.d,p:a.p,q:a.q,dp:a.dp,dq:a.dq,qi:a.qi}}async sign(s,a,{saltLength:c}={}){let l=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(s),a);return new Uint8Array(l)}async hash(s,a="SHA-256"){let c=await this.driver.digest(a,s);return new Uint8Array(c)}async verify(s,a,c){let l={kty:"RSA",e:"AQAB",n:s},u=await this.jwkToPublicCryptoKey(l),f=await this.driver.digest("SHA-256",a),p=await this.driver.verify({name:"RSA-PSS",saltLength:0},u,c,a),b=await this.driver.verify({name:"RSA-PSS",saltLength:32},u,c,a),w=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((u.algorithm.modulusLength-1)/8)-f.byteLength-2},u,c,a);return p||b||w}async jwkToCryptoKey(s){return this.driver.importKey("jwk",s,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(s){return this.driver.importKey("jwk",s,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;let s=crypto==null?void 0:crypto.subtle;return s===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(a=>typeof s[a]=="function")}async encrypt(s,a,c){let l=await this.driver.importKey("raw",typeof a=="string"?e.stringToBuffer(a):a,{name:"PBKDF2",length:32},!1,["deriveKey"]),u=await this.driver.deriveKey({name:"PBKDF2",salt:c?e.stringToBuffer(c):e.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},l,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),f=new Uint8Array(16);crypto.getRandomValues(f);let p=await this.driver.encrypt({name:"AES-CBC",iv:f},u,s);return e.concatBuffers([f,p])}async decrypt(s,a,c){let l=await this.driver.importKey("raw",typeof a=="string"?e.stringToBuffer(a):a,{name:"PBKDF2",length:32},!1,["deriveKey"]),u=await this.driver.deriveKey({name:"PBKDF2",salt:c?e.stringToBuffer(c):e.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},l,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),f=s.slice(0,16),p=await this.driver.decrypt({name:"AES-CBC",iv:f},u,s.slice(16));return e.concatBuffers([p])}};t.default=r}),Ym=Mt(t=>{t.read=function(e,r,s,a,c){var l,u,f=c*8-a-1,p=(1<<f)-1,b=p>>1,w=-7,_=s?c-1:0,E=s?-1:1,v=e[r+_];for(_+=E,l=v&(1<<-w)-1,v>>=-w,w+=f;w>0;l=l*256+e[r+_],_+=E,w-=8);for(u=l&(1<<-w)-1,l>>=-w,w+=a;w>0;u=u*256+e[r+_],_+=E,w-=8);if(l===0)l=1-b;else{if(l===p)return u?NaN:(v?-1:1)*(1/0);u=u+Math.pow(2,a),l=l-b}return(v?-1:1)*u*Math.pow(2,l-a)},t.write=function(e,r,s,a,c,l){var u,f,p,b=l*8-c-1,w=(1<<b)-1,_=w>>1,E=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=a?0:l-1,S=a?1:-1,A=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,u=w):(u=Math.floor(Math.log(r)/Math.LN2),r*(p=Math.pow(2,-u))<1&&(u--,p*=2),u+_>=1?r+=E/p:r+=E*Math.pow(2,1-_),r*p>=2&&(u++,p/=2),u+_>=w?(f=0,u=w):u+_>=1?(f=(r*p-1)*Math.pow(2,c),u=u+_):(f=r*Math.pow(2,_-1)*Math.pow(2,c),u=0));c>=8;e[s+v]=f&255,v+=S,f/=256,c-=8);for(u=u<<c|f,b+=c;b>0;e[s+v]=u&255,v+=S,u/=256,b-=8);e[s+v-S]|=A*128}}),Ws=Mt(t=>{var e=Xu(),r=Ym(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=c(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{let n=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(n,i),n.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(n){if(n>a)throw new RangeError('The value "'+n+'" is invalid for option "size"');let i=new Uint8Array(n);return Object.setPrototypeOf(i,u.prototype),i}function u(n,i,o){if(typeof n=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(n)}return f(n,i,o)}u.poolSize=8192;function f(n,i,o){if(typeof n=="string")return _(n,i);if(ArrayBuffer.isView(n))return v(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(le(n,ArrayBuffer)||n&&le(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(le(n,SharedArrayBuffer)||n&&le(n.buffer,SharedArrayBuffer)))return S(n,i,o);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let h=n.valueOf&&n.valueOf();if(h!=null&&h!==n)return u.from(h,i,o);let d=A(n);if(d)return d;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return u.from(n[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}u.from=function(n,i,o){return f(n,i,o)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function b(n,i,o){return p(n),n<=0?l(n):i!==void 0?typeof o=="string"?l(n).fill(i,o):l(n).fill(i):l(n)}u.alloc=function(n,i,o){return b(n,i,o)};function w(n){return p(n),l(n<0?0:x(n)|0)}u.allocUnsafe=function(n){return w(n)},u.allocUnsafeSlow=function(n){return w(n)};function _(n,i){if((typeof i!="string"||i==="")&&(i="utf8"),!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i);let o=B(n,i)|0,h=l(o),d=h.write(n,i);return d!==o&&(h=h.slice(0,d)),h}function E(n){let i=n.length<0?0:x(n.length)|0,o=l(i);for(let h=0;h<i;h+=1)o[h]=n[h]&255;return o}function v(n){if(le(n,Uint8Array)){let i=new Uint8Array(n);return S(i.buffer,i.byteOffset,i.byteLength)}return E(n)}function S(n,i,o){if(i<0||n.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');let h;return i===void 0&&o===void 0?h=new Uint8Array(n):o===void 0?h=new Uint8Array(n,i):h=new Uint8Array(n,i,o),Object.setPrototypeOf(h,u.prototype),h}function A(n){if(u.isBuffer(n)){let i=x(n.length)|0,o=l(i);return o.length===0||n.copy(o,0,0,i),o}if(n.length!==void 0)return typeof n.length!="number"||nt(n.length)?l(0):E(n);if(n.type==="Buffer"&&Array.isArray(n.data))return E(n.data)}function x(n){if(n>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return n|0}function C(n){return+n!=n&&(n=0),u.alloc(+n)}u.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==u.prototype},u.compare=function(n,i){if(le(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),le(i,Uint8Array)&&(i=u.from(i,i.offset,i.byteLength)),!u.isBuffer(n)||!u.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===i)return 0;let o=n.length,h=i.length;for(let d=0,g=Math.min(o,h);d<g;++d)if(n[d]!==i[d]){o=n[d],h=i[d];break}return o<h?-1:h<o?1:0},u.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(n,i){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return u.alloc(0);let o;if(i===void 0)for(i=0,o=0;o<n.length;++o)i+=n[o].length;let h=u.allocUnsafe(i),d=0;for(o=0;o<n.length;++o){let g=n[o];if(le(g,Uint8Array))d+g.length>h.length?(u.isBuffer(g)||(g=u.from(g)),g.copy(h,d)):Uint8Array.prototype.set.call(h,g,d);else if(u.isBuffer(g))g.copy(h,d);else throw new TypeError('"list" argument must be an Array of Buffers');d+=g.length}return h};function B(n,i){if(u.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||le(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);let o=n.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&o===0)return 0;let d=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return rt(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return qt(n).length;default:if(d)return h?-1:rt(n).length;i=(""+i).toLowerCase(),d=!0}}u.byteLength=B;function L(n,i,o){let h=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(n||(n="utf8");;)switch(n){case"hex":return rn(this,i,o);case"utf8":case"utf-8":return jt(this,i,o);case"ascii":return en(this,i,o);case"latin1":case"binary":return tn(this,i,o);case"base64":return Xr(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nn(this,i,o);default:if(h)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),h=!0}}u.prototype._isBuffer=!0;function z(n,i,o){let h=n[i];n[i]=n[o],n[o]=h}u.prototype.swap16=function(){let n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<n;i+=2)z(this,i,i+1);return this},u.prototype.swap32=function(){let n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<n;i+=4)z(this,i,i+3),z(this,i+1,i+2);return this},u.prototype.swap64=function(){let n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<n;i+=8)z(this,i,i+7),z(this,i+1,i+6),z(this,i+2,i+5),z(this,i+3,i+4);return this},u.prototype.toString=function(){let n=this.length;return n===0?"":arguments.length===0?jt(this,0,n):L.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(n){if(!u.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:u.compare(this,n)===0},u.prototype.inspect=function(){let n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(n,i,o,h,d){if(le(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),!u.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(i===void 0&&(i=0),o===void 0&&(o=n?n.length:0),h===void 0&&(h=0),d===void 0&&(d=this.length),i<0||o>n.length||h<0||d>this.length)throw new RangeError("out of range index");if(h>=d&&i>=o)return 0;if(h>=d)return-1;if(i>=o)return 1;if(i>>>=0,o>>>=0,h>>>=0,d>>>=0,this===n)return 0;let g=d-h,m=o-i,R=Math.min(g,m),W=this.slice(h,d),M=n.slice(i,o);for(let U=0;U<R;++U)if(W[U]!==M[U]){g=W[U],m=M[U];break}return g<m?-1:m<g?1:0};function V(n,i,o,h,d){if(n.length===0)return-1;if(typeof o=="string"?(h=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,nt(o)&&(o=d?0:n.length-1),o<0&&(o=n.length+o),o>=n.length){if(d)return-1;o=n.length-1}else if(o<0)if(d)o=0;else return-1;if(typeof i=="string"&&(i=u.from(i,h)),u.isBuffer(i))return i.length===0?-1:_e(n,i,o,h,d);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?d?Uint8Array.prototype.indexOf.call(n,i,o):Uint8Array.prototype.lastIndexOf.call(n,i,o):_e(n,[i],o,h,d);throw new TypeError("val must be string, number or Buffer")}function _e(n,i,o,h,d){let g=1,m=n.length,R=i.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(n.length<2||i.length<2)return-1;g=2,m/=2,R/=2,o/=2}function W(U,j){return g===1?U[j]:U.readUInt16BE(j*g)}let M;if(d){let U=-1;for(M=o;M<m;M++)if(W(n,M)===W(i,U===-1?0:M-U)){if(U===-1&&(U=M),M-U+1===R)return U*g}else U!==-1&&(M-=M-U),U=-1}else for(o+R>m&&(o=m-R),M=o;M>=0;M--){let U=!0;for(let j=0;j<R;j++)if(W(n,M+j)!==W(i,j)){U=!1;break}if(U)return M}return-1}u.prototype.includes=function(n,i,o){return this.indexOf(n,i,o)!==-1},u.prototype.indexOf=function(n,i,o){return V(this,n,i,o,!0)},u.prototype.lastIndexOf=function(n,i,o){return V(this,n,i,o,!1)};function et(n,i,o,h){o=Number(o)||0;let d=n.length-o;h?(h=Number(h),h>d&&(h=d)):h=d;let g=i.length;h>g/2&&(h=g/2);let m;for(m=0;m<h;++m){let R=parseInt(i.substr(m*2,2),16);if(nt(R))return m;n[o+m]=R}return m}function Ye(n,i,o,h){return Fe(rt(i,n.length-o),n,o,h)}function lr(n,i,o,h){return Fe(un(i),n,o,h)}function Pt(n,i,o,h){return Fe(qt(i),n,o,h)}function hr(n,i,o,h){return Fe(cn(i,n.length-o),n,o,h)}u.prototype.write=function(n,i,o,h){if(i===void 0)h="utf8",o=this.length,i=0;else if(o===void 0&&typeof i=="string")h=i,o=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(o)?(o=o>>>0,h===void 0&&(h="utf8")):(h=o,o=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-i;if((o===void 0||o>d)&&(o=d),n.length>0&&(o<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");let g=!1;for(;;)switch(h){case"hex":return et(this,n,i,o);case"utf8":case"utf-8":return Ye(this,n,i,o);case"ascii":case"latin1":case"binary":return lr(this,n,i,o);case"base64":return Pt(this,n,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hr(this,n,i,o);default:if(g)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),g=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Xr(n,i,o){return i===0&&o===n.length?e.fromByteArray(n):e.fromByteArray(n.slice(i,o))}function jt(n,i,o){o=Math.min(n.length,o);let h=[],d=i;for(;d<o;){let g=n[d],m=null,R=g>239?4:g>223?3:g>191?2:1;if(d+R<=o){let W,M,U,j;switch(R){case 1:g<128&&(m=g);break;case 2:W=n[d+1],(W&192)===128&&(j=(g&31)<<6|W&63,j>127&&(m=j));break;case 3:W=n[d+1],M=n[d+2],(W&192)===128&&(M&192)===128&&(j=(g&15)<<12|(W&63)<<6|M&63,j>2047&&(j<55296||j>57343)&&(m=j));break;case 4:W=n[d+1],M=n[d+2],U=n[d+3],(W&192)===128&&(M&192)===128&&(U&192)===128&&(j=(g&15)<<18|(W&63)<<12|(M&63)<<6|U&63,j>65535&&j<1114112&&(m=j))}}m===null?(m=65533,R=1):m>65535&&(m-=65536,h.push(m>>>10&1023|55296),m=56320|m&1023),h.push(m),d+=R}return Jr(h)}var Ft=4096;function Jr(n){let i=n.length;if(i<=Ft)return String.fromCharCode.apply(String,n);let o="",h=0;for(;h<i;)o+=String.fromCharCode.apply(String,n.slice(h,h+=Ft));return o}function en(n,i,o){let h="";o=Math.min(n.length,o);for(let d=i;d<o;++d)h+=String.fromCharCode(n[d]&127);return h}function tn(n,i,o){let h="";o=Math.min(n.length,o);for(let d=i;d<o;++d)h+=String.fromCharCode(n[d]);return h}function rn(n,i,o){let h=n.length;(!i||i<0)&&(i=0),(!o||o<0||o>h)&&(o=h);let d="";for(let g=i;g<o;++g)d+=ln[n[g]];return d}function nn(n,i,o){let h=n.slice(i,o),d="";for(let g=0;g<h.length-1;g+=2)d+=String.fromCharCode(h[g]+h[g+1]*256);return d}u.prototype.slice=function(n,i){let o=this.length;n=~~n,i=i===void 0?o:~~i,n<0?(n+=o,n<0&&(n=0)):n>o&&(n=o),i<0?(i+=o,i<0&&(i=0)):i>o&&(i=o),i<n&&(i=n);let h=this.subarray(n,i);return Object.setPrototypeOf(h,u.prototype),h};function K(n,i,o){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+i>o)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(n,i,o){n=n>>>0,i=i>>>0,o||K(n,i,this.length);let h=this[n],d=1,g=0;for(;++g<i&&(d*=256);)h+=this[n+g]*d;return h},u.prototype.readUintBE=u.prototype.readUIntBE=function(n,i,o){n=n>>>0,i=i>>>0,o||K(n,i,this.length);let h=this[n+--i],d=1;for(;i>0&&(d*=256);)h+=this[n+--i]*d;return h},u.prototype.readUint8=u.prototype.readUInt8=function(n,i){return n=n>>>0,i||K(n,1,this.length),this[n]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(n,i){return n=n>>>0,i||K(n,2,this.length),this[n]|this[n+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(n,i){return n=n>>>0,i||K(n,2,this.length),this[n]<<8|this[n+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(n,i){return n=n>>>0,i||K(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(n,i){return n=n>>>0,i||K(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},u.prototype.readBigUInt64LE=ge(function(n){n=n>>>0,Ae(n,"offset");let i=this[n],o=this[n+7];(i===void 0||o===void 0)&&Re(n,this.length-8);let h=i+this[++n]*2**8+this[++n]*2**16+this[++n]*2**24,d=this[++n]+this[++n]*2**8+this[++n]*2**16+o*2**24;return BigInt(h)+(BigInt(d)<<BigInt(32))}),u.prototype.readBigUInt64BE=ge(function(n){n=n>>>0,Ae(n,"offset");let i=this[n],o=this[n+7];(i===void 0||o===void 0)&&Re(n,this.length-8);let h=i*2**24+this[++n]*2**16+this[++n]*2**8+this[++n],d=this[++n]*2**24+this[++n]*2**16+this[++n]*2**8+o;return(BigInt(h)<<BigInt(32))+BigInt(d)}),u.prototype.readIntLE=function(n,i,o){n=n>>>0,i=i>>>0,o||K(n,i,this.length);let h=this[n],d=1,g=0;for(;++g<i&&(d*=256);)h+=this[n+g]*d;return d*=128,h>=d&&(h-=Math.pow(2,8*i)),h},u.prototype.readIntBE=function(n,i,o){n=n>>>0,i=i>>>0,o||K(n,i,this.length);let h=i,d=1,g=this[n+--h];for(;h>0&&(d*=256);)g+=this[n+--h]*d;return d*=128,g>=d&&(g-=Math.pow(2,8*i)),g},u.prototype.readInt8=function(n,i){return n=n>>>0,i||K(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},u.prototype.readInt16LE=function(n,i){n=n>>>0,i||K(n,2,this.length);let o=this[n]|this[n+1]<<8;return o&32768?o|4294901760:o},u.prototype.readInt16BE=function(n,i){n=n>>>0,i||K(n,2,this.length);let o=this[n+1]|this[n]<<8;return o&32768?o|4294901760:o},u.prototype.readInt32LE=function(n,i){return n=n>>>0,i||K(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},u.prototype.readInt32BE=function(n,i){return n=n>>>0,i||K(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},u.prototype.readBigInt64LE=ge(function(n){n=n>>>0,Ae(n,"offset");let i=this[n],o=this[n+7];(i===void 0||o===void 0)&&Re(n,this.length-8);let h=this[n+4]+this[n+5]*2**8+this[n+6]*2**16+(o<<24);return(BigInt(h)<<BigInt(32))+BigInt(i+this[++n]*2**8+this[++n]*2**16+this[++n]*2**24)}),u.prototype.readBigInt64BE=ge(function(n){n=n>>>0,Ae(n,"offset");let i=this[n],o=this[n+7];(i===void 0||o===void 0)&&Re(n,this.length-8);let h=(i<<24)+this[++n]*2**16+this[++n]*2**8+this[++n];return(BigInt(h)<<BigInt(32))+BigInt(this[++n]*2**24+this[++n]*2**16+this[++n]*2**8+o)}),u.prototype.readFloatLE=function(n,i){return n=n>>>0,i||K(n,4,this.length),r.read(this,n,!0,23,4)},u.prototype.readFloatBE=function(n,i){return n=n>>>0,i||K(n,4,this.length),r.read(this,n,!1,23,4)},u.prototype.readDoubleLE=function(n,i){return n=n>>>0,i||K(n,8,this.length),r.read(this,n,!0,52,8)},u.prototype.readDoubleBE=function(n,i){return n=n>>>0,i||K(n,8,this.length),r.read(this,n,!1,52,8)};function te(n,i,o,h,d,g){if(!u.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>d||i<g)throw new RangeError('"value" argument is out of bounds');if(o+h>n.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(n,i,o,h){if(n=+n,i=i>>>0,o=o>>>0,!h){let m=Math.pow(2,8*o)-1;te(this,n,i,o,m,0)}let d=1,g=0;for(this[i]=n&255;++g<o&&(d*=256);)this[i+g]=n/d&255;return i+o},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(n,i,o,h){if(n=+n,i=i>>>0,o=o>>>0,!h){let m=Math.pow(2,8*o)-1;te(this,n,i,o,m,0)}let d=o-1,g=1;for(this[i+d]=n&255;--d>=0&&(g*=256);)this[i+d]=n/g&255;return i+o},u.prototype.writeUint8=u.prototype.writeUInt8=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,1,255,0),this[i]=n&255,i+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,2,65535,0),this[i]=n&255,this[i+1]=n>>>8,i+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,2,65535,0),this[i]=n>>>8,this[i+1]=n&255,i+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,4,4294967295,0),this[i+3]=n>>>24,this[i+2]=n>>>16,this[i+1]=n>>>8,this[i]=n&255,i+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,4,4294967295,0),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4};function $t(n,i,o,h,d){Gt(i,h,d,n,o,7);let g=Number(i&BigInt(4294967295));n[o++]=g,g=g>>8,n[o++]=g,g=g>>8,n[o++]=g,g=g>>8,n[o++]=g;let m=Number(i>>BigInt(32)&BigInt(4294967295));return n[o++]=m,m=m>>8,n[o++]=m,m=m>>8,n[o++]=m,m=m>>8,n[o++]=m,o}function Zt(n,i,o,h,d){Gt(i,h,d,n,o,7);let g=Number(i&BigInt(4294967295));n[o+7]=g,g=g>>8,n[o+6]=g,g=g>>8,n[o+5]=g,g=g>>8,n[o+4]=g;let m=Number(i>>BigInt(32)&BigInt(4294967295));return n[o+3]=m,m=m>>8,n[o+2]=m,m=m>>8,n[o+1]=m,m=m>>8,n[o]=m,o+8}u.prototype.writeBigUInt64LE=ge(function(n,i=0){return $t(this,n,i,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=ge(function(n,i=0){return Zt(this,n,i,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(n,i,o,h){if(n=+n,i=i>>>0,!h){let R=Math.pow(2,8*o-1);te(this,n,i,o,R-1,-R)}let d=0,g=1,m=0;for(this[i]=n&255;++d<o&&(g*=256);)n<0&&m===0&&this[i+d-1]!==0&&(m=1),this[i+d]=(n/g>>0)-m&255;return i+o},u.prototype.writeIntBE=function(n,i,o,h){if(n=+n,i=i>>>0,!h){let R=Math.pow(2,8*o-1);te(this,n,i,o,R-1,-R)}let d=o-1,g=1,m=0;for(this[i+d]=n&255;--d>=0&&(g*=256);)n<0&&m===0&&this[i+d+1]!==0&&(m=1),this[i+d]=(n/g>>0)-m&255;return i+o},u.prototype.writeInt8=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,1,127,-128),n<0&&(n=255+n+1),this[i]=n&255,i+1},u.prototype.writeInt16LE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,2,32767,-32768),this[i]=n&255,this[i+1]=n>>>8,i+2},u.prototype.writeInt16BE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,2,32767,-32768),this[i]=n>>>8,this[i+1]=n&255,i+2},u.prototype.writeInt32LE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,4,2147483647,-2147483648),this[i]=n&255,this[i+1]=n>>>8,this[i+2]=n>>>16,this[i+3]=n>>>24,i+4},u.prototype.writeInt32BE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4},u.prototype.writeBigInt64LE=ge(function(n,i=0){return $t(this,n,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=ge(function(n,i=0){return Zt(this,n,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Dt(n,i,o,h,d,g){if(o+h>n.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function zt(n,i,o,h,d){return i=+i,o=o>>>0,d||Dt(n,i,o,4),r.write(n,i,o,h,23,4),o+4}u.prototype.writeFloatLE=function(n,i,o){return zt(this,n,i,!0,o)},u.prototype.writeFloatBE=function(n,i,o){return zt(this,n,i,!1,o)};function Vt(n,i,o,h,d){return i=+i,o=o>>>0,d||Dt(n,i,o,8),r.write(n,i,o,h,52,8),o+8}u.prototype.writeDoubleLE=function(n,i,o){return Vt(this,n,i,!0,o)},u.prototype.writeDoubleBE=function(n,i,o){return Vt(this,n,i,!1,o)},u.prototype.copy=function(n,i,o,h){if(!u.isBuffer(n))throw new TypeError("argument should be a Buffer");if(o||(o=0),!h&&h!==0&&(h=this.length),i>=n.length&&(i=n.length),i||(i=0),h>0&&h<o&&(h=o),h===o||n.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),n.length-i<h-o&&(h=n.length-i+o);let d=h-o;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,o,h):Uint8Array.prototype.set.call(n,this.subarray(o,h),i),d},u.prototype.fill=function(n,i,o,h){if(typeof n=="string"){if(typeof i=="string"?(h=i,i=0,o=this.length):typeof o=="string"&&(h=o,o=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!u.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(n.length===1){let g=n.charCodeAt(0);(h==="utf8"&&g<128||h==="latin1")&&(n=g)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(i<0||this.length<i||this.length<o)throw new RangeError("Out of range index");if(o<=i)return this;i=i>>>0,o=o===void 0?this.length:o>>>0,n||(n=0);let d;if(typeof n=="number")for(d=i;d<o;++d)this[d]=n;else{let g=u.isBuffer(n)?n:u.from(n,h),m=g.length;if(m===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(d=0;d<o-i;++d)this[d+i]=g[d%m]}return this};var Se={};function tt(n,i,o){Se[n]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(h){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:h,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}tt("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),tt("ERR_INVALID_ARG_TYPE",function(n,i){return`The "${n}" argument must be of type number. Received type ${typeof i}`},TypeError),tt("ERR_OUT_OF_RANGE",function(n,i,o){let h=`The value of "${n}" is out of range.`,d=o;return Number.isInteger(o)&&Math.abs(o)>2**32?d=Wt(String(o)):typeof o=="bigint"&&(d=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(d=Wt(d)),d+="n"),h+=` It must be ${i}. Received ${d}`,h},RangeError);function Wt(n){let i="",o=n.length,h=n[0]==="-"?1:0;for(;o>=h+4;o-=3)i=`_${n.slice(o-3,o)}${i}`;return`${n.slice(0,o)}${i}`}function sn(n,i,o){Ae(i,"offset"),(n[i]===void 0||n[i+o]===void 0)&&Re(i,n.length-(o+1))}function Gt(n,i,o,h,d,g){if(n>o||n<i){let m=typeof i=="bigint"?"n":"",R;throw i===0||i===BigInt(0)?R=`>= 0${m} and < 2${m} ** ${(g+1)*8}${m}`:R=`>= -(2${m} ** ${(g+1)*8-1}${m}) and < 2 ** ${(g+1)*8-1}${m}`,new Se.ERR_OUT_OF_RANGE("value",R,n)}sn(h,d,g)}function Ae(n,i){if(typeof n!="number")throw new Se.ERR_INVALID_ARG_TYPE(i,"number",n)}function Re(n,i,o){throw Math.floor(n)!==n?(Ae(n,o),new Se.ERR_OUT_OF_RANGE("offset","an integer",n)):i<0?new Se.ERR_BUFFER_OUT_OF_BOUNDS:new Se.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${i}`,n)}var an=/[^+/0-9A-Za-z-_]/g;function on(n){if(n=n.split("=")[0],n=n.trim().replace(an,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function rt(n,i){i=i||1/0;let o,h=n.length,d=null,g=[];for(let m=0;m<h;++m){if(o=n.charCodeAt(m),o>55295&&o<57344){if(!d){if(o>56319){(i-=3)>-1&&g.push(239,191,189);continue}else if(m+1===h){(i-=3)>-1&&g.push(239,191,189);continue}d=o;continue}if(o<56320){(i-=3)>-1&&g.push(239,191,189),d=o;continue}o=(d-55296<<10|o-56320)+65536}else d&&(i-=3)>-1&&g.push(239,191,189);if(d=null,o<128){if((i-=1)<0)break;g.push(o)}else if(o<2048){if((i-=2)<0)break;g.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;g.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;g.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return g}function un(n){let i=[];for(let o=0;o<n.length;++o)i.push(n.charCodeAt(o)&255);return i}function cn(n,i){let o,h,d,g=[];for(let m=0;m<n.length&&!((i-=2)<0);++m)o=n.charCodeAt(m),h=o>>8,d=o%256,g.push(d),g.push(h);return g}function qt(n){return e.toByteArray(on(n))}function Fe(n,i,o,h){let d;for(d=0;d<h&&!(d+o>=i.length||d>=n.length);++d)i[d+o]=n[d];return d}function le(n,i){return n instanceof i||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===i.name}function nt(n){return n!==n}var ln=function(){let n="0123456789abcdef",i=new Array(256);for(let o=0;o<16;++o){let h=o*16;for(let d=0;d<16;++d)i[h+d]=n[o]+n[d]}return i}();function ge(n){return typeof BigInt>"u"?hn:n}function hn(){throw new Error("BigInt not supported")}}),Qm=Mt((t,e)=>{typeof window<"u"?(window.global=window,global.fetch=window.fetch,e.exports={Buffer:Ws().Buffer,Crypto:window.crypto}):e.exports={Buffer:Ws().Buffer,Crypto:crypto}}),ec={};Wm(ec,{AVSCTap:()=>di,ArweaveSigner:()=>Aa,DataItem:()=>si,MAX_TAG_BYTES:()=>as,MIN_BINARY_SIZE:()=>ka,SIG_CONFIG:()=>Hr,SignatureConfig:()=>$e,Signer:()=>tc,createData:()=>sc,deserializeTags:()=>Ki,indexToType:()=>Ta,serializeTags:()=>xa,tagsExceedLimit:()=>ic});var tc=class{constructor(){F(this,"signer");F(this,"publicKey");F(this,"signatureType");F(this,"signatureLength");F(this,"ownerLength");F(this,"pem")}static verify(t,e,r,s){throw new Error("You must implement verify method on child")}},Xm=Ar(Sa()),pt=Ar(Ju());async function rc(t){if(Array.isArray(t)){let a=(0,pt.concatBuffers)([(0,pt.stringToBuffer)("list"),(0,pt.stringToBuffer)(t.length.toString())]);return await nc(t,await It().hash(a,"SHA-384"))}let e=t,r=(0,pt.concatBuffers)([(0,pt.stringToBuffer)("blob"),(0,pt.stringToBuffer)(e.byteLength.toString())]),s=(0,pt.concatBuffers)([await It().hash(r,"SHA-384"),await It().hash(e,"SHA-384")]);return await It().hash(s,"SHA-384")}async function nc(t,e){if(t.length<1)return e;let r=(0,pt.concatBuffers)([e,await rc(t[0])]),s=await It().hash(r,"SHA-384");return await nc(t.slice(1),s)}var ys=Ar(Hm()),Jm=ys.default.default?ys.default.default:ys.default,ey=class extends Jm{getPublicKey(t){throw new Error("Unimplemented")}},ty;function It(){return ty??(ty=new ey)}var $e;(function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"})($e||($e={}));var Hr={[$e.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[$e.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[$e.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[$e.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[$e.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[$e.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[$e.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}},Aa=class{constructor(t){F(this,"signatureType",1);F(this,"ownerLength",Hr[1].pubLength);F(this,"signatureLength",Hr[1].sigLength);F(this,"jwk");F(this,"pk");this.pk=t.n,this.jwk=t}get publicKey(){return Xm.default.toBuffer(this.pk)}sign(t){return It().sign(this.jwk,t)}static async verify(t,e,r){return await It().verify(t,e,r)}},Ta={1:Aa},wt=Ar(Sa());async function Gs(t){return rc([(0,pt.stringToBuffer)("dataitem"),(0,pt.stringToBuffer)("1"),(0,pt.stringToBuffer)(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])}async function ry(t,e){let r=await Gs(t),s=await e.sign(r),a=await It().hash(s);return{signature:Buffer.from(s),id:Buffer.from(a)}}async function ny(t,e){let{signature:r,id:s}=await ry(t,e);return t.getRaw().set(r,2),s}var di=class{constructor(t=Buffer.alloc(as),e=0){F(this,"buf");F(this,"pos");this.buf=t,this.pos=e}writeTags(t){if(!Array.isArray(t))throw new Error("input must be array");let e=t.length,r;if(e)for(this.writeLong(e),r=0;r<e;r++){let s=t[r];if((s==null?void 0:s.name)===void 0||(s==null?void 0:s.value)===void 0)throw new Error(`Invalid tag format for ${s}, expected {name:string, value: string}`);this.writeString(s.name),this.writeString(s.value)}this.writeLong(0)}toBuffer(){let t=Buffer.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(t,0,0,this.pos),t}tagsExceedLimit(){return this.pos>this.buf.length}writeLong(t){let e=this.buf,r,s;if(t>=-1073741824&&t<1073741824){s=t>=0?t<<1:~t<<1|1;do e[this.pos]=s&127,s>>=7;while(s&&(e[this.pos++]|=128))}else{r=t>=0?t*2:-t*2-1;do e[this.pos]=r&127,r/=128;while(r>=1&&(e[this.pos++]|=128))}this.pos++,this.buf=e}writeString(t){let e=Buffer.byteLength(t),r=this.buf;this.writeLong(e);let s=this.pos;if(this.pos+=e,!(this.pos>r.length)){if(e>64)this.buf.write(t,this.pos-e,e,"utf8");else{let a,c,l,u;for(a=0,c=e;a<c;a++)l=t.charCodeAt(a),l<128?r[s++]=l:l<2048?(r[s++]=l>>6|192,r[s++]=l&63|128):(l&64512)===55296&&((u=t.charCodeAt(a+1))&64512)===56320?(l=65536+((l&1023)<<10)+(u&1023),a++,r[s++]=l>>18|240,r[s++]=l>>12&63|128,r[s++]=l>>6&63|128,r[s++]=l&63|128):(r[s++]=l>>12|224,r[s++]=l>>6&63|128,r[s++]=l&63|128)}this.buf=r}}readLong(){let t=0,e=0,r=this.buf,s,a,c,l;do s=r[this.pos++],a=s&128,t|=(s&127)<<e,e+=7;while(a&&e<28);if(a){c=t,l=268435456;do s=r[this.pos++],c+=(s&127)*l,l*=128;while(s&128);return(c%2?-(c+1):c)/2}return t>>1^-(t&1)}skipLong(){let t=this.buf;for(;t[this.pos++]&128;);}readTags(){let t=[],e;for(;e=this.readLong();)for(e<0&&(e=-e,this.skipLong());e--;){let r=this.readString(),s=this.readString();t.push({name:r,value:s})}return t}readString(){let t=this.readLong(),e=this.pos,r=this.buf;if(this.pos+=t,!(this.pos>r.length))return this.buf.slice(e,e+t).toString()}};function xa(t){let e=new di;return e.writeTags(t),e.toBuffer()}function ic(t){let e=new di;return e.writeTags(t),e.tagsExceedLimit()}function Ki(t){return new di(t).readTags()}function Kt(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r];return e}function iy(t){if(t>29)throw new Error("Short too long");let e=[0,0];for(let r=0;r<e.length;r++){let s=t&255;e[r]=s,t=(t-s)/256}return Uint8Array.from(e)}function ao(t){let e=[0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++){let s=t&255;e[r]=s,t=(t-s)/256}return Uint8Array.from(e)}var sy=Ar(Qm()),kr=Ar(Ws()),as=4096,ka=80,si=class{constructor(t){F(this,"binary");F(this,"_id");this.binary=t}static isDataItem(t){return t.binary!==void 0}get signatureType(){let t=Kt(this.binary.subarray(0,2));if(($e==null?void 0:$e[t])!==void 0)return t;throw new Error("Unknown signature type: "+t)}async isValid(){return si.verify(this.binary)}get id(){return(async()=>wt.default.encode(await this.rawId))()}set id(t){this._id=wt.default.toBuffer(t)}get rawId(){return(async()=>kr.Buffer.from(await sy.Crypto.subtle.digest("SHA-256",this.rawSignature)))()}set rawId(t){this._id=t}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return wt.default.encode(this.rawSignature)}set rawOwner(t){if(t.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${t.byteLength} bytes.`);this.binary.set(t,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return Hr[this.signatureType].sigLength}get owner(){return wt.default.encode(this.rawOwner)}get ownerLength(){return Hr[this.signatureType].pubLength}get rawTarget(){let t=this.getTargetStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):kr.Buffer.alloc(0)}get target(){return wt.default.encode(this.rawTarget)}get rawAnchor(){let t=this.getAnchorStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):kr.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){let t=this.getTagsStart(),e=Kt(this.binary.subarray(t+8,t+16));return this.binary.subarray(t+16,t+16+e)}get tags(){let t=this.getTagsStart();if(Kt(this.binary.subarray(t,t+8))==0)return[];let e=Kt(this.binary.subarray(t+8,t+16));return Ki(kr.Buffer.from(this.binary.subarray(t+16,t+16+e)))}get tagsB64Url(){return this.tags.map(t=>({name:wt.default.encode(t.name),value:wt.default.encode(t.value)}))}getStartOfData(){let t=this.getTagsStart(),e=this.binary.subarray(t+8,t+16),r=Kt(e);return t+16+r}get rawData(){let t=this.getTagsStart(),e=this.binary.subarray(t+8,t+16),r=Kt(e),s=t+16+r;return this.binary.subarray(s,this.binary.length)}get data(){return wt.default.encode(this.rawData)}getRaw(){return this.binary}async sign(t){return this._id=await ny(this,t),this.rawId}async setSignature(t){this.binary.set(t,2),this._id=kr.Buffer.from(await It().hash(t))}isSigned(){var t;return(((t=this._id)==null?void 0:t.length)??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(t=>({name:wt.default.encode(t.name),value:wt.default.encode(t.value)})),data:this.data}}static async verify(t){if(t.byteLength<ka)return!1;let e=new si(t),r=e.signatureType,s=e.getTagsStart(),a=Kt(t.subarray(s,s+8)),c=t.subarray(s+8,s+16),l=Kt(c);if(l>as)return!1;if(a>0)try{if(Ki(kr.Buffer.from(t.subarray(s+16,s+16+l))).length!==a)return!1}catch{return!1}let u=Ta[r],f=await Gs(e);return await u.verify(e.rawOwner,f,e.rawSignature)}async getSignatureData(){return Gs(this)}getTagsStart(){let t=this.getTargetStart(),e=this.binary[t]==1,r=t+(e?33:1),s=this.binary[r]==1;return r+=s?33:1,r}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let t=this.getTargetStart()+1,e=this.binary[this.getTargetStart()]==1;return t+=e?32:0,t}},ay=Ar(Sa());function sc(t,e,r){var B,L;let s=e.publicKey,a=r!=null&&r.target?ay.default.toBuffer(r.target):null,c=1+((a==null?void 0:a.byteLength)??0),l=r!=null&&r.anchor?Buffer.from(r.anchor):null,u=1+((l==null?void 0:l.byteLength)??0),f=(((B=r==null?void 0:r.tags)==null?void 0:B.length)??0)>0?xa(r.tags):null,p=16+(f?f.byteLength:0),b=Buffer.from(t),w=b.byteLength,_=2+e.signatureLength+e.ownerLength+c+u+p+w,E=Buffer.alloc(_);if(E.set(iy(e.signatureType),0),E.set(new Uint8Array(e.signatureLength).fill(0),2),s.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${s.byteLength}`);E.set(s,2+e.signatureLength);let v=2+e.signatureLength+e.ownerLength;if(E[v]=a?1:0,a){if(a.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${a.byteLength}`);E.set(a,v+1)}let S=v+c,A=S+1;if(E[S]=l?1:0,l){if(A+=l.byteLength,l.byteLength!==32)throw new Error("Anchor must be 32 bytes");E.set(l,S+1)}E.set(ao(((L=r==null?void 0:r.tags)==null?void 0:L.length)??0),A);let x=ao((f==null?void 0:f.byteLength)??0);E.set(x,A+8),f&&E.set(f,A+16);let C=A+p;return E.set(b,C),new si(E)}var Ba={...ec};globalThis.arbundles??(globalThis.arbundles=Ba);var oy=Ba,uy=Ba;globalThis.Buffer||(globalThis.Buffer=Yu.Buffer);var{DataItem:cy}=Qu;function ly(t){return async({data:r,tags:s,target:a,anchor:c,createDataItem:l=u=>new cy(u)})=>{const u=await t.signDataItem({data:r,tags:s,target:a,anchor:c}),f=l(Yu.Buffer.from(u));return{id:await f.id,raw:await f.getRaw()}}}var hy=globalThis.GATEWAY_URL||void 0,fy=globalThis.MU_URL||void 0,dy=globalThis.CU_URL||void 0,py=globalThis.GRAPHQL_URL||void 0,gy=globalThis.GRAPHQL_MAX_RETRIES||void 0,my=globalThis.GRAPHQL_RETRY_BACKOFF||void 0,{result:lv,results:hv,message:ac,spawn:fv,monitor:dv,unmonitor:pv,dryrun:gv,assign:mv}=Fm({GATEWAY_URL:hy,MU_URL:fy,CU_URL:dy,GRAPHQL_URL:py,GRAPHQL_MAX_RETRIES:gy,GRAPHQL_RETRY_BACKOFF:my});Hu.createDataItemSigner;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

warp-arbundles/build/web/esm/bundle.js:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  buffer/index.js:
    (*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     *)
  *)
*/const yy={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},oc={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Ee={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Le={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},er={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class k{static getFirstMatch(e,r){const s=r.match(e);return s&&s.length>0&&s[1]||""}static getSecondMatch(e,r){const s=r.match(e);return s&&s.length>1&&s[2]||""}static matchAndReturnConst(e,r,s){if(e.test(r))return s}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,s=!1){const a=k.getVersionPrecision(e),c=k.getVersionPrecision(r);let l=Math.max(a,c),u=0;const f=k.map([e,r],p=>{const b=l-k.getVersionPrecision(p),w=p+new Array(b+1).join(".0");return k.map(w.split("."),_=>new Array(20-_.length).join("0")+_).reverse()});for(s&&(u=l-Math.min(a,c)),l-=1;l>=u;){if(f[0][l]>f[1][l])return 1;if(f[0][l]===f[1][l]){if(l===u)return 0;l-=1}else if(f[0][l]<f[1][l])return-1}}static map(e,r){const s=[];let a;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(a=0;a<e.length;a+=1)s.push(r(e[a]));return s}static find(e,r){let s,a;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(s=0,a=e.length;s<a;s+=1){const c=e[s];if(r(c,s))return c}}static assign(e,...r){const s=e;let a,c;if(Object.assign)return Object.assign(e,...r);for(a=0,c=r.length;a<c;a+=1){const l=r[a];typeof l=="object"&&l!==null&&Object.keys(l).forEach(f=>{s[f]=l[f]})}return e}static getBrowserAlias(e){return yy[e]}static getBrowserTypeByAlias(e){return oc[e]||""}}const pe=/version\/(\d+(\.?_?\d+)+)/i,vy=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=k.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=k.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=k.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=k.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=k.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=k.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=k.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=k.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=k.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=k.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=k.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=k.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=k.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=k.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=k.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=k.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=k.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=k.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=k.getFirstMatch(pe,t)||k.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=k.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=k.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=k.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=k.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=k.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=k.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=k.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=k.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=k.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=k.getFirstMatch(pe,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,a=t.search("\\(")!==-1?r:e;return{name:k.getFirstMatch(a,t),version:k.getSecondMatch(a,t)}}}],wy=[{test:[/Roku\/DVP/],describe(t){const e=k.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Le.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=k.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Le.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=k.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=k.getWindowsVersionName(e);return{name:Le.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Le.iOS},r=k.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=k.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=k.getMacOSVersionName(e),s={name:Le.MacOS,version:e};return r&&(s.versionName=r),s}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=k.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Le.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=k.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=k.getAndroidVersionName(e),s={name:Le.Android,version:e};return r&&(s.versionName=r),s}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=k.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:Le.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=k.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||k.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||k.getFirstMatch(/\bbb(\d+)/i,t);return{name:Le.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=k.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Le.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=k.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Le.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Le.Linux}}},{test:[/CrOS/],describe(){return{name:Le.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=k.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Le.PlayStation4,version:e}}}],by=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=k.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:Ee.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Ee.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Ee.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Ee.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Ee.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Ee.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Ee.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=k.getFirstMatch(/(ipod|iphone)/i,t);return{type:Ee.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Ee.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Ee.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Ee.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Ee.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Ee.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Ee.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Ee.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Ee.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Ee.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Ee.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Ee.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Ee.tv}}}],_y=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:er.Blink};const r=k.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:er.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:er.Trident},r=k.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:er.Presto},r=k.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:er.Gecko},r=k.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:er.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:er.WebKit},r=k.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class oo{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=k.find(vy,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=k.find(wy,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=k.find(by,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=k.find(_y,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return k.assign({},this.parsedResult)}satisfies(e){const r={};let s=0;const a={};let c=0;if(Object.keys(e).forEach(u=>{const f=e[u];typeof f=="string"?(a[u]=f,c+=1):typeof f=="object"&&(r[u]=f,s+=1)}),s>0){const u=Object.keys(r),f=k.find(u,b=>this.isOS(b));if(f){const b=this.satisfies(r[f]);if(b!==void 0)return b}const p=k.find(u,b=>this.isPlatform(b));if(p){const b=this.satisfies(r[p]);if(b!==void 0)return b}}if(c>0){const u=Object.keys(a),f=k.find(u,p=>this.isBrowser(p,!0));if(f!==void 0)return this.compareVersion(a[f])}}isBrowser(e,r=!1){const s=this.getBrowserName().toLowerCase();let a=e.toLowerCase();const c=k.getBrowserTypeByAlias(a);return r&&c&&(a=c.toLowerCase()),a===s}compareVersion(e){let r=[0],s=e,a=!1;const c=this.getBrowserVersion();if(typeof c=="string")return e[0]===">"||e[0]==="<"?(s=e.substr(1),e[1]==="="?(a=!0,s=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?s=e.substr(1):e[0]==="~"&&(a=!0,s=e.substr(1)),r.indexOf(k.compareVersions(c,s,a))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Ey{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new oo(e,r)}static parse(e){return new oo(e).getResult()}static get BROWSER_MAP(){return oc}static get ENGINE_MAP(){return er}static get OS_MAP(){return Le}static get PLATFORMS_MAP(){return Ee}}async function Sy(){if(!window.crypto||!window.crypto.subtle)throw new Error("SubtleCrypto is not available in this environment.");const t=await crypto.subtle.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),e=await crypto.subtle.exportKey("jwk",t.privateKey),r=await crypto.subtle.exportKey("jwk",t.publicKey);return{privateKey:e,publicKey:r}}var Ay=Object.create,Oa=Object.defineProperty,Ty=Object.getOwnPropertyDescriptor,xy=Object.getOwnPropertyNames,ky=Object.getPrototypeOf,By=Object.prototype.hasOwnProperty,Nt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Oy=(t,e)=>{for(var r in e)Oa(t,r,{get:e[r],enumerable:!0})},Iy=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of xy(e))!By.call(t,a)&&a!==r&&Oa(t,a,{get:()=>e[a],enumerable:!(s=Ty(e,a))||s.enumerable});return t},Tr=(t,e,r)=>(r=t!=null?Ay(ky(t)):{},Iy(Oa(r,"default",{value:t,enumerable:!0}),t)),Ry=Nt(t=>{Object.defineProperty(t,"__esModule",{value:!0});function e(r){var s=4,a=r.length,c=a%s;if(!c)return r;var l=a,u=s-c,f=a+u,p=Buffer.alloc(f);for(p.write(r);u--;)p.write("=",l++);return p.toString()}t.default=e}),Cy=Nt(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Ry();function r(f,p){return p===void 0&&(p="utf8"),Buffer.isBuffer(f)?c(f.toString("base64")):c(Buffer.from(f,p).toString("base64"))}function s(f,p){return p===void 0&&(p="utf8"),Buffer.from(a(f),"base64").toString(p)}function a(f){return f=f.toString(),e.default(f).replace(/\-/g,"+").replace(/_/g,"/")}function c(f){return f.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(f){return Buffer.from(a(f),"base64")}var u=r;u.encode=r,u.decode=s,u.toBase64=a,u.fromBase64=c,u.toBuffer=l,t.default=u}),Ia=Nt((t,e)=>{e.exports=Cy().default,e.exports.default=e.exports}),uc=Nt(t=>{t.byteLength=f,t.toByteArray=b,t.fromByteArray=E;var e=[],r=[],s=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(c=0,l=a.length;c<l;++c)e[c]=a[c],r[a.charCodeAt(c)]=c;var c,l;r[45]=62,r[95]=63;function u(v){var S=v.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=v.indexOf("=");A===-1&&(A=S);var x=A===S?0:4-A%4;return[A,x]}function f(v){var S=u(v),A=S[0],x=S[1];return(A+x)*3/4-x}function p(v,S,A){return(S+A)*3/4-A}function b(v){var S,A=u(v),x=A[0],C=A[1],B=new s(p(v,x,C)),L=0,z=C>0?x-4:x,V;for(V=0;V<z;V+=4)S=r[v.charCodeAt(V)]<<18|r[v.charCodeAt(V+1)]<<12|r[v.charCodeAt(V+2)]<<6|r[v.charCodeAt(V+3)],B[L++]=S>>16&255,B[L++]=S>>8&255,B[L++]=S&255;return C===2&&(S=r[v.charCodeAt(V)]<<2|r[v.charCodeAt(V+1)]>>4,B[L++]=S&255),C===1&&(S=r[v.charCodeAt(V)]<<10|r[v.charCodeAt(V+1)]<<4|r[v.charCodeAt(V+2)]>>2,B[L++]=S>>8&255,B[L++]=S&255),B}function w(v){return e[v>>18&63]+e[v>>12&63]+e[v>>6&63]+e[v&63]}function _(v,S,A){for(var x,C=[],B=S;B<A;B+=3)x=(v[B]<<16&16711680)+(v[B+1]<<8&65280)+(v[B+2]&255),C.push(w(x));return C.join("")}function E(v){for(var S,A=v.length,x=A%3,C=[],B=16383,L=0,z=A-x;L<z;L+=B)C.push(_(v,L,L+B>z?z:L+B));return x===1?(S=v[A-1],C.push(e[S>>2]+e[S<<4&63]+"==")):x===2&&(S=(v[A-2]<<8)+v[A-1],C.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),C.join("")}}),cc=Nt(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.b64UrlDecode=t.b64UrlEncode=t.bufferTob64Url=t.bufferTob64=t.b64UrlToBuffer=t.stringToB64Url=t.stringToBuffer=t.bufferToString=t.b64UrlToString=t.concatBuffers=void 0;var e=uc();function r(_){let E=0;for(let A=0;A<_.length;A++)E+=_[A].byteLength;let v=new Uint8Array(E),S=0;v.set(new Uint8Array(_[0]),S),S+=_[0].byteLength;for(let A=1;A<_.length;A++)v.set(new Uint8Array(_[A]),S),S+=_[A].byteLength;return v}t.concatBuffers=r;function s(_){let E=u(_);return a(E)}t.b64UrlToString=s;function a(_){return new TextDecoder("utf-8",{fatal:!0}).decode(_)}t.bufferToString=a;function c(_){return new TextEncoder().encode(_)}t.stringToBuffer=c;function l(_){return p(c(_))}t.stringToB64Url=l;function u(_){return new Uint8Array(e.toByteArray(w(_)))}t.b64UrlToBuffer=u;function f(_){return e.fromByteArray(new Uint8Array(_))}t.bufferTob64=f;function p(_){return b(f(_))}t.bufferTob64Url=p;function b(_){return _.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}t.b64UrlEncode=b;function w(_){_=_.replace(/\-/g,"+").replace(/\_/g,"/");let E;return _.length%4==0?E=0:E=4-_.length%4,_.concat("=".repeat(E))}t.b64UrlDecode=w}),Ly=Nt(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=cc(),r=class{constructor(){F(this,"keyLength",4096);F(this,"publicExponent",65537);F(this,"hashAlgorithm","sha256");F(this,"driver");if(!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let s=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),a=await this.driver.exportKey("jwk",s.privateKey);return{kty:a.kty,e:a.e,n:a.n,d:a.d,p:a.p,q:a.q,dp:a.dp,dq:a.dq,qi:a.qi}}async sign(s,a,{saltLength:c}={}){let l=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(s),a);return new Uint8Array(l)}async hash(s,a="SHA-256"){let c=await this.driver.digest(a,s);return new Uint8Array(c)}async verify(s,a,c){let l={kty:"RSA",e:"AQAB",n:s},u=await this.jwkToPublicCryptoKey(l),f=await this.driver.digest("SHA-256",a),p=await this.driver.verify({name:"RSA-PSS",saltLength:0},u,c,a),b=await this.driver.verify({name:"RSA-PSS",saltLength:32},u,c,a),w=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((u.algorithm.modulusLength-1)/8)-f.byteLength-2},u,c,a);return p||b||w}async jwkToCryptoKey(s){return this.driver.importKey("jwk",s,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(s){return this.driver.importKey("jwk",s,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;let s=crypto==null?void 0:crypto.subtle;return s===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(a=>typeof s[a]=="function")}async encrypt(s,a,c){let l=await this.driver.importKey("raw",typeof a=="string"?e.stringToBuffer(a):a,{name:"PBKDF2",length:32},!1,["deriveKey"]),u=await this.driver.deriveKey({name:"PBKDF2",salt:c?e.stringToBuffer(c):e.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},l,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),f=new Uint8Array(16);crypto.getRandomValues(f);let p=await this.driver.encrypt({name:"AES-CBC",iv:f},u,s);return e.concatBuffers([f,p])}async decrypt(s,a,c){let l=await this.driver.importKey("raw",typeof a=="string"?e.stringToBuffer(a):a,{name:"PBKDF2",length:32},!1,["deriveKey"]),u=await this.driver.deriveKey({name:"PBKDF2",salt:c?e.stringToBuffer(c):e.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},l,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),f=s.slice(0,16),p=await this.driver.decrypt({name:"AES-CBC",iv:f},u,s.slice(16));return e.concatBuffers([p])}};t.default=r}),Uy=Nt(t=>{t.read=function(e,r,s,a,c){var l,u,f=c*8-a-1,p=(1<<f)-1,b=p>>1,w=-7,_=s?c-1:0,E=s?-1:1,v=e[r+_];for(_+=E,l=v&(1<<-w)-1,v>>=-w,w+=f;w>0;l=l*256+e[r+_],_+=E,w-=8);for(u=l&(1<<-w)-1,l>>=-w,w+=a;w>0;u=u*256+e[r+_],_+=E,w-=8);if(l===0)l=1-b;else{if(l===p)return u?NaN:(v?-1:1)*(1/0);u=u+Math.pow(2,a),l=l-b}return(v?-1:1)*u*Math.pow(2,l-a)},t.write=function(e,r,s,a,c,l){var u,f,p,b=l*8-c-1,w=(1<<b)-1,_=w>>1,E=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=a?0:l-1,S=a?1:-1,A=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,u=w):(u=Math.floor(Math.log(r)/Math.LN2),r*(p=Math.pow(2,-u))<1&&(u--,p*=2),u+_>=1?r+=E/p:r+=E*Math.pow(2,1-_),r*p>=2&&(u++,p/=2),u+_>=w?(f=0,u=w):u+_>=1?(f=(r*p-1)*Math.pow(2,c),u=u+_):(f=r*Math.pow(2,_-1)*Math.pow(2,c),u=0));c>=8;e[s+v]=f&255,v+=S,f/=256,c-=8);for(u=u<<c|f,b+=c;b>0;e[s+v]=u&255,v+=S,u/=256,b-=8);e[s+v-S]|=A*128}}),qs=Nt(t=>{var e=uc(),r=Uy(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=c(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{let n=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(n,i),n.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(n){if(n>a)throw new RangeError('The value "'+n+'" is invalid for option "size"');let i=new Uint8Array(n);return Object.setPrototypeOf(i,u.prototype),i}function u(n,i,o){if(typeof n=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(n)}return f(n,i,o)}u.poolSize=8192;function f(n,i,o){if(typeof n=="string")return _(n,i);if(ArrayBuffer.isView(n))return v(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(le(n,ArrayBuffer)||n&&le(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(le(n,SharedArrayBuffer)||n&&le(n.buffer,SharedArrayBuffer)))return S(n,i,o);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let h=n.valueOf&&n.valueOf();if(h!=null&&h!==n)return u.from(h,i,o);let d=A(n);if(d)return d;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return u.from(n[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}u.from=function(n,i,o){return f(n,i,o)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function b(n,i,o){return p(n),n<=0?l(n):i!==void 0?typeof o=="string"?l(n).fill(i,o):l(n).fill(i):l(n)}u.alloc=function(n,i,o){return b(n,i,o)};function w(n){return p(n),l(n<0?0:x(n)|0)}u.allocUnsafe=function(n){return w(n)},u.allocUnsafeSlow=function(n){return w(n)};function _(n,i){if((typeof i!="string"||i==="")&&(i="utf8"),!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i);let o=B(n,i)|0,h=l(o),d=h.write(n,i);return d!==o&&(h=h.slice(0,d)),h}function E(n){let i=n.length<0?0:x(n.length)|0,o=l(i);for(let h=0;h<i;h+=1)o[h]=n[h]&255;return o}function v(n){if(le(n,Uint8Array)){let i=new Uint8Array(n);return S(i.buffer,i.byteOffset,i.byteLength)}return E(n)}function S(n,i,o){if(i<0||n.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');let h;return i===void 0&&o===void 0?h=new Uint8Array(n):o===void 0?h=new Uint8Array(n,i):h=new Uint8Array(n,i,o),Object.setPrototypeOf(h,u.prototype),h}function A(n){if(u.isBuffer(n)){let i=x(n.length)|0,o=l(i);return o.length===0||n.copy(o,0,0,i),o}if(n.length!==void 0)return typeof n.length!="number"||nt(n.length)?l(0):E(n);if(n.type==="Buffer"&&Array.isArray(n.data))return E(n.data)}function x(n){if(n>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return n|0}function C(n){return+n!=n&&(n=0),u.alloc(+n)}u.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==u.prototype},u.compare=function(n,i){if(le(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),le(i,Uint8Array)&&(i=u.from(i,i.offset,i.byteLength)),!u.isBuffer(n)||!u.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===i)return 0;let o=n.length,h=i.length;for(let d=0,g=Math.min(o,h);d<g;++d)if(n[d]!==i[d]){o=n[d],h=i[d];break}return o<h?-1:h<o?1:0},u.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(n,i){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return u.alloc(0);let o;if(i===void 0)for(i=0,o=0;o<n.length;++o)i+=n[o].length;let h=u.allocUnsafe(i),d=0;for(o=0;o<n.length;++o){let g=n[o];if(le(g,Uint8Array))d+g.length>h.length?(u.isBuffer(g)||(g=u.from(g)),g.copy(h,d)):Uint8Array.prototype.set.call(h,g,d);else if(u.isBuffer(g))g.copy(h,d);else throw new TypeError('"list" argument must be an Array of Buffers');d+=g.length}return h};function B(n,i){if(u.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||le(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);let o=n.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&o===0)return 0;let d=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return rt(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return qt(n).length;default:if(d)return h?-1:rt(n).length;i=(""+i).toLowerCase(),d=!0}}u.byteLength=B;function L(n,i,o){let h=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(n||(n="utf8");;)switch(n){case"hex":return rn(this,i,o);case"utf8":case"utf-8":return jt(this,i,o);case"ascii":return en(this,i,o);case"latin1":case"binary":return tn(this,i,o);case"base64":return Xr(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nn(this,i,o);default:if(h)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),h=!0}}u.prototype._isBuffer=!0;function z(n,i,o){let h=n[i];n[i]=n[o],n[o]=h}u.prototype.swap16=function(){let n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<n;i+=2)z(this,i,i+1);return this},u.prototype.swap32=function(){let n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<n;i+=4)z(this,i,i+3),z(this,i+1,i+2);return this},u.prototype.swap64=function(){let n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<n;i+=8)z(this,i,i+7),z(this,i+1,i+6),z(this,i+2,i+5),z(this,i+3,i+4);return this},u.prototype.toString=function(){let n=this.length;return n===0?"":arguments.length===0?jt(this,0,n):L.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(n){if(!u.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:u.compare(this,n)===0},u.prototype.inspect=function(){let n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(n,i,o,h,d){if(le(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),!u.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(i===void 0&&(i=0),o===void 0&&(o=n?n.length:0),h===void 0&&(h=0),d===void 0&&(d=this.length),i<0||o>n.length||h<0||d>this.length)throw new RangeError("out of range index");if(h>=d&&i>=o)return 0;if(h>=d)return-1;if(i>=o)return 1;if(i>>>=0,o>>>=0,h>>>=0,d>>>=0,this===n)return 0;let g=d-h,m=o-i,R=Math.min(g,m),W=this.slice(h,d),M=n.slice(i,o);for(let U=0;U<R;++U)if(W[U]!==M[U]){g=W[U],m=M[U];break}return g<m?-1:m<g?1:0};function V(n,i,o,h,d){if(n.length===0)return-1;if(typeof o=="string"?(h=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,nt(o)&&(o=d?0:n.length-1),o<0&&(o=n.length+o),o>=n.length){if(d)return-1;o=n.length-1}else if(o<0)if(d)o=0;else return-1;if(typeof i=="string"&&(i=u.from(i,h)),u.isBuffer(i))return i.length===0?-1:_e(n,i,o,h,d);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?d?Uint8Array.prototype.indexOf.call(n,i,o):Uint8Array.prototype.lastIndexOf.call(n,i,o):_e(n,[i],o,h,d);throw new TypeError("val must be string, number or Buffer")}function _e(n,i,o,h,d){let g=1,m=n.length,R=i.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(n.length<2||i.length<2)return-1;g=2,m/=2,R/=2,o/=2}function W(U,j){return g===1?U[j]:U.readUInt16BE(j*g)}let M;if(d){let U=-1;for(M=o;M<m;M++)if(W(n,M)===W(i,U===-1?0:M-U)){if(U===-1&&(U=M),M-U+1===R)return U*g}else U!==-1&&(M-=M-U),U=-1}else for(o+R>m&&(o=m-R),M=o;M>=0;M--){let U=!0;for(let j=0;j<R;j++)if(W(n,M+j)!==W(i,j)){U=!1;break}if(U)return M}return-1}u.prototype.includes=function(n,i,o){return this.indexOf(n,i,o)!==-1},u.prototype.indexOf=function(n,i,o){return V(this,n,i,o,!0)},u.prototype.lastIndexOf=function(n,i,o){return V(this,n,i,o,!1)};function et(n,i,o,h){o=Number(o)||0;let d=n.length-o;h?(h=Number(h),h>d&&(h=d)):h=d;let g=i.length;h>g/2&&(h=g/2);let m;for(m=0;m<h;++m){let R=parseInt(i.substr(m*2,2),16);if(nt(R))return m;n[o+m]=R}return m}function Ye(n,i,o,h){return Fe(rt(i,n.length-o),n,o,h)}function lr(n,i,o,h){return Fe(un(i),n,o,h)}function Pt(n,i,o,h){return Fe(qt(i),n,o,h)}function hr(n,i,o,h){return Fe(cn(i,n.length-o),n,o,h)}u.prototype.write=function(n,i,o,h){if(i===void 0)h="utf8",o=this.length,i=0;else if(o===void 0&&typeof i=="string")h=i,o=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(o)?(o=o>>>0,h===void 0&&(h="utf8")):(h=o,o=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-i;if((o===void 0||o>d)&&(o=d),n.length>0&&(o<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");let g=!1;for(;;)switch(h){case"hex":return et(this,n,i,o);case"utf8":case"utf-8":return Ye(this,n,i,o);case"ascii":case"latin1":case"binary":return lr(this,n,i,o);case"base64":return Pt(this,n,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hr(this,n,i,o);default:if(g)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),g=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Xr(n,i,o){return i===0&&o===n.length?e.fromByteArray(n):e.fromByteArray(n.slice(i,o))}function jt(n,i,o){o=Math.min(n.length,o);let h=[],d=i;for(;d<o;){let g=n[d],m=null,R=g>239?4:g>223?3:g>191?2:1;if(d+R<=o){let W,M,U,j;switch(R){case 1:g<128&&(m=g);break;case 2:W=n[d+1],(W&192)===128&&(j=(g&31)<<6|W&63,j>127&&(m=j));break;case 3:W=n[d+1],M=n[d+2],(W&192)===128&&(M&192)===128&&(j=(g&15)<<12|(W&63)<<6|M&63,j>2047&&(j<55296||j>57343)&&(m=j));break;case 4:W=n[d+1],M=n[d+2],U=n[d+3],(W&192)===128&&(M&192)===128&&(U&192)===128&&(j=(g&15)<<18|(W&63)<<12|(M&63)<<6|U&63,j>65535&&j<1114112&&(m=j))}}m===null?(m=65533,R=1):m>65535&&(m-=65536,h.push(m>>>10&1023|55296),m=56320|m&1023),h.push(m),d+=R}return Jr(h)}var Ft=4096;function Jr(n){let i=n.length;if(i<=Ft)return String.fromCharCode.apply(String,n);let o="",h=0;for(;h<i;)o+=String.fromCharCode.apply(String,n.slice(h,h+=Ft));return o}function en(n,i,o){let h="";o=Math.min(n.length,o);for(let d=i;d<o;++d)h+=String.fromCharCode(n[d]&127);return h}function tn(n,i,o){let h="";o=Math.min(n.length,o);for(let d=i;d<o;++d)h+=String.fromCharCode(n[d]);return h}function rn(n,i,o){let h=n.length;(!i||i<0)&&(i=0),(!o||o<0||o>h)&&(o=h);let d="";for(let g=i;g<o;++g)d+=ln[n[g]];return d}function nn(n,i,o){let h=n.slice(i,o),d="";for(let g=0;g<h.length-1;g+=2)d+=String.fromCharCode(h[g]+h[g+1]*256);return d}u.prototype.slice=function(n,i){let o=this.length;n=~~n,i=i===void 0?o:~~i,n<0?(n+=o,n<0&&(n=0)):n>o&&(n=o),i<0?(i+=o,i<0&&(i=0)):i>o&&(i=o),i<n&&(i=n);let h=this.subarray(n,i);return Object.setPrototypeOf(h,u.prototype),h};function K(n,i,o){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+i>o)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(n,i,o){n=n>>>0,i=i>>>0,o||K(n,i,this.length);let h=this[n],d=1,g=0;for(;++g<i&&(d*=256);)h+=this[n+g]*d;return h},u.prototype.readUintBE=u.prototype.readUIntBE=function(n,i,o){n=n>>>0,i=i>>>0,o||K(n,i,this.length);let h=this[n+--i],d=1;for(;i>0&&(d*=256);)h+=this[n+--i]*d;return h},u.prototype.readUint8=u.prototype.readUInt8=function(n,i){return n=n>>>0,i||K(n,1,this.length),this[n]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(n,i){return n=n>>>0,i||K(n,2,this.length),this[n]|this[n+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(n,i){return n=n>>>0,i||K(n,2,this.length),this[n]<<8|this[n+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(n,i){return n=n>>>0,i||K(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(n,i){return n=n>>>0,i||K(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},u.prototype.readBigUInt64LE=ge(function(n){n=n>>>0,Ae(n,"offset");let i=this[n],o=this[n+7];(i===void 0||o===void 0)&&Re(n,this.length-8);let h=i+this[++n]*2**8+this[++n]*2**16+this[++n]*2**24,d=this[++n]+this[++n]*2**8+this[++n]*2**16+o*2**24;return BigInt(h)+(BigInt(d)<<BigInt(32))}),u.prototype.readBigUInt64BE=ge(function(n){n=n>>>0,Ae(n,"offset");let i=this[n],o=this[n+7];(i===void 0||o===void 0)&&Re(n,this.length-8);let h=i*2**24+this[++n]*2**16+this[++n]*2**8+this[++n],d=this[++n]*2**24+this[++n]*2**16+this[++n]*2**8+o;return(BigInt(h)<<BigInt(32))+BigInt(d)}),u.prototype.readIntLE=function(n,i,o){n=n>>>0,i=i>>>0,o||K(n,i,this.length);let h=this[n],d=1,g=0;for(;++g<i&&(d*=256);)h+=this[n+g]*d;return d*=128,h>=d&&(h-=Math.pow(2,8*i)),h},u.prototype.readIntBE=function(n,i,o){n=n>>>0,i=i>>>0,o||K(n,i,this.length);let h=i,d=1,g=this[n+--h];for(;h>0&&(d*=256);)g+=this[n+--h]*d;return d*=128,g>=d&&(g-=Math.pow(2,8*i)),g},u.prototype.readInt8=function(n,i){return n=n>>>0,i||K(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},u.prototype.readInt16LE=function(n,i){n=n>>>0,i||K(n,2,this.length);let o=this[n]|this[n+1]<<8;return o&32768?o|4294901760:o},u.prototype.readInt16BE=function(n,i){n=n>>>0,i||K(n,2,this.length);let o=this[n+1]|this[n]<<8;return o&32768?o|4294901760:o},u.prototype.readInt32LE=function(n,i){return n=n>>>0,i||K(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},u.prototype.readInt32BE=function(n,i){return n=n>>>0,i||K(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},u.prototype.readBigInt64LE=ge(function(n){n=n>>>0,Ae(n,"offset");let i=this[n],o=this[n+7];(i===void 0||o===void 0)&&Re(n,this.length-8);let h=this[n+4]+this[n+5]*2**8+this[n+6]*2**16+(o<<24);return(BigInt(h)<<BigInt(32))+BigInt(i+this[++n]*2**8+this[++n]*2**16+this[++n]*2**24)}),u.prototype.readBigInt64BE=ge(function(n){n=n>>>0,Ae(n,"offset");let i=this[n],o=this[n+7];(i===void 0||o===void 0)&&Re(n,this.length-8);let h=(i<<24)+this[++n]*2**16+this[++n]*2**8+this[++n];return(BigInt(h)<<BigInt(32))+BigInt(this[++n]*2**24+this[++n]*2**16+this[++n]*2**8+o)}),u.prototype.readFloatLE=function(n,i){return n=n>>>0,i||K(n,4,this.length),r.read(this,n,!0,23,4)},u.prototype.readFloatBE=function(n,i){return n=n>>>0,i||K(n,4,this.length),r.read(this,n,!1,23,4)},u.prototype.readDoubleLE=function(n,i){return n=n>>>0,i||K(n,8,this.length),r.read(this,n,!0,52,8)},u.prototype.readDoubleBE=function(n,i){return n=n>>>0,i||K(n,8,this.length),r.read(this,n,!1,52,8)};function te(n,i,o,h,d,g){if(!u.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>d||i<g)throw new RangeError('"value" argument is out of bounds');if(o+h>n.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(n,i,o,h){if(n=+n,i=i>>>0,o=o>>>0,!h){let m=Math.pow(2,8*o)-1;te(this,n,i,o,m,0)}let d=1,g=0;for(this[i]=n&255;++g<o&&(d*=256);)this[i+g]=n/d&255;return i+o},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(n,i,o,h){if(n=+n,i=i>>>0,o=o>>>0,!h){let m=Math.pow(2,8*o)-1;te(this,n,i,o,m,0)}let d=o-1,g=1;for(this[i+d]=n&255;--d>=0&&(g*=256);)this[i+d]=n/g&255;return i+o},u.prototype.writeUint8=u.prototype.writeUInt8=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,1,255,0),this[i]=n&255,i+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,2,65535,0),this[i]=n&255,this[i+1]=n>>>8,i+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,2,65535,0),this[i]=n>>>8,this[i+1]=n&255,i+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,4,4294967295,0),this[i+3]=n>>>24,this[i+2]=n>>>16,this[i+1]=n>>>8,this[i]=n&255,i+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,4,4294967295,0),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4};function $t(n,i,o,h,d){Gt(i,h,d,n,o,7);let g=Number(i&BigInt(4294967295));n[o++]=g,g=g>>8,n[o++]=g,g=g>>8,n[o++]=g,g=g>>8,n[o++]=g;let m=Number(i>>BigInt(32)&BigInt(4294967295));return n[o++]=m,m=m>>8,n[o++]=m,m=m>>8,n[o++]=m,m=m>>8,n[o++]=m,o}function Zt(n,i,o,h,d){Gt(i,h,d,n,o,7);let g=Number(i&BigInt(4294967295));n[o+7]=g,g=g>>8,n[o+6]=g,g=g>>8,n[o+5]=g,g=g>>8,n[o+4]=g;let m=Number(i>>BigInt(32)&BigInt(4294967295));return n[o+3]=m,m=m>>8,n[o+2]=m,m=m>>8,n[o+1]=m,m=m>>8,n[o]=m,o+8}u.prototype.writeBigUInt64LE=ge(function(n,i=0){return $t(this,n,i,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=ge(function(n,i=0){return Zt(this,n,i,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(n,i,o,h){if(n=+n,i=i>>>0,!h){let R=Math.pow(2,8*o-1);te(this,n,i,o,R-1,-R)}let d=0,g=1,m=0;for(this[i]=n&255;++d<o&&(g*=256);)n<0&&m===0&&this[i+d-1]!==0&&(m=1),this[i+d]=(n/g>>0)-m&255;return i+o},u.prototype.writeIntBE=function(n,i,o,h){if(n=+n,i=i>>>0,!h){let R=Math.pow(2,8*o-1);te(this,n,i,o,R-1,-R)}let d=o-1,g=1,m=0;for(this[i+d]=n&255;--d>=0&&(g*=256);)n<0&&m===0&&this[i+d+1]!==0&&(m=1),this[i+d]=(n/g>>0)-m&255;return i+o},u.prototype.writeInt8=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,1,127,-128),n<0&&(n=255+n+1),this[i]=n&255,i+1},u.prototype.writeInt16LE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,2,32767,-32768),this[i]=n&255,this[i+1]=n>>>8,i+2},u.prototype.writeInt16BE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,2,32767,-32768),this[i]=n>>>8,this[i+1]=n&255,i+2},u.prototype.writeInt32LE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,4,2147483647,-2147483648),this[i]=n&255,this[i+1]=n>>>8,this[i+2]=n>>>16,this[i+3]=n>>>24,i+4},u.prototype.writeInt32BE=function(n,i,o){return n=+n,i=i>>>0,o||te(this,n,i,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4},u.prototype.writeBigInt64LE=ge(function(n,i=0){return $t(this,n,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=ge(function(n,i=0){return Zt(this,n,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Dt(n,i,o,h,d,g){if(o+h>n.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function zt(n,i,o,h,d){return i=+i,o=o>>>0,d||Dt(n,i,o,4),r.write(n,i,o,h,23,4),o+4}u.prototype.writeFloatLE=function(n,i,o){return zt(this,n,i,!0,o)},u.prototype.writeFloatBE=function(n,i,o){return zt(this,n,i,!1,o)};function Vt(n,i,o,h,d){return i=+i,o=o>>>0,d||Dt(n,i,o,8),r.write(n,i,o,h,52,8),o+8}u.prototype.writeDoubleLE=function(n,i,o){return Vt(this,n,i,!0,o)},u.prototype.writeDoubleBE=function(n,i,o){return Vt(this,n,i,!1,o)},u.prototype.copy=function(n,i,o,h){if(!u.isBuffer(n))throw new TypeError("argument should be a Buffer");if(o||(o=0),!h&&h!==0&&(h=this.length),i>=n.length&&(i=n.length),i||(i=0),h>0&&h<o&&(h=o),h===o||n.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),n.length-i<h-o&&(h=n.length-i+o);let d=h-o;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,o,h):Uint8Array.prototype.set.call(n,this.subarray(o,h),i),d},u.prototype.fill=function(n,i,o,h){if(typeof n=="string"){if(typeof i=="string"?(h=i,i=0,o=this.length):typeof o=="string"&&(h=o,o=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!u.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(n.length===1){let g=n.charCodeAt(0);(h==="utf8"&&g<128||h==="latin1")&&(n=g)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(i<0||this.length<i||this.length<o)throw new RangeError("Out of range index");if(o<=i)return this;i=i>>>0,o=o===void 0?this.length:o>>>0,n||(n=0);let d;if(typeof n=="number")for(d=i;d<o;++d)this[d]=n;else{let g=u.isBuffer(n)?n:u.from(n,h),m=g.length;if(m===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(d=0;d<o-i;++d)this[d+i]=g[d%m]}return this};var Se={};function tt(n,i,o){Se[n]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(h){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:h,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}tt("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),tt("ERR_INVALID_ARG_TYPE",function(n,i){return`The "${n}" argument must be of type number. Received type ${typeof i}`},TypeError),tt("ERR_OUT_OF_RANGE",function(n,i,o){let h=`The value of "${n}" is out of range.`,d=o;return Number.isInteger(o)&&Math.abs(o)>2**32?d=Wt(String(o)):typeof o=="bigint"&&(d=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(d=Wt(d)),d+="n"),h+=` It must be ${i}. Received ${d}`,h},RangeError);function Wt(n){let i="",o=n.length,h=n[0]==="-"?1:0;for(;o>=h+4;o-=3)i=`_${n.slice(o-3,o)}${i}`;return`${n.slice(0,o)}${i}`}function sn(n,i,o){Ae(i,"offset"),(n[i]===void 0||n[i+o]===void 0)&&Re(i,n.length-(o+1))}function Gt(n,i,o,h,d,g){if(n>o||n<i){let m=typeof i=="bigint"?"n":"",R;throw i===0||i===BigInt(0)?R=`>= 0${m} and < 2${m} ** ${(g+1)*8}${m}`:R=`>= -(2${m} ** ${(g+1)*8-1}${m}) and < 2 ** ${(g+1)*8-1}${m}`,new Se.ERR_OUT_OF_RANGE("value",R,n)}sn(h,d,g)}function Ae(n,i){if(typeof n!="number")throw new Se.ERR_INVALID_ARG_TYPE(i,"number",n)}function Re(n,i,o){throw Math.floor(n)!==n?(Ae(n,o),new Se.ERR_OUT_OF_RANGE("offset","an integer",n)):i<0?new Se.ERR_BUFFER_OUT_OF_BOUNDS:new Se.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${i}`,n)}var an=/[^+/0-9A-Za-z-_]/g;function on(n){if(n=n.split("=")[0],n=n.trim().replace(an,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function rt(n,i){i=i||1/0;let o,h=n.length,d=null,g=[];for(let m=0;m<h;++m){if(o=n.charCodeAt(m),o>55295&&o<57344){if(!d){if(o>56319){(i-=3)>-1&&g.push(239,191,189);continue}else if(m+1===h){(i-=3)>-1&&g.push(239,191,189);continue}d=o;continue}if(o<56320){(i-=3)>-1&&g.push(239,191,189),d=o;continue}o=(d-55296<<10|o-56320)+65536}else d&&(i-=3)>-1&&g.push(239,191,189);if(d=null,o<128){if((i-=1)<0)break;g.push(o)}else if(o<2048){if((i-=2)<0)break;g.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;g.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;g.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return g}function un(n){let i=[];for(let o=0;o<n.length;++o)i.push(n.charCodeAt(o)&255);return i}function cn(n,i){let o,h,d,g=[];for(let m=0;m<n.length&&!((i-=2)<0);++m)o=n.charCodeAt(m),h=o>>8,d=o%256,g.push(d),g.push(h);return g}function qt(n){return e.toByteArray(on(n))}function Fe(n,i,o,h){let d;for(d=0;d<h&&!(d+o>=i.length||d>=n.length);++d)i[d+o]=n[d];return d}function le(n,i){return n instanceof i||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===i.name}function nt(n){return n!==n}var ln=function(){let n="0123456789abcdef",i=new Array(256);for(let o=0;o<16;++o){let h=o*16;for(let d=0;d<16;++d)i[h+d]=n[o]+n[d]}return i}();function ge(n){return typeof BigInt>"u"?hn:n}function hn(){throw new Error("BigInt not supported")}}),My=Nt((t,e)=>{typeof window<"u"?(window.global=window,global.fetch=window.fetch,e.exports={Buffer:qs().Buffer,Crypto:window.crypto}):e.exports={Buffer:qs().Buffer,Crypto:crypto}}),lc={};Oy(lc,{AVSCTap:()=>os,ArweaveSigner:()=>Ra,DataItem:()=>Hi,MAX_TAG_BYTES:()=>Ca,MIN_BINARY_SIZE:()=>gc,SIG_CONFIG:()=>ai,SignatureConfig:()=>Ke,Signer:()=>Ny,createData:()=>mc,deserializeTags:()=>Hs,indexToType:()=>dc,serializeTags:()=>pc,tagsExceedLimit:()=>zy});var Ny=class{constructor(){F(this,"signer");F(this,"publicKey");F(this,"signatureType");F(this,"signatureLength");F(this,"ownerLength");F(this,"pem")}static verify(t,e,r,s){throw new Error("You must implement verify method on child")}},Py=Tr(Ia()),gt=Tr(cc());async function hc(t){if(Array.isArray(t)){let a=(0,gt.concatBuffers)([(0,gt.stringToBuffer)("list"),(0,gt.stringToBuffer)(t.length.toString())]);return await fc(t,await Rt().hash(a,"SHA-384"))}let e=t,r=(0,gt.concatBuffers)([(0,gt.stringToBuffer)("blob"),(0,gt.stringToBuffer)(e.byteLength.toString())]),s=(0,gt.concatBuffers)([await Rt().hash(r,"SHA-384"),await Rt().hash(e,"SHA-384")]);return await Rt().hash(s,"SHA-384")}async function fc(t,e){if(t.length<1)return e;let r=(0,gt.concatBuffers)([e,await hc(t[0])]),s=await Rt().hash(r,"SHA-384");return await fc(t.slice(1),s)}var vs=Tr(Ly()),jy=vs.default.default?vs.default.default:vs.default,Fy=class extends jy{getPublicKey(t){throw new Error("Unimplemented")}},$y;function Rt(){return $y??($y=new Fy)}var Ke;(function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"})(Ke||(Ke={}));var ai={[Ke.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[Ke.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[Ke.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[Ke.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[Ke.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[Ke.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[Ke.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}},Ra=class{constructor(t){F(this,"signatureType",1);F(this,"ownerLength",ai[1].pubLength);F(this,"signatureLength",ai[1].sigLength);F(this,"jwk");F(this,"pk");this.pk=t.n,this.jwk=t}get publicKey(){return Py.default.toBuffer(this.pk)}sign(t){return Rt().sign(this.jwk,t)}static async verify(t,e,r){return await Rt().verify(t,e,r)}},dc={1:Ra},bt=Tr(Ia());async function Ks(t){return hc([(0,gt.stringToBuffer)("dataitem"),(0,gt.stringToBuffer)("1"),(0,gt.stringToBuffer)(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])}async function Zy(t,e){let r=await Ks(t),s=await e.sign(r),a=await Rt().hash(s);return{signature:Buffer.from(s),id:Buffer.from(a)}}async function Dy(t,e){let{signature:r,id:s}=await Zy(t,e);return t.getRaw().set(r,2),s}var os=class{constructor(t=Buffer.alloc(Ca),e=0){F(this,"buf");F(this,"pos");this.buf=t,this.pos=e}writeTags(t){if(!Array.isArray(t))throw new Error("input must be array");let e=t.length,r;if(e)for(this.writeLong(e),r=0;r<e;r++){let s=t[r];if((s==null?void 0:s.name)===void 0||(s==null?void 0:s.value)===void 0)throw new Error(`Invalid tag format for ${s}, expected {name:string, value: string}`);this.writeString(s.name),this.writeString(s.value)}this.writeLong(0)}toBuffer(){let t=Buffer.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(t,0,0,this.pos),t}tagsExceedLimit(){return this.pos>this.buf.length}writeLong(t){let e=this.buf,r,s;if(t>=-1073741824&&t<1073741824){s=t>=0?t<<1:~t<<1|1;do e[this.pos]=s&127,s>>=7;while(s&&(e[this.pos++]|=128))}else{r=t>=0?t*2:-t*2-1;do e[this.pos]=r&127,r/=128;while(r>=1&&(e[this.pos++]|=128))}this.pos++,this.buf=e}writeString(t){let e=Buffer.byteLength(t),r=this.buf;this.writeLong(e);let s=this.pos;if(this.pos+=e,!(this.pos>r.length)){if(e>64)this.buf.write(t,this.pos-e,e,"utf8");else{let a,c,l,u;for(a=0,c=e;a<c;a++)l=t.charCodeAt(a),l<128?r[s++]=l:l<2048?(r[s++]=l>>6|192,r[s++]=l&63|128):(l&64512)===55296&&((u=t.charCodeAt(a+1))&64512)===56320?(l=65536+((l&1023)<<10)+(u&1023),a++,r[s++]=l>>18|240,r[s++]=l>>12&63|128,r[s++]=l>>6&63|128,r[s++]=l&63|128):(r[s++]=l>>12|224,r[s++]=l>>6&63|128,r[s++]=l&63|128)}this.buf=r}}readLong(){let t=0,e=0,r=this.buf,s,a,c,l;do s=r[this.pos++],a=s&128,t|=(s&127)<<e,e+=7;while(a&&e<28);if(a){c=t,l=268435456;do s=r[this.pos++],c+=(s&127)*l,l*=128;while(s&128);return(c%2?-(c+1):c)/2}return t>>1^-(t&1)}skipLong(){let t=this.buf;for(;t[this.pos++]&128;);}readTags(){let t=[],e;for(;e=this.readLong();)for(e<0&&(e=-e,this.skipLong());e--;){let r=this.readString(),s=this.readString();t.push({name:r,value:s})}return t}readString(){let t=this.readLong(),e=this.pos,r=this.buf;if(this.pos+=t,!(this.pos>r.length))return this.buf.slice(e,e+t).toString()}};function pc(t){let e=new os;return e.writeTags(t),e.toBuffer()}function zy(t){let e=new os;return e.writeTags(t),e.tagsExceedLimit()}function Hs(t){return new os(t).readTags()}function Ht(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r];return e}function Vy(t){if(t>29)throw new Error("Short too long");let e=[0,0];for(let r=0;r<e.length;r++){let s=t&255;e[r]=s,t=(t-s)/256}return Uint8Array.from(e)}function uo(t){let e=[0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++){let s=t&255;e[r]=s,t=(t-s)/256}return Uint8Array.from(e)}var Wy=Tr(My()),Br=Tr(qs()),Ca=4096,gc=80,Hi=class{constructor(t){F(this,"binary");F(this,"_id");this.binary=t}static isDataItem(t){return t.binary!==void 0}get signatureType(){let t=Ht(this.binary.subarray(0,2));if((Ke==null?void 0:Ke[t])!==void 0)return t;throw new Error("Unknown signature type: "+t)}async isValid(){return Hi.verify(this.binary)}get id(){return(async()=>bt.default.encode(await this.rawId))()}set id(t){this._id=bt.default.toBuffer(t)}get rawId(){return(async()=>Br.Buffer.from(await Wy.Crypto.subtle.digest("SHA-256",this.rawSignature)))()}set rawId(t){this._id=t}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return bt.default.encode(this.rawSignature)}set rawOwner(t){if(t.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${t.byteLength} bytes.`);this.binary.set(t,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return ai[this.signatureType].sigLength}get owner(){return bt.default.encode(this.rawOwner)}get ownerLength(){return ai[this.signatureType].pubLength}get rawTarget(){let t=this.getTargetStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):Br.Buffer.alloc(0)}get target(){return bt.default.encode(this.rawTarget)}get rawAnchor(){let t=this.getAnchorStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):Br.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){let t=this.getTagsStart(),e=Ht(this.binary.subarray(t+8,t+16));return this.binary.subarray(t+16,t+16+e)}get tags(){let t=this.getTagsStart();if(Ht(this.binary.subarray(t,t+8))==0)return[];let e=Ht(this.binary.subarray(t+8,t+16));return Hs(Br.Buffer.from(this.binary.subarray(t+16,t+16+e)))}get tagsB64Url(){return this.tags.map(t=>({name:bt.default.encode(t.name),value:bt.default.encode(t.value)}))}getStartOfData(){let t=this.getTagsStart(),e=this.binary.subarray(t+8,t+16),r=Ht(e);return t+16+r}get rawData(){let t=this.getTagsStart(),e=this.binary.subarray(t+8,t+16),r=Ht(e),s=t+16+r;return this.binary.subarray(s,this.binary.length)}get data(){return bt.default.encode(this.rawData)}getRaw(){return this.binary}async sign(t){return this._id=await Dy(this,t),this.rawId}async setSignature(t){this.binary.set(t,2),this._id=Br.Buffer.from(await Rt().hash(t))}isSigned(){var t;return(((t=this._id)==null?void 0:t.length)??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(t=>({name:bt.default.encode(t.name),value:bt.default.encode(t.value)})),data:this.data}}static async verify(t){if(t.byteLength<gc)return!1;let e=new Hi(t),r=e.signatureType,s=e.getTagsStart(),a=Ht(t.subarray(s,s+8)),c=t.subarray(s+8,s+16),l=Ht(c);if(l>Ca)return!1;if(a>0)try{if(Hs(Br.Buffer.from(t.subarray(s+16,s+16+l))).length!==a)return!1}catch{return!1}let u=dc[r],f=await Ks(e);return await u.verify(e.rawOwner,f,e.rawSignature)}async getSignatureData(){return Ks(this)}getTagsStart(){let t=this.getTargetStart(),e=this.binary[t]==1,r=t+(e?33:1),s=this.binary[r]==1;return r+=s?33:1,r}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let t=this.getTargetStart()+1,e=this.binary[this.getTargetStart()]==1;return t+=e?32:0,t}},Gy=Tr(Ia());function mc(t,e,r){var B,L;let s=e.publicKey,a=r!=null&&r.target?Gy.default.toBuffer(r.target):null,c=1+((a==null?void 0:a.byteLength)??0),l=r!=null&&r.anchor?Buffer.from(r.anchor):null,u=1+((l==null?void 0:l.byteLength)??0),f=(((B=r==null?void 0:r.tags)==null?void 0:B.length)??0)>0?pc(r.tags):null,p=16+(f?f.byteLength:0),b=Buffer.from(t),w=b.byteLength,_=2+e.signatureLength+e.ownerLength+c+u+p+w,E=Buffer.alloc(_);if(E.set(Vy(e.signatureType),0),E.set(new Uint8Array(e.signatureLength).fill(0),2),s.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${s.byteLength}`);E.set(s,2+e.signatureLength);let v=2+e.signatureLength+e.ownerLength;if(E[v]=a?1:0,a){if(a.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${a.byteLength}`);E.set(a,v+1)}let S=v+c,A=S+1;if(E[S]=l?1:0,l){if(A+=l.byteLength,l.byteLength!==32)throw new Error("Anchor must be 32 bytes");E.set(l,S+1)}E.set(uo(((L=r==null?void 0:r.tags)==null?void 0:L.length)??0),A);let x=uo((f==null?void 0:f.byteLength)??0);E.set(x,A+8),f&&E.set(f,A+16);let C=A+p;return E.set(b,C),new Hi(E)}var qy={...lc};globalThis.arbundles??(globalThis.arbundles=qy);/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/class Ky{constructor(){F(this,"button");F(this,"modal");F(this,"shareLinks");F(this,"currentURL");this.currentURL=window.location.href,this.button=document.getElementById("share"),this.modal=document.createElement("div"),this.shareLinks=[{name:"Facebook",icon:"📘",href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(this.currentURL)}`},{name:"Twitter",icon:"🐦",href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(this.currentURL)}&text=Check out this page!`},{name:"LinkedIn",icon:"💼",href:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(this.currentURL)}&title=Check out this page!`},{name:"WhatsApp",icon:"📱",href:`https://wa.me/?text=${encodeURIComponent(`Check out this page! ${this.currentURL}`)}`},{name:"Pinterest",icon:"📌",href:`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(this.currentURL)}&description=Check out this page!`},{name:"Reddit",icon:"🔥",href:`https://reddit.com/submit?url=${encodeURIComponent(this.currentURL)}&title=Check out this page!`},{name:"Telegram",icon:"✈️",href:`https://t.me/share/url?url=${encodeURIComponent(this.currentURL)}&text=Check out this page!`},{name:"Email",icon:"📧",href:`mailto:?subject=${encodeURIComponent("Check out this page!")}&body=${encodeURIComponent(`I found this page interesting and thought you might like it: ${this.currentURL}`)}`}],this.init()}init(){this.createModal(),this.attachEventListeners()}createModal(){this.modal.className="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4 hidden",this.modal.innerHTML=`
      <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md m-4">
        <button id="closeModal" class="text-gray-500 hover:text-gray-700 text-2xl font-bold cursor-pointer float-right">&times;</button>
        <h2 class="text-2xl font-bold mb-4 text-gray-800">Share this page</h2>
        <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
          ${this.shareLinks.map(e=>`
            <a href="${e.href}" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 px-3 rounded-full transition duration-300 ease-in-out">
              ${e.icon} <span class="text-sm">${e.name}</span>
            </a>
          `).join("")}
        </div>
        <button id="copyLink" class="w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out">
          🔗 Copy Link
        </button>
      </div>
    `,document.body.appendChild(this.modal)}attachEventListeners(){var e,r;this.button.addEventListener("click",()=>this.openModal()),(e=this.modal.querySelector("#closeModal"))==null||e.addEventListener("click",()=>this.closeModal()),this.modal.addEventListener("click",s=>{s.target===this.modal&&this.closeModal()}),(r=this.modal.querySelector("#copyLink"))==null||r.addEventListener("click",()=>this.copyLink())}openModal(){this.modal.classList.remove("hidden")}closeModal(){this.modal.classList.add("hidden")}copyLink(){navigator.clipboard.writeText(this.currentURL).then(()=>{alert("Link copied to clipboard!")}).catch(e=>{console.error("Error copying link:",e)})}}/**
 * uuidv7: A JavaScript implementation of UUID version 7
 *
 * Copyright 2021-2024 LiosK
 *
 * @license Apache-2.0
 * @packageDocumentation
 */const mi="0123456789abcdef";class fr{constructor(e){this.bytes=e}static ofInner(e){if(e.length!==16)throw new TypeError("not 128-bit length");return new fr(e)}static fromFieldsV7(e,r,s,a){if(!Number.isInteger(e)||!Number.isInteger(r)||!Number.isInteger(s)||!Number.isInteger(a)||e<0||r<0||s<0||a<0||e>0xffffffffffff||r>4095||s>1073741823||a>4294967295)throw new RangeError("invalid field value");const c=new Uint8Array(16);return c[0]=e/2**40,c[1]=e/2**32,c[2]=e/2**24,c[3]=e/2**16,c[4]=e/2**8,c[5]=e,c[6]=112|r>>>8,c[7]=r,c[8]=128|s>>>24,c[9]=s>>>16,c[10]=s>>>8,c[11]=s,c[12]=a>>>24,c[13]=a>>>16,c[14]=a>>>8,c[15]=a,new fr(c)}static parse(e){var r,s,a,c;let l;switch(e.length){case 32:l=(r=/^[0-9a-f]{32}$/i.exec(e))===null||r===void 0?void 0:r[0];break;case 36:l=(s=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e))===null||s===void 0?void 0:s.slice(1,6).join("");break;case 38:l=(a=/^\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\}$/i.exec(e))===null||a===void 0?void 0:a.slice(1,6).join("");break;case 45:l=(c=/^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e))===null||c===void 0?void 0:c.slice(1,6).join("");break}if(l){const u=new Uint8Array(16);for(let f=0;f<16;f+=4){const p=parseInt(l.substring(2*f,2*f+8),16);u[f+0]=p>>>24,u[f+1]=p>>>16,u[f+2]=p>>>8,u[f+3]=p}return new fr(u)}else throw new SyntaxError("could not parse UUID string")}toString(){let e="";for(let r=0;r<this.bytes.length;r++)e+=mi.charAt(this.bytes[r]>>>4),e+=mi.charAt(this.bytes[r]&15),(r===3||r===5||r===7||r===9)&&(e+="-");return e}toHex(){let e="";for(let r=0;r<this.bytes.length;r++)e+=mi.charAt(this.bytes[r]>>>4),e+=mi.charAt(this.bytes[r]&15);return e}toJSON(){return this.toString()}getVariant(){const e=this.bytes[8]>>>4;if(e<0)throw new Error("unreachable");if(e<=7)return this.bytes.every(r=>r===0)?"NIL":"VAR_0";if(e<=11)return"VAR_10";if(e<=13)return"VAR_110";if(e<=15)return this.bytes.every(r=>r===255)?"MAX":"VAR_RESERVED";throw new Error("unreachable")}getVersion(){return this.getVariant()==="VAR_10"?this.bytes[6]>>>4:void 0}clone(){return new fr(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(let r=0;r<16;r++){const s=this.bytes[r]-e.bytes[r];if(s!==0)return Math.sign(s)}return 0}}class Hy{constructor(e){this.timestamp=0,this.counter=0,this.random=e??Yy()}generate(){return this.generateOrResetCore(Date.now(),1e4)}generateOrAbort(){return this.generateOrAbortCore(Date.now(),1e4)}generateOrResetCore(e,r){let s=this.generateOrAbortCore(e,r);return s===void 0&&(this.timestamp=0,s=this.generateOrAbortCore(e,r)),s}generateOrAbortCore(e,r){if(!Number.isInteger(e)||e<1||e>0xffffffffffff)throw new RangeError("`unixTsMs` must be a 48-bit positive integer");if(r<0||r>0xffffffffffff)throw new RangeError("`rollbackAllowance` out of reasonable range");if(e>this.timestamp)this.timestamp=e,this.resetCounter();else if(e+r>=this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return fr.fromFieldsV7(this.timestamp,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}generateV4(){const e=new Uint8Array(Uint32Array.of(this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32()).buffer);return e[6]=64|e[6]>>>4,e[8]=128|e[8]>>>2,fr.ofInner(e)}}const Yy=()=>{if(typeof crypto<"u"&&typeof crypto.getRandomValues<"u")return new Qy;if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");return{nextUint32:()=>Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536)}};class Qy{constructor(){this.buffer=new Uint32Array(8),this.cursor=65535}nextUint32(){return this.cursor>=this.buffer.length&&(crypto.getRandomValues(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}let co;const Xy=()=>Jy().toString(),Jy=()=>(co||(co=new Hy)).generate();var lo,Ys,ho,Qs;const yc="nMM8c6RbcZ-ZXwhM2jVPOfDpT2cGTu-JHT7fFx05_iQ";window.onload=async()=>{const t=performance.getEntriesByType("navigation")[0],e=t.domContentLoadedEventEnd-t.startTime;console.log(`Page Load Time: ${e}ms`);const r=Date.now(),s=Ey.getParser(window.navigator.userAgent),a=Intl.DateTimeFormat().resolvedOptions().timeZone,c=[];window.Arweave&&c.push("arweave"),window.solana&&c.push("solana"),window.ethereum&&c.push("ethereum"),console.log(`Wallet: ${c}`);const l=document.querySelector('meta[name="uuid"]')||"";Ys=Xy();const u=document.querySelector('meta[name="arns_name"]')||"";try{ho=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(p){console.error("Error fetching IP address:",p)}lo=(await Sy()).privateKey,Qs=ev(JSON.parse(JSON.stringify(lo)));const f=await ac({signer:Qs,process:yc,tags:[{name:"Action",value:"register_view"},{name:"id",value:l.toString()},{name:"pageid",value:Ys},{name:"date",value:JSON.stringify(r)},{name:"browser",value:s.getBrowserName()},{name:"os",value:s.getOSName()},{name:"ip",value:ho},{name:"timezone",value:a},{name:"wallet",value:c.toString()},{name:"name",value:u.toString()}]});console.log(f)};function ev(t){return async({data:r,tags:s,target:a,anchor:c})=>{const l=new Ra(t),u=mc(r,l,{tags:s,target:a,anchor:c});return u.sign(l).then(async()=>({id:await u.id,raw:await u.getRaw()}))}}document.addEventListener("DOMContentLoaded",async()=>{new Ky,document.addEventListener("click",async t=>{if(t.target&&(t.target.tagName==="BUTTON"&&(t.target.id==="create"&&window.open("https://arweave.net/","_blank"),t.target.id),t.target.tagName==="A")){const e=t.target,r=e.getAttribute("id")||"",s=e.getAttribute("data-name")||"",a=ac({signer:Qs,process:yc,tags:[{name:"Action",value:"register_click"},{name:"id",value:r},{name:"pageid",value:Ys},{name:"date",value:JSON.stringify(Date.now())},{name:"name",value:s}]});console.log(a)}})});
